/*! For license information please see main.82c88c85.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,n)=>{t.exports=n(202)},122:t=>{t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(s=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}},153:(t,e,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,r)&&!l.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:s,_owner:a.current}}e.jsx=c,e.jsxs=c},202:(t,e)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||g}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,p(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,r){var i,s={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,i)&&!E.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function D(t,e,i,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=t),t=""===s?"."+I(l,0):s,_(o)?(i="",null!=t&&(i=t.replace(C,"$&/")+"/"),D(o,e,i,"",(function(t){return t}))):null!=o&&(T(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",_(t))for(var c=0;c<t.length;c++){var u=s+I(a=t[c],c);l+=D(a,e,i,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=D(a=a.value,e,i,u=s+I(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function O(t,e,n){if(null==t)return t;var r=[],i=0;return D(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function M(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var A={current:null},N={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};function R(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.act=R,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=p({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=R,e.useCallback=function(t,e){return A.current.useCallback(t,e)},e.useContext=function(t){return A.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return A.current.useDeferredValue(t)},e.useEffect=function(t,e){return A.current.useEffect(t,e)},e.useId=function(){return A.current.useId()},e.useImperativeHandle=function(t,e,n){return A.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return A.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return A.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return A.current.useMemo(t,e)},e.useReducer=function(t,e,n){return A.current.useReducer(t,e,n)},e.useRef=function(t){return A.current.useRef(t)},e.useState=function(t){return A.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return A.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return A.current.useTransition()},e.version="18.3.1"},234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<s(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<i&&0>s(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,g=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function _(t){if(m=!1,w(t),!p)if(null!==r(c))p=!0,N(x);else{var e=r(u);null!==e&&P(_,e.startTime-t)}}function x(t,n){p=!1,m&&(m=!1,v(T),T=-1),g=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||t&&!D());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,T=-1,C=5,I=-1;function D(){return!(e.unstable_now()-I<C)}function O(){if(null!==k){var t=e.unstable_now();I=t;var n=!0;try{n=k(!0,t)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,A=M.port2;M.port1.onmessage=O,S=function(){A.postMessage(null)}}else S=function(){y(O,0)};function N(t){k=t,E||(E=!0,S())}function P(t,n){T=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,N(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===r(c)&&t===r(u)&&(m?(v(T),T=-1):m=!0,P(_,s-o))):(t.sortIndex=a,n(c,t),p||g||(p=!0,N(x))),t},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},579:(t,e,n)=>{t.exports=n(153)},730:(t,e,n)=>{var r=n(43),i=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function p(t,e,n,r,i,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new p(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new p(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new p(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new p(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new p(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new p(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new p(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new p(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new p(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(g,t)||!h.call(f,t)&&(d.test(t)?g[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new p(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new p(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new p(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new p(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new p(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=P&&t[P]||t["@@iterator"])?t:null}var L,F=Object.assign;function z(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function j(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function U(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=j(t.type,!1);case 11:return t=j(t.type.render,!1);case 1:return t=j(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case x:return"Portal";case k:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case M:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function $(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(bi){return t.body}}function G(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=$(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=$(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,$(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:$(n)}}function st(t,e){var n=$(e.value),r=$(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function pt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,St=null,Et=null;function kt(t){if(t=wi(t)){if("function"!==typeof xt)throw Error(s(280));var e=t.stateNode;e&&(e=xi(e),xt(t.stateNode,t.type,e))}}function Tt(t){St?Et?Et.push(t):Et=[t]:St=t}function Ct(){if(St){var t=St,e=Et;if(Et=St=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function It(t,e){return t(e)}function Dt(){}var Ot=!1;function Mt(t,e,n){if(Ot)return t(e,n);Ot=!0;try{return It(t,e,n)}finally{Ot=!1,(null!==St||null!==Et)&&(Dt(),Ct())}}function At(t,e){var n=t.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Nt=!1;if(u)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch(ut){Nt=!1}function Rt(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,zt=!1,Vt=null,jt={onError:function(t){Lt=!0,Ft=t}};function Ut(t,e,n,r,i,s,o,a,l){Lt=!1,Ft=null,Rt.apply(jt,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function $t(t){if(Bt(t)!==t)throw Error(s(188))}function Wt(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $t(i),t;if(o===r)return $t(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),null!==t?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=i.unstable_scheduleCallback,Qt=i.unstable_cancelCallback,Gt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Xt=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=he(a):0!==(s&=o)&&(r=he(s))}else 0!==(o=n&~i)?r=he(o):0!==s&&(r=he(s));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(s=e&-e)||16===i&&0!==(4194240&s)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-oe(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function pe(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,xe,Se,Ee,ke,Te=!1,Ce=[],Ie=null,De=null,Oe=null,Me=new Map,Ae=new Map,Ne=[],Pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":De=null;break;case"mouseover":case"mouseout":Oe=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ae.delete(e.pointerId)}}function Le(t,e,n,r,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=wi(e))&&xe(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=vi(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void ke(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ge(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wi(n))&&xe(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,e.shift()}return!0}function Ve(t,e,n){ze(t)&&n.delete(e)}function je(){Te=!1,null!==Ie&&ze(Ie)&&(Ie=null),null!==De&&ze(De)&&(De=null),null!==Oe&&ze(Oe)&&(Oe=null),Me.forEach(Ve),Ae.forEach(Ve)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,je)))}function Be(t){function e(e){return Ue(e,t)}if(0<Ce.length){Ue(Ce[0],t);for(var n=1;n<Ce.length;n++){var r=Ce[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ie&&Ue(Ie,t),null!==De&&Ue(De,t),null!==Oe&&Ue(Oe,t),Me.forEach(e),Ae.forEach(e),n=0;n<Ne.length;n++)(r=Ne[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)Fe(n),null===n.blockedOn&&Ne.shift()}var He=w.ReactCurrentBatchConfig,$e=!0;function We(t,e,n,r){var i=be,s=He.transition;He.transition=null;try{be=1,Ke(t,e,n,r)}finally{be=i,He.transition=s}}function qe(t,e,n,r){var i=be,s=He.transition;He.transition=null;try{be=4,Ke(t,e,n,r)}finally{be=i,He.transition=s}}function Ke(t,e,n,r){if($e){var i=Ge(t,e,n,r);if(null===i)$r(t,e,r,Qe,n),Re(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ie=Le(Ie,t,e,n,r,i),!0;case"dragenter":return De=Le(De,t,e,n,r,i),!0;case"mouseover":return Oe=Le(Oe,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Me.set(s,Le(Me.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ae.set(s,Le(Ae.get(s)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Re(t,r),4&e&&-1<Pe.indexOf(t)){for(;null!==i;){var s=wi(i);if(null!==s&&_e(s),null===(s=Ge(t,e,n,r))&&$r(t,e,r,Qe,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(t,e,r,null,n)}}var Qe=null;function Ge(t,e,n,r){if(Qe=null,null!==(t=vi(t=_t(r))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,r=n.length,i="value"in Xe?Xe.value:Xe.textContent,s=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[s-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,r,i,s){for(var o in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),gn=sn(fn),pn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function kn(){return En}var Tn=F({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=sn(Tn),In=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Mn),Nn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Fn=u&&(!Pn||Rn&&8<Rn&&11>=Rn),zn=String.fromCharCode(32),Vn=!1;function jn(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Wn(t,e,n,r){Tt(r),0<(e=qr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qn=null,Kn=null;function Qn(t){zr(t,0)}function Gn(t){if(K(_i(t)))return t}function Yn(t,e){if("change"===t)return e}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(t){if("value"===t.propertyName&&Gn(Kn)){var e=[];Wn(e,Kn,t,_t(t)),Mt(Qn,e)}}function rr(t,e,n){"focusin"===t?(er(),Kn=n,(qn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gn(Kn)}function sr(t,e){if("click"===t)return Gn(e)}function or(t,e){if("input"===t||"change"===t)return Gn(e)}var ar="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(ar(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function gr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function kr(t){if(Sr[t])return Sr[t];if(!xr[t])return t;var e,n=xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return Sr[t]=n[e];return t}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),Ir=kr("animationstart"),Dr=kr("transitionend"),Or=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Or.set(t,e),l(e,[t])}for(var Nr=0;Nr<Mr.length;Nr++){var Pr=Mr[Nr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,a,l,c){if(Ut.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var u=Ft;Lt=!1,Ft=null,zt||(zt=!0,Vt=u)}}(r,e,void 0,t),t.currentTarget=null}function zr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;Fr(i,a,c),s=l}}}if(zt)throw t=Vt,zt=!1,Vt=null,t}function Vr(t,e){var n=e[pi];void 0===n&&(n=e[pi]=new Set);var r=t+"__bubble";n.has(r)||(Hr(e,t,2,!1),n.add(r))}function jr(t,e,n){var r=0;e&&(r|=4),Hr(n,t,r,e)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(t){if(!t[Ur]){t[Ur]=!0,o.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||jr(e,!1,t),jr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ur]||(e[Ur]=!0,jr("selectionchange",!1,e))}}function Hr(t,e,n,r){switch(Ye(e)){case 1:var i=We;break;case 4:i=qe;break;default:i=Ke}n=i.bind(null,e,n,t),i=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $r(t,e,n,r,i){var s=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue t}a=a.parentNode}}r=r.return}Mt((function(){var r=s,i=_t(n),o=[];t:{var a=Or.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Tr:case Cr:case Ir:l=yn;break;case Dr:l=On;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,g=r;null!==g;){var p=(f=g).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==d&&(null!=(p=At(g,d))&&u.push(Wr(g,p,f)))),h)break;g=g.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[gi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,p="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,p="onPointerLeave",d="onPointerEnter",g="pointer"),h=null==l?a:_i(l),f=null==c?a:_i(c),(a=new u(p,g+"leave",l,n,i)).target=h,a.relatedTarget=f,p=null,vi(i)===r&&((u=new u(d,g+"enter",c,n,i)).target=f,u.relatedTarget=h,p=u),h=p,l&&c)t:{for(d=c,g=0,f=u=l;f;f=Kr(f))g++;for(f=0,p=d;p;p=Kr(p))f++;for(;0<g-f;)u=Kr(u),g--;for(;0<f-g;)d=Kr(d),f--;for(;g--;){if(u===d||null!==d&&u===d.alternate)break t;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if($n(a))if(Xn)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(t,r))?Wn(o,m,n,i):(y&&y(t,a,r),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=r?_i(r):window,t){case"focusin":($n(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Pn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?jn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=tn()):(Je="value"in(Xe=i)?Xe.value:Xe.textContent,Bn=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,t,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Vn=!0,zn);case"textInput":return(t=e.data)===zn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Pn&&jn(t,e)?(t=tn(),Ze=Je=Xe=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}zr(o,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=At(t,n))&&r.unshift(Wr(t,s,i)),null!=(s=At(t,e))&&r.push(Wr(t,s,i))),t=t.return}return r}function Kr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qr(t,e,n,r,i){for(var s=e._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=At(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=At(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(t){return("string"===typeof t?t:""+t).replace(Gr,"\n").replace(Yr,"")}function Jr(t,e,n){if(e=Xr(e),Xr(t)!==e&&n)throw Error(s(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(t){return si.resolve(null).then(t).catch(ai)}:ri;function ai(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Be(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Be(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,gi="__reactContainer$"+hi,pi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[di])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function wi(t){return!(t=t[di]||t[gi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _i(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function xi(t){return t[fi]||null}var Si=[],Ei=-1;function ki(t){return{current:t}}function Ti(t){0>Ei||(t.current=Si[Ei],Si[Ei]=null,Ei--)}function Ci(t,e){Ei++,Si[Ei]=t.current,t.current=e}var Ii={},Di=ki(Ii),Oi=ki(!1),Mi=Ii;function Ai(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Pi(){Ti(Oi),Ti(Di)}function Ri(t,e,n){if(Di.current!==Ii)throw Error(s(168));Ci(Di,e),Ci(Oi,n)}function Li(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,H(t)||"Unknown",i));return F({},n,r)}function Fi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,Mi=Di.current,Ci(Di,t),Ci(Oi,Oi.current),!0}function zi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=Li(t,e,Mi),r.__reactInternalMemoizedMergedChildContext=t,Ti(Oi),Ti(Di),Ci(Di,t)):Ti(Oi),Ci(Oi,n)}var Vi=null,ji=!1,Ui=!1;function Bi(t){null===Vi?Vi=[t]:Vi.push(t)}function Hi(){if(!Ui&&null!==Vi){Ui=!0;var t=0,e=be;try{var n=Vi;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(t+1)),Kt(Zt,Hi),i}finally{be=e,Ui=!1}}return null}var $i=[],Wi=0,Ki=null,Qi=0,Gi=[],Yi=0,Xi=null,Ji=1,Zi="";function ts(t,e){$i[Wi++]=Qi,$i[Wi++]=Ki,Ki=t,Qi=e}function es(t,e,n){Gi[Yi++]=Ji,Gi[Yi++]=Zi,Gi[Yi++]=Xi,Xi=t;var r=Ji;t=Zi;var i=32-oe(r)-1;r&=~(1<<i),n+=1;var s=32-oe(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-oe(e)+i|n<<i|r,Zi=s+t}else Ji=1<<s|n<<i|r,Zi=t}function ns(t){null!==t.return&&(ts(t,1),es(t,1,0))}function rs(t){for(;t===Ki;)Ki=$i[--Wi],$i[Wi]=null,Qi=$i[--Wi],$i[Wi]=null;for(;t===Xi;)Xi=Gi[--Yi],Gi[Yi]=null,Zi=Gi[--Yi],Gi[Yi]=null,Ji=Gi[--Yi],Gi[Yi]=null}var is=null,ss=null,os=!1,as=null;function ls(t,e){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function cs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,is=t,ss=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,is=t,ss=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xi?{id:Ji,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,is=t,ss=null,!0);default:return!1}}function us(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function hs(t){if(os){var e=ss;if(e){var n=e;if(!cs(t,e)){if(us(t))throw Error(s(418));e=ci(n.nextSibling);var r=is;e&&cs(t,e)?ls(r,n):(t.flags=-4097&t.flags|2,os=!1,is=t)}}else{if(us(t))throw Error(s(418));t.flags=-4097&t.flags|2,os=!1,is=t}}}function ds(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;is=t}function fs(t){if(t!==is)return!1;if(!os)return ds(t),os=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ss)){if(us(t))throw gs(),Error(s(418));for(;e;)ls(t,e),e=ci(e.nextSibling)}if(ds(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ss=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ss=null}}else ss=is?ci(t.stateNode.nextSibling):null;return!0}function gs(){for(var t=ss;t;)t=ci(t.nextSibling)}function ps(){ss=is=null,os=!1}function ms(t){null===as?as=[t]:as.push(t)}var ys=w.ReactCurrentBatchConfig;function vs(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=r,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function bs(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ws(t){return(0,t._init)(t._payload)}function _s(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Rc(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Vc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var s=n.type;return s===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ws(s)===e.type)?((r=i(e,n.props)).ref=vs(t,e,n),r.return=t,r):((r=Lc(n.type,n.key,n.props,null,t.mode,r)).ref=vs(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,s){return null===e||7!==e.tag?((e=Fc(n,t.mode,r,s)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Vc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Lc(e.type,e.key,e.props,null,t.mode,n)).ref=vs(t,null,e),n.return=t,n;case x:return(e=jc(e,t.mode,n)).return=t,e;case A:return d(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Fc(e,t.mode,n,null)).return=t,e;bs(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(t,e,n,r):null;case x:return n.key===i?u(t,e,n,r):null;case A:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||R(n))return null!==i?null:h(t,e,n,r,null);bs(t,n)}return null}function g(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case A:return g(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||R(r))return h(e,t=t.get(n)||null,r,i,null);bs(e,r)}return null}function p(i,s,a,l){for(var c=null,u=null,h=s,p=s=0,m=null;null!==h&&p<a.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var y=f(i,h,a[p],l);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),s=o(y,s,p),null===u?c=y:u.sibling=y,u=y,h=m}if(p===a.length)return n(i,h),os&&ts(i,p),c;if(null===h){for(;p<a.length;p++)null!==(h=d(i,a[p],l))&&(s=o(h,s,p),null===u?c=h:u.sibling=h,u=h);return os&&ts(i,p),c}for(h=r(i,h);p<a.length;p++)null!==(m=g(h,i,p,a[p],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?p:m.key),s=o(m,s,p),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(i,t)})),os&&ts(i,p),c}function m(i,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,p=a,m=a=0,y=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(y=p,p=null):y=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=y);break}t&&p&&null===b.alternate&&e(i,p),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,p=y}if(v.done)return n(i,p),os&&ts(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return os&&ts(i,m),u}for(p=r(i,p);!v.done;m++,v=l.next())null!==(v=g(p,i,m,v.value,c))&&(t&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return t&&p.forEach((function(t){return e(i,t)})),os&&ts(i,m),u}return function t(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ws(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=vs(r,u,o),s.return=r,r=s;break t}n(r,u);break}e(r,u),u=u.sibling}o.type===S?((s=Fc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=vs(r,s,o),l.return=r,r=l)}return a(r);case x:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break t}n(r,s);break}e(r,s),s=s.sibling}(s=jc(o,r.mode,l)).return=r,r=s}return a(r);case A:return t(r,s,(u=o._init)(o._payload),l)}if(et(o))return p(r,s,o,l);if(R(o))return m(r,s,o,l);bs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Vc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var xs=_s(!0),Ss=_s(!1),Es=ki(null),ks=null,Ts=null,Cs=null;function Is(){Cs=Ts=ks=null}function Ds(t){var e=Es.current;Ti(Es),t._currentValue=e}function Os(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){ks=t,Cs=Ts=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(_a=!0),t.firstContext=null)}function As(t){var e=t._currentValue;if(Cs!==t)if(t={context:t,memoizedValue:e,next:null},null===Ts){if(null===ks)throw Error(s(308));Ts=t,ks.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var Ns=null;function Ps(t){null===Ns?Ns=[t]:Ns.push(t)}function Rs(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Ps(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ls(t,r)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Fs=!1;function zs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ls(t,n)}return null===(i=r.interleaved)?(e.next=e,Ps(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ls(t,n)}function Bs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Hs(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=e:s=s.next=e}else i=s=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $s(t,e,n,r){var i=t.updateQueue;Fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=t,p=a;switch(d=e,f=n,p.tag){case 1:if("function"===typeof(g=p.payload)){h=g.call(f,h,d);break t}h=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=p.payload)?g.call(f,h,d):g)||void 0===d)break t;h=F({},h,d);break t;case 2:Fs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{o|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);zl|=o,t.lanes=o,t.memoizedState=h}}function Ws(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Ks=ki(qs),Qs=ki(qs),Gs=ki(qs);function Ys(t){if(t===qs)throw Error(s(174));return t}function Xs(t,e){switch(Ci(Gs,e),Ci(Qs,t),Ci(Ks,qs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ti(Ks),Ci(Ks,e)}function Js(){Ti(Ks),Ti(Qs),Ti(Gs)}function Zs(t){Ys(Gs.current);var e=Ys(Ks.current),n=lt(e,t.type);e!==n&&(Ci(Qs,t),Ci(Ks,n))}function to(t){Qs.current===t&&(Ti(Ks),Ti(Qs))}var eo=ki(0);function no(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ro=[];function io(){for(var t=0;t<ro.length;t++)ro[t]._workInProgressVersionPrimary=null;ro.length=0}var so=w.ReactCurrentDispatcher,oo=w.ReactCurrentBatchConfig,ao=0,lo=null,co=null,uo=null,ho=!1,fo=!1,go=0,po=0;function mo(){throw Error(s(321))}function yo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function vo(t,e,n,r,i,o){if(ao=o,lo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,so.current=null===t||null===t.memoizedState?ea:na,t=n(r,i),fo){o=0;do{if(fo=!1,go=0,25<=o)throw Error(s(301));o+=1,uo=co=null,e.updateQueue=null,so.current=ra,t=n(r,i)}while(fo)}if(so.current=ta,e=null!==co&&null!==co.next,ao=0,uo=co=lo=null,ho=!1,e)throw Error(s(300));return t}function bo(){var t=0!==go;return go=0,t}function wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?lo.memoizedState=uo=t:uo=uo.next=t,uo}function _o(){if(null===co){var t=lo.alternate;t=null!==t?t.memoizedState:null}else t=co.next;var e=null===uo?lo.memoizedState:uo.next;if(null!==e)uo=e,co=t;else{if(null===t)throw Error(s(310));t={memoizedState:(co=t).memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},null===uo?lo.memoizedState=uo=t:uo=uo.next=t}return uo}function xo(t,e){return"function"===typeof e?e(t):e}function So(t){var e=_o(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=co,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((ao&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,lo.lanes|=h,zl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,e.memoizedState)||(_a=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{o=i.lane,lo.lanes|=o,zl|=o,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eo(t){var e=_o(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);ar(o,e.memoizedState)||(_a=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function To(t,e){var n=lo,r=_o(),i=e(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,zo(Do.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,No(9,Io.bind(null,n,r,i,e),void 0,null),null===Ml)throw Error(s(349));0!==(30&ao)||Co(n,e,i)}return i}function Co(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=lo.updateQueue)?(e={lastEffect:null,stores:null},lo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Io(t,e,n,r){e.value=n,e.getSnapshot=r,Oo(e)&&Mo(t)}function Do(t,e,n){return n((function(){Oo(e)&&Mo(t)}))}function Oo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch(r){return!0}}function Mo(t){var e=Ls(t,1);null!==e&&ic(e,t,1,-1)}function Ao(t){var e=wo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},e.queue=t,t=t.dispatch=Yo.bind(null,lo,t),[e.memoizedState,t]}function No(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=lo.updateQueue)?(e={lastEffect:null,stores:null},lo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Po(){return _o().memoizedState}function Ro(t,e,n,r){var i=wo();lo.flags|=t,i.memoizedState=No(1|e,n,void 0,void 0===r?null:r)}function Lo(t,e,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==co){var o=co.memoizedState;if(s=o.destroy,null!==r&&yo(r,o.deps))return void(i.memoizedState=No(e,n,s,r))}lo.flags|=t,i.memoizedState=No(1|e,n,s,r)}function Fo(t,e){return Ro(8390656,8,t,e)}function zo(t,e){return Lo(2048,8,t,e)}function Vo(t,e){return Lo(4,2,t,e)}function jo(t,e){return Lo(4,4,t,e)}function Uo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Bo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Lo(4,4,Uo.bind(null,e,t),n)}function Ho(){}function $o(t,e){var n=_o();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&yo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wo(t,e){var n=_o();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&yo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qo(t,e,n){return 0===(21&ao)?(t.baseState&&(t.baseState=!1,_a=!0),t.memoizedState=n):(ar(n,e)||(n=pe(),lo.lanes|=n,zl|=n,t.baseState=!0),e)}function Ko(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=oo.transition;oo.transition={};try{t(!1),e()}finally{be=n,oo.transition=r}}function Qo(){return _o().memoizedState}function Go(t,e,n){var r=rc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(t))Jo(e,n);else if(null!==(n=Rs(t,e,n,r))){ic(n,t,r,nc()),Zo(n,e,r)}}function Yo(t,e,n){var r=rc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(t))Jo(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=e.interleaved;return null===l?(i.next=i,Ps(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=Rs(t,e,i,r))&&(ic(n,t,r,i=nc()),Zo(n,e,r))}}function Xo(t){var e=t.alternate;return t===lo||null!==e&&e===lo}function Jo(t,e){fo=ho=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zo(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var ta={readContext:As,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},ea={readContext:As,useCallback:function(t,e){return wo().memoizedState=[t,void 0===e?null:e],t},useContext:As,useEffect:Fo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ro(4194308,4,Uo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ro(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ro(4,2,t,e)},useMemo:function(t,e){var n=wo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Go.bind(null,lo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},wo().memoizedState=t},useState:Ao,useDebugValue:Ho,useDeferredValue:function(t){return wo().memoizedState=t},useTransition:function(){var t=Ao(!1),e=t[0];return t=Ko.bind(null,t[1]),wo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lo,i=wo();if(os){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Ml)throw Error(s(349));0!==(30&ao)||Co(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Fo(Do.bind(null,r,o,t),[t]),r.flags|=2048,No(9,Io.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=wo(),e=Ml.identifierPrefix;if(os){var n=Zi;e=":"+e+"R"+(n=(Ji&~(1<<32-oe(Ji)-1)).toString(32)+n),0<(n=go++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=po++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},na={readContext:As,useCallback:$o,useContext:As,useEffect:zo,useImperativeHandle:Bo,useInsertionEffect:Vo,useLayoutEffect:jo,useMemo:Wo,useReducer:So,useRef:Po,useState:function(){return So(xo)},useDebugValue:Ho,useDeferredValue:function(t){return qo(_o(),co.memoizedState,t)},useTransition:function(){return[So(xo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Qo,unstable_isNewReconciler:!1},ra={readContext:As,useCallback:$o,useContext:As,useEffect:zo,useImperativeHandle:Bo,useInsertionEffect:Vo,useLayoutEffect:jo,useMemo:Wo,useReducer:Eo,useRef:Po,useState:function(){return Eo(xo)},useDebugValue:Ho,useDeferredValue:function(t){var e=_o();return null===co?e.memoizedState=t:qo(e,co.memoizedState,t)},useTransition:function(){return[Eo(xo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Qo,unstable_isNewReconciler:!1};function ia(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function sa(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var oa={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nc(),i=rc(t),s=js(r,i);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Us(t,s,i))&&(ic(e,t,i,r),Bs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nc(),i=rc(t),s=js(r,i);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Us(t,s,i))&&(ic(e,t,i,r),Bs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nc(),r=rc(t),i=js(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Us(t,i,r))&&(ic(e,t,r,n),Bs(e,t,r))}};function aa(t,e,n,r,i,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function la(t,e,n){var r=!1,i=Ii,s=e.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Ni(e)?Mi:Di.current,s=(r=null!==(r=e.contextTypes)&&void 0!==r)?Ai(t,i):Ii),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=oa,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ca(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oa.enqueueReplaceState(e,e.state,null)}function ua(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zs(t);var s=e.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Ni(e)?Mi:Di.current,i.context=Ai(t,s)),i.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(sa(t,e,s,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&oa.enqueueReplaceState(i,i.state,null),$s(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function ha(t,e){try{var n="",r=e;do{n+=U(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:i,digest:null}}function da(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fa(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ga="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ql||(ql=!0,Kl=r),fa(0,e)},n}function ma(t,e,n){(n=js(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fa(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){fa(0,e),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ya(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ga;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Cc.bind(null,t,e,n),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ba(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=js(-1,1)).tag=2,Us(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var wa=w.ReactCurrentOwner,_a=!1;function xa(t,e,n,r){e.child=null===t?Ss(e,null,n,r):xs(e,t.child,n,r)}function Sa(t,e,n,r,i){n=n.render;var s=e.ref;return Ms(e,i),r=vo(t,e,n,r,s,i),n=bo(),null===t||_a?(os&&n&&ns(e),e.flags|=1,xa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i))}function Ea(t,e,n,r,i){if(null===t){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Lc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,ka(t,e,s,r,i))}if(s=t.child,0===(t.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&t.ref===e.ref)return qa(t,e,i)}return e.flags|=1,(t=Rc(s,r)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,r,i){if(null!==t){var s=t.memoizedProps;if(lr(s,r)&&t.ref===e.ref){if(_a=!1,e.pendingProps=r=s,0===(t.lanes&i))return e.lanes=t.lanes,qa(t,e,i);0!==(131072&t.flags)&&(_a=!0)}}return Ia(t,e,n,r,i)}function Ta(t,e,n){var r=e.pendingProps,i=r.children,s=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ci(Rl,Pl),Pl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Rl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ci(Rl,Pl),Pl|=r;return xa(t,e,i,n),e.child}function Ca(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ia(t,e,n,r,i){var s=Ni(n)?Mi:Di.current;return s=Ai(e,s),Ms(e,i),n=vo(t,e,n,r,s,i),r=bo(),null===t||_a?(os&&r&&ns(e),e.flags|=1,xa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qa(t,e,i))}function Da(t,e,n,r,i){if(Ni(n)){var s=!0;Fi(e)}else s=!1;if(Ms(e,i),null===e.stateNode)Wa(t,e),la(e,n,r),ua(e,n,r,i),r=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ai(e,c=Ni(n)?Mi:Di.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&ca(e,o,r,c),Fs=!1;var d=e.memoizedState;o.state=d,$s(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Oi.current||Fs?("function"===typeof u&&(sa(e,n,u,r),l=e.memoizedState),(a=Fs||aa(e,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vs(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ia(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Ai(e,l=Ni(n)?Mi:Di.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ca(e,o,r,l),Fs=!1,d=e.memoizedState,o.state=d,$s(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||Oi.current||Fs?("function"===typeof f&&(sa(e,n,f,r),g=e.memoizedState),(c=Fs||aa(e,n,c,r,d,g,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,g,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,g,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Oa(t,e,n,r,s,i)}function Oa(t,e,n,r,i,s){Ca(t,e);var o=0!==(128&e.flags);if(!r&&!o)return i&&zi(e,n,!1),qa(t,e,s);r=e.stateNode,wa.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&o?(e.child=xs(e,t.child,null,s),e.child=xs(e,null,a,s)):xa(t,e,a,s),e.memoizedState=r.state,i&&zi(e,n,!0),e.child}function Ma(t){var e=t.stateNode;e.pendingContext?Ri(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ri(0,e.context,!1),Xs(t,e.containerInfo)}function Aa(t,e,n,r,i){return ps(),ms(i),e.flags|=256,xa(t,e,n,r),e.child}var Na,Pa,Ra,La,Fa={dehydrated:null,treeContext:null,retryLane:0};function za(t){return{baseLanes:t,cachePool:null,transitions:null}}function Va(t,e,n){var r,i=e.pendingProps,o=eo.current,a=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Ci(eo,1&o),null===t)return hs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,a?(i=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=zc(l,i,0,null),t=Fc(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=za(n),e.memoizedState=Fa,t):ja(e,l));if(null!==(o=t.memoizedState)&&null!==(r=o.dehydrated))return function(t,e,n,r,i,o,a){if(n)return 256&e.flags?(e.flags&=-257,Ua(t,e,a,r=da(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,a,null)).flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,0!==(1&e.mode)&&xs(e,t.child,null,a),e.child.memoizedState=za(a),e.memoizedState=Fa,o);if(0===(1&e.mode))return Ua(t,e,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(t,e,a,r=da(o=Error(s(419)),r,void 0))}if(l=0!==(a&t.childLanes),_a||l){if(null!==(r=Ml)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(t,i),ic(r,t,i,-1))}return yc(),Ua(t,e,a,r=da(Error(s(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Dc.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ss=ci(i.nextSibling),is=e,os=!0,as=null,null!==t&&(Gi[Yi++]=Ji,Gi[Yi++]=Zi,Gi[Yi++]=Xi,Ji=t.id,Zi=t.overflow,Xi=e),e=ja(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,o,n);if(a){a=i.fallback,l=e.mode,r=(o=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==o?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Fc(a,l,n,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,l=null===(l=t.child.memoizedState)?za(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Fa,i}return t=(a=t.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ja(t,e){return(e=zc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ua(t,e,n,r){return null!==r&&ms(r),xs(e,t.child,null,n),(t=ja(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ba(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Os(t.return,e,n)}function Ha(t,e,n,r,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $a(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xa(t,e,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ba(t,n,e);else if(19===t.tag)Ba(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ci(eo,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===no(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ha(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===no(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ha(e,!0,n,null,s);break;case"together":Ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),zl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Rc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Rc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ka(t,e){if(!os)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ga(t,e,n){var r=e.pendingProps;switch(rs(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(e),null;case 1:case 17:return Ni(e.type)&&Pi(),Qa(e),null;case 3:return r=e.stateNode,Js(),Ti(Oi),Ti(Di),io(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(fs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==as&&(lc(as),as=null))),Pa(t,e),Qa(e),null;case 5:to(e);var i=Ys(Gs.current);if(n=e.type,null!==t&&null!=e.stateNode)Ra(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(s(166));return Qa(e),null}if(t=Ys(Ks.current),fs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[di]=e,r[fi]=o,t=0!==(1&e.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":it(r,o),Vr("invalid",r)}for(var l in vt(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),ot(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[di]=e,t[fi]=r,Na(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Vr("cancel",t),Vr("close",t),i=r;break;case"iframe":case"object":case"embed":Vr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],t);i=r;break;case"source":Vr("error",t),i=r;break;case"img":case"image":case"link":Vr("error",t),Vr("load",t),i=r;break;case"details":Vr("toggle",t),i=r;break;case"input":Y(t,r),i=G(t,r),Vr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Vr("invalid",t)}for(o in vt(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":q(t),Z(t,r,!1);break;case"textarea":q(t),ot(t);break;case"option":null!=r.value&&t.setAttribute("value",""+$(r.value));break;case"select":t.multiple=!!r.multiple,null!=(o=r.value)?nt(t,!!r.multiple,o,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Qa(e),null;case 6:if(t&&null!=e.stateNode)La(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(Ks.current),fs(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(o=r.nodeValue!==n)&&null!==(t=is))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return Qa(e),null;case 13:if(Ti(eo),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(os&&null!==ss&&0!==(1&e.mode)&&0===(128&e.flags))gs(),ps(),e.flags|=98560,o=!1;else if(o=fs(e),null!==r&&null!==r.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=e}else ps(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Qa(e),o=!1}else null!==as&&(lc(as),as=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&eo.current)?0===Ll&&(Ll=3):yc())),null!==e.updateQueue&&(e.flags|=4),Qa(e),null);case 4:return Js(),Pa(t,e),null===t&&Br(e.stateNode.containerInfo),Qa(e),null;case 10:return Ds(e.type._context),Qa(e),null;case 19:if(Ti(eo),null===(o=e.memoizedState))return Qa(e),null;if(r=0!==(128&e.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ll||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=no(t))){for(e.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ci(eo,1&eo.current|2),e.child}t=t.sibling}null!==o.tail&&Xt()>$l&&(e.flags|=128,r=!0,Ka(o,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=no(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!os)return Qa(e),null}else 2*Xt()-o.renderingStartTime>$l&&1073741824!==n&&(e.flags|=128,r=!0,Ka(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,n=eo.current,Ci(eo,r?1&n|2:1&n),e):(Qa(e),null);case 22:case 23:return fc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Pl)&&(Qa(e),6&e.subtreeFlags&&(e.flags|=8192)):Qa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ya(t,e){switch(rs(e),e.tag){case 1:return Ni(e.type)&&Pi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Js(),Ti(Oi),Ti(Di),io(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return to(e),null;case 13:if(Ti(eo),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));ps()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ti(eo),null;case 4:return Js(),null;case 10:return Ds(e.type._context),null;case 22:case 23:return fc(),null;default:return null}}Na=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Ra=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ys(Ks.current);var s,o=null;switch(n){case"input":i=G(t,i),r=G(t,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=rt(t,i),r=rt(t,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(u in vt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},La=function(t,e,n,r){n!==r&&(e.flags|=4)};var Xa=!1,Ja=!1,Za="function"===typeof WeakSet?WeakSet:Set,tl=null;function el(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(t,e,r)}else n.current=null}function nl(t,e,n){try{n()}catch(r){Tc(t,e,r)}}var rl=!1;function il(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&nl(e,n,s)}i=i.next}while(i!==r)}}function sl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[pi],delete e[mi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ll(t){return 5===t.tag||3===t.tag||4===t.tag}function cl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ll(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}function hl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(hl(t,e,n),t=t.sibling;null!==t;)hl(t,e,n),t=t.sibling}var dl=null,fl=!1;function gl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ie,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,e);case 6:var r=dl,i=fl;dl=null,gl(t,e,n),fl=i,null!==(dl=r)&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Be(t)):li(dl,n.stateNode));break;case 4:r=dl,i=fl,dl=n.stateNode.containerInfo,fl=!0,gl(t,e,n),dl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&nl(n,e,o),i=i.next}while(i!==r)}gl(t,e,n);break;case 1:if(!Ja&&(el(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,e,a)}gl(t,e,n);break;case 21:gl(t,e,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,gl(t,e,n),Ja=r):gl(t,e,n);break;default:gl(t,e,n)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var r=Oc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function yl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break t;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break t}l=l.return}if(null===dl)throw Error(s(160));pl(o,a,i),dl=null,fl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yl(e,t),bl(t),4&r){try{il(3,t,t.return),sl(3,t)}catch(m){Tc(t,t.return,m)}try{il(5,t,t.return)}catch(m){Tc(t,t.return,m)}}break;case 1:yl(e,t),bl(t),512&r&&null!==n&&el(n,n.return);break;case 5:if(yl(e,t),bl(t),512&r&&null!==n&&el(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(m){Tc(t,t.return,m)}}if(4&r&&null!=(i=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),bt(l,a);var u=bt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):b(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":st(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;null!=g?nt(i,!!o.multiple,g,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(i,!!o.multiple,o.defaultValue,!0):nt(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Tc(t,t.return,m)}}break;case 6:if(yl(e,t),bl(t),4&r){if(null===t.stateNode)throw Error(s(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Tc(t,t.return,m)}}break;case 3:if(yl(e,t),bl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(m){Tc(t,t.return,m)}break;case 4:default:yl(e,t),bl(t);break;case 13:yl(e,t),bl(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Xt())),4&r&&ml(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ja=(u=Ja)||h,yl(e,t),Ja=u):yl(e,t),bl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(tl=t,h=t.child;null!==h;){for(d=tl=h;null!==tl;){switch(g=(f=tl).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:el(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==g?(g.return=f,tl=g):Sl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pt("display",a))}catch(m){Tc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Tc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yl(e,t),bl(t),4&r&&ml(t);case 21:}}function bl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ll(n)){var r=n;break t}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),hl(t,cl(t),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(t,cl(t),o);break;default:throw Error(s(161))}}catch(a){Tc(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function wl(t,e,n){tl=t,_l(t,e,n)}function _l(t,e,n){for(var r=0!==(1&t.mode);null!==tl;){var i=tl,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Xa;var c=Ja;if(Xa=o,(Ja=l)&&!c)for(tl=i;null!==tl;)l=(o=tl).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,tl=l):El(i);for(;null!==s;)tl=s,_l(s,e,n),s=s.sibling;tl=i,Xa=a,Ja=c}xl(t)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,tl=s):xl(t)}}function xl(t){for(;null!==tl;){var e=tl;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ja||sl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ia(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Ws(e,o,r);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Ws(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Be(d)}}}break;default:throw Error(s(163))}Ja||512&e.flags&&ol(e)}catch(f){Tc(e,e.return,f)}}if(e===t){tl=null;break}if(null!==(n=e.sibling)){n.return=e.return,tl=n;break}tl=e.return}}function Sl(t){for(;null!==tl;){var e=tl;if(e===t){tl=null;break}var n=e.sibling;if(null!==n){n.return=e.return,tl=n;break}tl=e.return}}function El(t){for(;null!==tl;){var e=tl;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sl(4,e)}catch(l){Tc(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){Tc(e,i,l)}}var s=e.return;try{ol(e)}catch(l){Tc(e,s,l)}break;case 5:var o=e.return;try{ol(e)}catch(l){Tc(e,o,l)}}}catch(l){Tc(e,e.return,l)}if(e===t){tl=null;break}var a=e.sibling;if(null!==a){a.return=e.return,tl=a;break}tl=e.return}}var kl,Tl=Math.ceil,Cl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Dl=w.ReactCurrentBatchConfig,Ol=0,Ml=null,Al=null,Nl=0,Pl=0,Rl=ki(0),Ll=0,Fl=null,zl=0,Vl=0,jl=0,Ul=null,Bl=null,Hl=0,$l=1/0,Wl=null,ql=!1,Kl=null,Ql=null,Gl=!1,Yl=null,Xl=0,Jl=0,Zl=null,tc=-1,ec=0;function nc(){return 0!==(6&Ol)?Xt():-1!==tc?tc:tc=Xt()}function rc(t){return 0===(1&t.mode)?1:0!==(2&Ol)&&0!==Nl?Nl&-Nl:null!==ys.transition?(0===ec&&(ec=pe()),ec):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function ic(t,e,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(s(185));ye(t,n,r),0!==(2&Ol)&&t===Ml||(t===Ml&&(0===(2&Ol)&&(Vl|=n),4===Ll&&cc(t,Nl)),sc(t,r),1===n&&0===Ol&&0===(1&e.mode)&&($l=Xt()+500,ji&&Hi()))}function sc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var r=de(t,t===Ml?Nl:0);if(0===r)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){ji=!0,Bi(t)}(uc.bind(null,t)):Bi(uc.bind(null,t)),oi((function(){0===(6&Ol)&&Hi()})),n=null;else{switch(we(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Mc(n,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oc(t,e){if(tc=-1,ec=0,0!==(6&Ol))throw Error(s(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var r=de(t,t===Ml?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=vc(t,r);else{e=r;var i=Ol;Ol|=2;var o=mc();for(Ml===t&&Nl===e||(Wl=null,$l=Xt()+500,gc(t,e));;)try{wc();break}catch(l){pc(t,l)}Is(),Cl.current=o,Ol=i,null!==Al?e=0:(Ml=null,Nl=0,e=Ll)}if(0!==e){if(2===e&&(0!==(i=ge(t))&&(r=i,e=ac(t,i))),1===e)throw n=Fl,gc(t,0),cc(t,r),sc(t,Xt()),n;if(6===e)cc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vc(t,r))&&(0!==(o=ge(t))&&(r=o,e=ac(t,o))),1===e))throw n=Fl,gc(t,0),cc(t,r),sc(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(t,Bl,Wl);break;case 3:if(cc(t,r),(130023424&r)===r&&10<(e=Hl+500-Xt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){nc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(Sc.bind(null,t,Bl,Wl),e);break}Sc(t,Bl,Wl);break;case 4:if(cc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-oe(r);o=1<<a,(a=e[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){t.timeoutHandle=ri(Sc.bind(null,t,Bl,Wl),r);break}Sc(t,Bl,Wl);break;default:throw Error(s(329))}}}return sc(t,Xt()),t.callbackNode===n?oc.bind(null,t):null}function ac(t,e){var n=Ul;return t.current.memoizedState.isDehydrated&&(gc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Bl,Bl=n,null!==e&&lc(e)),t}function lc(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function cc(t,e){for(e&=~jl,e&=~Vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),r=1<<n;t[n]=-1,e&=~r}}function uc(t){if(0!==(6&Ol))throw Error(s(327));Ec();var e=de(t,0);if(0===(1&e))return sc(t,Xt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var r=ge(t);0!==r&&(e=r,n=ac(t,r))}if(1===n)throw n=Fl,gc(t,0),cc(t,e),sc(t,Xt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sc(t,Bl,Wl),sc(t,Xt()),null}function hc(t,e){var n=Ol;Ol|=1;try{return t(e)}finally{0===(Ol=n)&&($l=Xt()+500,ji&&Hi())}}function dc(t){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&Ec();var e=Ol;Ol|=1;var n=Dl.transition,r=be;try{if(Dl.transition=null,be=1,t)return t()}finally{be=r,Dl.transition=n,0===(6&(Ol=e))&&Hi()}}function fc(){Pl=Rl.current,Ti(Rl)}function gc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(rs(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Js(),Ti(Oi),Ti(Di),io();break;case 5:to(r);break;case 4:Js();break;case 13:case 19:Ti(eo);break;case 10:Ds(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ml=t,Al=t=Rc(t.current,null),Nl=Pl=e,Ll=0,Fl=null,jl=Vl=zl=0,Bl=Ul=null,null!==Ns){for(e=0;e<Ns.length;e++)if(null!==(r=(n=Ns[e]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return t}function pc(t,e){for(;;){var n=Al;try{if(Is(),so.current=ta,ho){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ho=!1}if(ao=0,uo=co=lo=null,fo=!1,go=0,Il.current=null,null===n||null===n.return){Ll=1,Fl=e,Al=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=va(a);if(null!==g){g.flags&=-257,ba(g,a,l,0,e),1&g.mode&&ya(o,u,e),c=u;var p=(e=g).updateQueue;if(null===p){var m=new Set;m.add(c),e.updateQueue=m}else p.add(c);break t}if(0===(1&e)){ya(o,u,e),yc();break t}c=Error(s(426))}else if(os&&1&l.mode){var y=va(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ba(y,a,l,0,e),ms(ha(c,l));break t}}o=c=ha(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Hs(o,pa(0,c,e));break t;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,Hs(o,ma(o,l,e));break t}}o=o.return}while(null!==o)}xc(n)}catch(w){e=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var t=Cl.current;return Cl.current=ta,null===t?ta:t}function yc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Ml||0===(268435455&zl)&&0===(268435455&Vl)||cc(Ml,Nl)}function vc(t,e){var n=Ol;Ol|=2;var r=mc();for(Ml===t&&Nl===e||(Wl=null,gc(t,e));;)try{bc();break}catch(i){pc(t,i)}if(Is(),Ol=n,Cl.current=r,null!==Al)throw Error(s(261));return Ml=null,Nl=0,Ll}function bc(){for(;null!==Al;)_c(Al)}function wc(){for(;null!==Al&&!Gt();)_c(Al)}function _c(t){var e=kl(t.alternate,t,Pl);t.memoizedProps=t.pendingProps,null===e?xc(t):Al=e,Il.current=null}function xc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ga(n,e,Pl)))return void(Al=n)}else{if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Al=n);if(null===t)return Ll=6,void(Al=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Al=e);Al=e=t}while(null!==e);0===Ll&&(Ll=5)}function Sc(t,e,n){var r=be,i=Dl.transition;try{Dl.transition=null,be=1,function(t,e,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Ol))throw Error(s(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oe(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}(t,o),t===Ml&&(Al=Ml=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Mc(ee,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Dl.transition,Dl.transition=null;var a=be;be=1;var l=Ol;Ol|=4,Il.current=null,function(t,e){if(ti=$e,fr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(qi){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var g;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(g=d.firstChild);)f=d,d=g;for(;;){if(d===t)break e;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(g=d.nextSibling))break;f=(d=f).parentNode}d=g}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},$e=!1,tl=e;null!==tl;)if(t=(e=tl).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,tl=t;else for(;null!==tl;){e=tl;try{var p=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:ia(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(qi){Tc(e,e.return,qi)}if(null!==(t=e.sibling)){t.return=e.return,tl=t;break}tl=e.return}p=rl,rl=!1}(t,n),vl(n,t),gr(ei),$e=!!ti,ei=ti=null,t.current=n,wl(n,t,i),Yt(),Ol=l,be=a,Dl.transition=o}else t.current=n;if(Gl&&(Gl=!1,Yl=t,Xl=i),o=t.pendingLanes,0===o&&(Ql=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),sc(t,Xt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,t=Kl,Kl=null,t;0!==(1&Xl)&&0!==t.tag&&Ec(),o=t.pendingLanes,0!==(1&o)?t===Zl?Jl++:(Jl=0,Zl=t):Jl=0,Hi()}(t,e,n,r)}finally{Dl.transition=i,be=r}return null}function Ec(){if(null!==Yl){var t=we(Xl),e=Dl.transition,n=be;try{if(Dl.transition=null,be=16>t?16:t,null===Yl)var r=!1;else{if(t=Yl,Yl=null,Xl=0,0!==(6&Ol))throw Error(s(331));var i=Ol;for(Ol|=4,tl=t.current;null!==tl;){var o=tl,a=o.child;if(0!==(16&tl.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(tl=u;null!==tl;){var h=tl;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var d=h.child;if(null!==d)d.return=h,tl=d;else for(;null!==tl;){var f=(h=tl).sibling,g=h.return;if(al(h),h===u){tl=null;break}if(null!==f){f.return=g,tl=f;break}tl=g}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}tl=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,tl=a;else t:for(;null!==tl;){if(0!==(2048&(o=tl).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,tl=v;break t}tl=o.return}}var b=t.current;for(tl=b;null!==tl;){var w=(a=tl).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,tl=w;else t:for(a=b;null!==tl;){if(0!==(2048&(l=tl).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(x){Tc(l,l.return,x)}if(l===a){tl=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,tl=_;break t}tl=l.return}}if(Ol=i,Hi(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ie,t)}catch(x){}r=!0}return r}finally{be=n,Dl.transition=e}}return!1}function kc(t,e,n){t=Us(t,e=pa(0,e=ha(n,e),1),1),e=nc(),null!==t&&(ye(t,1,e),sc(t,e))}function Tc(t,e,n){if(3===t.tag)kc(t,t,n);else for(;null!==e;){if(3===e.tag){kc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){e=Us(e,t=ma(e,t=ha(n,t),1),1),t=nc(),null!==e&&(ye(e,1,t),sc(e,t));break}}e=e.return}}function Cc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=nc(),t.pingedLanes|=t.suspendedLanes&n,Ml===t&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Xt()-Hl?gc(t,0):jl|=n),sc(t,e)}function Ic(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=nc();null!==(t=Ls(t,e))&&(ye(t,e,n),sc(t,n))}function Dc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Ic(t,n)}function Oc(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(e),Ic(t,n)}function Mc(t,e){return Kt(t,e)}function Ac(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(t,e,n,r){return new Ac(t,e,n,r)}function Pc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rc(t,e){var n=t.alternate;return null===n?((n=Nc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)Pc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Fc(n.children,i,o,e);case E:a=8,i|=8;break;case k:return(t=Nc(12,n,e,2|i)).elementType=k,t.lanes=o,t;case D:return(t=Nc(13,n,e,i)).elementType=D,t.lanes=o,t;case O:return(t=Nc(19,n,e,i)).elementType=O,t.lanes=o,t;case N:return zc(n,i,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:a=10;break t;case C:a=9;break t;case I:a=11;break t;case M:a=14;break t;case A:a=16,r=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Nc(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Fc(t,e,n,r){return(t=Nc(7,t,r,e)).lanes=n,t}function zc(t,e,n,r){return(t=Nc(22,t,r,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function Vc(t,e,n){return(t=Nc(6,t,null,e)).lanes=n,t}function jc(t,e,n){return(e=Nc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,r,i,s,o,a,l){return t=new Uc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Nc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zs(s),t}function Hc(t){if(!t)return Ii;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Ni(n))return Li(t,n,e)}return e}function $c(t,e,n,r,i,s,o,a,l){return(t=Bc(n,r,!0,t,0,s,0,a,l)).context=Hc(null),n=t.current,(s=js(r=nc(),i=rc(n))).callback=void 0!==e&&null!==e?e:null,Us(n,s,i),t.current.lanes=i,ye(t,i,r),sc(t,r),t}function Wc(t,e,n,r){var i=e.current,s=nc(),o=rc(i);return n=Hc(n),null===e.context?e.context=n:e.pendingContext=n,(e=js(s,o)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Us(i,e,o))&&(ic(t,i,o,s),Bs(t,i,o)),o}function qc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Qc(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Oi.current)_a=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return _a=!1,function(t,e,n){switch(e.tag){case 3:Ma(e),ps();break;case 5:Zs(e);break;case 1:Ni(e.type)&&Fi(e);break;case 4:Xs(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ci(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ci(eo,1&eo.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Va(t,e,n):(Ci(eo,1&eo.current),null!==(t=qa(t,e,n))?t.sibling:null);Ci(eo,1&eo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return $a(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(eo,eo.current),r)break;return null;case 22:case 23:return e.lanes=0,Ta(t,e,n)}return qa(t,e,n)}(t,e,n);_a=0!==(131072&t.flags)}else _a=!1,os&&0!==(1048576&e.flags)&&es(e,Qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wa(t,e),t=e.pendingProps;var i=Ai(e,Di.current);Ms(e,n),i=vo(null,e,r,t,i,n);var o=bo();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(r)?(o=!0,Fi(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,zs(e),i.updater=oa,e.stateNode=i,i._reactInternals=e,ua(e,r,t,n),e=Oa(null,e,r,!0,o,n)):(e.tag=0,os&&o&&ns(e),xa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Pc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===M)return 14}return 2}(r),t=ia(r,t),i){case 0:e=Ia(null,e,r,t,n);break t;case 1:e=Da(null,e,r,t,n);break t;case 11:e=Sa(null,e,r,t,n);break t;case 14:e=Ea(null,e,r,ia(r.type,t),n);break t}throw Error(s(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ia(t,e,r,i=e.elementType===r?i:ia(r,i),n);case 1:return r=e.type,i=e.pendingProps,Da(t,e,r,i=e.elementType===r?i:ia(r,i),n);case 3:t:{if(Ma(e),null===t)throw Error(s(387));r=e.pendingProps,i=(o=e.memoizedState).element,Vs(t,e),$s(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Aa(t,e,r,n,i=ha(Error(s(423)),e));break t}if(r!==i){e=Aa(t,e,r,n,i=ha(Error(s(424)),e));break t}for(ss=ci(e.stateNode.containerInfo.firstChild),is=e,os=!0,as=null,n=Ss(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){e=qa(t,e,n);break t}xa(t,e,r,n)}e=e.child}return e;case 5:return Zs(e),null===t&&hs(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(e.flags|=32),Ca(t,e),xa(t,e,a,n),e.child;case 6:return null===t&&hs(e),null;case 13:return Va(t,e,n);case 4:return Xs(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=xs(e,null,r,n):xa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Sa(t,e,r,i=e.elementType===r?i:ia(r,i),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ci(Es,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Oi.current){e=qa(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=js(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Os(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Os(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),r=r(i=As(i)),e.flags|=1,xa(t,e,r,n),e.child;case 14:return i=ia(r=e.type,e.pendingProps),Ea(t,e,r,i=ia(r.type,i),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ia(r,i),Wa(t,e),e.tag=1,Ni(r)?(t=!0,Fi(e)):t=!1,Ms(e,n),la(e,r,i),ua(e,r,i,n),Oa(null,e,r,!0,t,n);case 19:return $a(t,e,n);case 22:return Ta(t,e,n)}throw Error(s(156,e.tag))};var Gc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Xc(t){this._internalRoot=t}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function tu(){}function eu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var t=qc(o);a.call(t)}}Wc(e,o,t,i)}else o=function(t,e,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var t=qc(o);s.call(t)}}var o=$c(e,r,t,0,null,!1,0,"",tu);return t._reactRootContainer=o,t[gi]=o.current,Br(8===t.nodeType?t.parentNode:t),dc(),o}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var a=r;r=function(){var t=qc(l);a.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",tu);return t._reactRootContainer=l,t[gi]=l.current,Br(8===t.nodeType?t.parentNode:t),dc((function(){Wc(e,l,n,r)})),l}(n,e,t,i,r);return qc(o)}Xc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Wc(t,e,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;dc((function(){Wc(null,t,null,null)})),e[gi]=null}},Xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&Fe(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),sc(e,Xt()),0===(6&Ol)&&($l=Xt()+500,Hi()))}break;case 13:dc((function(){var e=Ls(t,1);if(null!==e){var n=nc();ic(e,t,1,n)}})),Qc(t,1)}},xe=function(t){if(13===t.tag){var e=Ls(t,134217728);if(null!==e)ic(e,t,134217728,nc());Qc(t,134217728)}},Se=function(t){if(13===t.tag){var e=rc(t),n=Ls(t,e);if(null!==n)ic(n,t,e,nc());Qc(t,e)}},Ee=function(){return be},ke=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},xt=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=hc,Dt=dc;var nu={usingClientEntryPoint:!1,Events:[wi,_i,xi,Tt,Ct,hc]},ru={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{ie=su.inject(iu),se=su}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(e))throw Error(s(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Jc(t))throw Error(s(299));var n=!1,r="",i=Gc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,r,i),t[gi]=e.current,Br(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return dc(t)},e.hydrate=function(t,e,n){if(!Zc(e))throw Error(s(200));return eu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Jc(t))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=$c(e,null,t,1,null!=n?n:null,i,0,o,a),t[gi]=e.current,Br(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xc(e)},e.render=function(t,e,n){if(!Zc(e))throw Error(s(200));return eu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(s(40));return!!t._reactRootContainer&&(dc((function(){eu(null,null,t,!1,(function(){t._reactRootContainer=null,t[gi]=null}))})),!0)},e.unstable_batchedUpdates=hc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return eu(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},853:(t,e,n)=>{t.exports=n(234)},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{FILE:()=>Et,HTML:()=>Ct,TEXT:()=>Tt,URL:()=>kt});var i=n(43),s=n(950),o=n(579);function a(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var l="function"===typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function h(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function d(t,e,n){var r;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(a(0));if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(a(1));return n(d)(t,e)}if("function"!==typeof t)throw new Error(a(2));var i=t,s=e,o=[],c=o,f=!1;function g(){c===o&&(c=o.slice())}function p(){if(f)throw new Error(a(3));return s}function m(t){if("function"!==typeof t)throw new Error(a(4));if(f)throw new Error(a(5));var e=!0;return g(),c.push(t),function(){if(e){if(f)throw new Error(a(6));e=!1,g();var n=c.indexOf(t);c.splice(n,1),o=null}}}function y(t){if(!h(t))throw new Error(a(7));if("undefined"===typeof t.type)throw new Error(a(8));if(f)throw new Error(a(9));try{f=!0,s=i(s,t)}finally{f=!1}for(var e=o=c,n=0;n<e.length;n++){(0,e[n])()}return t}return y({type:u.INIT}),(r={dispatch:y,subscribe:m,getState:p,replaceReducer:function(t){if("function"!==typeof t)throw new Error(a(10));i=t,y({type:u.REPLACE})}})[l]=function(){var t,e=m;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(a(11));function n(){t.next&&t.next(p())}return n(),{unsubscribe:e(n)}}})[l]=function(){return this},t},r}function f(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("undefined"!==typeof process&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){let t;if(void 0===e)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;t=new Error(e.replace(/%s/g,(function(){return r[n++]}))),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function g(t){return"object"===typeof t}const p="dnd-core/INIT_COORDS",m="dnd-core/BEGIN_DRAG",y="dnd-core/PUBLISH_DRAG_SOURCE",v="dnd-core/HOVER",b="dnd-core/DROP",w="dnd-core/END_DRAG";function _(t,e){return{type:p,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const x={type:p,payload:{clientOffset:null,sourceClientOffset:null}};function S(t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:s}=n,o=t.getMonitor(),a=t.getRegistry();t.dispatch(_(i)),function(t,e,n){f(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach((function(t){f(n.getSource(t),"Expected sourceIds to be registered.")}))}(e,o,a);const l=function(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}(e,o);if(null==l)return void t.dispatch(x);let c=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");!function(t){f("function"===typeof t,"When clientOffset is provided, getSourceClientOffset must be a function.")}(s),c=s(l)}t.dispatch(_(i,c));const u=a.getSource(l).beginDrag(o,l);if(null==u)return;!function(t){f(g(t),"Item must be an object.")}(u),a.pinSource(l);const h=a.getSourceType(l);return{type:m,payload:{itemType:h,item:u,sourceId:l,clientOffset:i||null,sourceClientOffset:c||null,isSourcePublic:!!r}}}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){E(t,e,n[e])}))}return t}function T(t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.getMonitor(),r=t.getRegistry();!function(t){f(t.isDragging(),"Cannot call drop while not dragging."),f(!t.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const i=function(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}(n);i.forEach(((i,s)=>{const o=function(t,e,n,r){const i=n.getTarget(t);let s=i?i.drop(r,t):void 0;(function(t){f("undefined"===typeof t||g(t),"Drop result must either be an object or undefined.")})(s),"undefined"===typeof s&&(s=0===e?{}:r.getDropResult());return s}(i,s,r,n),a={type:b,payload:{dropResult:k({},e,o)}};t.dispatch(a)}))}}function C(t){return function(){const e=t.getMonitor(),n=t.getRegistry();!function(t){f(t.isDragging(),"Cannot call endDrag while not dragging.")}(e);const r=e.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(e,r),n.unpinSource()}return{type:w}}}function I(t,e){return null===e?null===t:Array.isArray(t)?t.some((t=>t===e)):t===e}function D(t){return function(e){let{clientOffset:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t){f(Array.isArray(t),"Expected targetIds to be an array.")}(e);const r=e.slice(0),i=t.getMonitor(),s=t.getRegistry();return function(t,e,n){for(let r=t.length-1;r>=0;r--){const i=t[r];I(e.getTargetType(i),n)||t.splice(r,1)}}(r,s,i.getItemType()),function(t,e,n){f(e.isDragging(),"Cannot call hover while not dragging."),f(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const e=t[r];f(t.lastIndexOf(e)===r,"Expected targetIds to be unique in the passed array.");f(n.getTarget(e),"Expected targetIds to be registered.")}}(r,i,s),function(t,e,n){t.forEach((function(t){n.getTarget(t).hover(e,t)}))}(r,i,s),{type:v,payload:{targetIds:r,clientOffset:n||null}}}}function O(t){return function(){if(t.getMonitor().isDragging())return{type:y}}}class M{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:e}=this.store;const n=function(t){return{beginDrag:S(t),publishDragSource:O(t),hover:D(t),drop:T(t),endDrag:C(t)}}(this);return Object.keys(n).reduce(((r,i)=>{const s=n[i];var o;return r[i]=(o=s,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=o.apply(t,r);"undefined"!==typeof s&&e(s)}),r}),{})}dispatch(t){this.store.dispatch(t)}constructor(t,e){this.isSetUp=!1,this.handleRefCountChange=()=>{const t=this.store.getState().refCount>0;this.backend&&(t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=e,t.subscribe(this.handleRefCountChange)}}function A(t,e){return{x:t.x-e.x,y:t.y-e.y}}const N=[],P=[];N.__IS_NONE__=!0,P.__IS_ALL__=!0;class R{subscribeToStateChange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:n}=e;f("function"===typeof t,"listener must be a function."),f("undefined"===typeof n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const e=this.store.getState(),i=e.stateId;try{const s=i===r||i===r+1&&!function(t,e){return t!==N&&(t===P||"undefined"===typeof e||(n=t,e.filter((t=>n.indexOf(t)>-1))).length>0);var n}(e.dirtyHandlerIds,n);s||t()}finally{r=i}}))}subscribeToOffsetChange(t){f("function"===typeof t,"listener must be a function.");let e=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==e&&(e=n,t())}))}canDragSource(t){if(!t)return!1;const e=this.registry.getSource(t);return f(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()&&e.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const e=this.registry.getTarget(t);if(f(e,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;return I(this.registry.getTargetType(t),this.getItemType())&&e.canDrop(this,t)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(t){if(!t)return!1;const e=this.registry.getSource(t,!0);if(f(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(t)===this.getItemType()&&e.isDragging(this,t)}isOverTarget(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!t)return!1;const{shallow:n}=e;if(!this.isDragging())return!1;const r=this.registry.getTargetType(t),i=this.getItemType();if(i&&!I(r,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const o=s.indexOf(t);return n?o===s.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return e&&n&&r?A(function(t,e){return{x:t.x+e.x,y:t.y+e.y}}(e,r),n):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(t){const{clientOffset:e,initialClientOffset:n}=t;return e&&n?A(e,n):null}(this.store.getState().dragOffset)}constructor(t,e){this.store=t,this.registry=e}}const L="undefined"!==typeof global?global:self,F=L.MutationObserver||L.WebKitMutationObserver;function z(t){return function(){const e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}const V="function"===typeof F?function(t){let e=1;const n=new F(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}:z;class j{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,e){this.onError=t,this.release=e,this.task=null}}const U=new class{enqueueTask(t){const{queue:e,requestFlush:n}=this;e.length||(n(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let e=0,n=t.length-this.index;e<n;e++)t[e]=t[e+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=V(this.flush),this.requestErrorThrow=z((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},B=new class{create(t){const e=this.freeTasks,n=e.length?e.pop():new j(this.onError,(t=>e[e.length]=t));return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}(U.registerPendingError);const H="dnd-core/ADD_SOURCE",$="dnd-core/ADD_TARGET",W="dnd-core/REMOVE_SOURCE",q="dnd-core/REMOVE_TARGET";function K(t,e){e&&Array.isArray(t)?t.forEach((t=>K(t,!1))):f("string"===typeof t||"symbol"===typeof t,e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Q;!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}(Q||(Q={}));let G=0;function Y(t){const e=(G++).toString();switch(t){case Q.SOURCE:return`S${e}`;case Q.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function X(t){switch(t[0]){case"S":return Q.SOURCE;case"T":return Q.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function J(t,e){const n=t.entries();let r=!1;do{const{done:t,value:[,i]}=n.next();if(i===e)return!0;r=!!t}while(!r);return!1}class Z{addSource(t,e){K(t),function(t){f("function"===typeof t.canDrag,"Expected canDrag to be a function."),f("function"===typeof t.beginDrag,"Expected beginDrag to be a function."),f("function"===typeof t.endDrag,"Expected endDrag to be a function.")}(e);const n=this.addHandler(Q.SOURCE,t,e);return this.store.dispatch(function(t){return{type:H,payload:{sourceId:t}}}(n)),n}addTarget(t,e){K(t,!0),function(t){f("function"===typeof t.canDrop,"Expected canDrop to be a function."),f("function"===typeof t.hover,"Expected hover to be a function."),f("function"===typeof t.drop,"Expected beginDrag to be a function.")}(e);const n=this.addHandler(Q.TARGET,t,e);return this.store.dispatch(function(t){return{type:$,payload:{targetId:t}}}(n)),n}containsHandler(t){return J(this.dragSources,t)||J(this.dropTargets,t)}getSource(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this.isSourceId(t),"Expected a valid source ID.");return e&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return f(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return f(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return f(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return X(t)===Q.SOURCE}isTargetId(t){return X(t)===Q.TARGET}removeSource(t){var e;f(this.getSource(t),"Expected an existing source."),this.store.dispatch(function(t){return{type:W,payload:{sourceId:t}}}(t)),e=()=>{this.dragSources.delete(t),this.types.delete(t)},U.enqueueTask(B.create(e))}removeTarget(t){f(this.getTarget(t),"Expected an existing target."),this.store.dispatch(function(t){return{type:q,payload:{targetId:t}}}(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const e=this.getSource(t);f(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}unpinSource(){f(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,e,n){const r=Y(t);return this.types.set(r,e),t===Q.SOURCE?this.dragSources.set(r,n):t===Q.TARGET&&this.dropTargets.set(r,n),r}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const tt=(t,e)=>t===e;function et(){let t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:break;case H:case $:case q:case W:return N;default:return P}const{targetIds:e=[],prevTargetIds:n=[]}=t.payload,r=function(t,e){const n=new Map,r=t=>{n.set(t,n.has(t)?n.get(t)+1:1)};t.forEach(r),e.forEach(r);const i=[];return n.forEach(((t,e)=>{1===t&&i.push(e)})),i}(e,n),i=r.length>0||!function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tt;if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}(e,n);if(!i)return N;const s=n[n.length-1],o=e[e.length-1];return s!==o&&(s&&r.push(s),o&&r.push(o)),r}function nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const rt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function it(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0;const{payload:n}=e;switch(e.type){case p:case m:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case v:return r=t.clientOffset,i=n.clientOffset,!r&&!i||r&&i&&r.x===i.x&&r.y===i.y?t:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){nt(t,e,n[e])}))}return t}({},t,{clientOffset:n.clientOffset});case w:case b:return rt;default:return t}var r,i}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){st(t,e,n[e])}))}return t}const at={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function lt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,e=arguments.length>1?arguments[1]:void 0;const{payload:n}=e;switch(e.type){case m:return ot({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case y:return ot({},t,{isSourcePublic:!0});case v:return ot({},t,{targetIds:n.targetIds});case q:return-1===t.targetIds.indexOf(n.targetId)?t:ot({},t,{targetIds:(r=t.targetIds,i=n.targetId,r.filter((t=>t!==i)))});case b:return ot({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case w:return ot({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}var r,i}function ct(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case H:case $:return t+1;case W:case q:return t-1;default:return t}}function ut(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){ht(t,e,n[e])}))}return t}function ft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:et(t.dirtyHandlerIds,{type:e.type,payload:dt({},e.payload,{prevTargetIds:(n=t,r="dragOperation.targetIds",i=[],r.split(".").reduce(((t,e)=>t&&t[e]?t[e]:i||null),n))})}),dragOffset:it(t.dragOffset,e),refCount:ct(t.refCount,e),dragOperation:lt(t.dragOperation,e),stateId:ut(t.stateId)};var n,r,i}function gt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(t){const e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return d(ft,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=new R(r,new Z(r)),s=new M(r,i),o=t(s,e,n);return s.receiveBackend(o),s}const pt=(0,i.createContext)({dragDropManager:void 0});function mt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}let yt=0;const vt=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var bt=(0,i.memo)((function(t){var{children:e}=t,n=mt(t,["children"]);const[r,s]=function(t){if("manager"in t){return[{dragDropManager:t.manager},!1]}const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=e;i[vt]||(i[vt]={dragDropManager:gt(t,e,n,r)});return i[vt]}(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}(n);return(0,i.useEffect)((()=>{if(s){const t=wt();return++yt,()=>{0===--yt&&(t[vt]=null)}}}),[]),(0,o.jsx)(pt.Provider,{value:r,children:e})}));function wt(){return"undefined"!==typeof global?global:window}function _t(t){let e=null;return()=>(null==e&&(e=t()),e)}class xt{enter(t){const e=this.entered.length;return this.entered=function(t,e){const n=new Set,r=t=>n.add(t);t.forEach(r),e.forEach(r);const i=[];return n.forEach((t=>i.push(t))),i}(this.entered.filter((e=>this.isNodeInDocument(e)&&(!e.contains||e.contains(t)))),[t]),0===e&&this.entered.length>0}leave(t){const e=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=t,n.filter((t=>t!==r))),e>0&&0===this.entered.length}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class St{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null)})}))}loadDataTransfer(t){if(t){const e={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(e[n]={value:r(t,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,e)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,e){return e===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Et="__NATIVE_FILE__",kt="__NATIVE_URL__",Tt="__NATIVE_TEXT__",Ct="__NATIVE_HTML__";function It(t,e,n){const r=e.reduce(((e,n)=>e||t.getData(n)),"");return null!=r?r:n}const Dt={[Et]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Ct]:{exposeProperties:{html:(t,e)=>It(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[kt]:{exposeProperties:{urls:(t,e)=>It(t,e,"").split("\n"),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Tt]:{exposeProperties:{text:(t,e)=>It(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Ot(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Dt).filter((t=>{const n=Dt[t];return!!(null===n||void 0===n?void 0:n.matchesTypes)&&n.matchesTypes.some((t=>e.indexOf(t)>-1))}))[0]||null}const Mt=_t((()=>/firefox/i.test(navigator.userAgent))),At=_t((()=>Boolean(window.safari)));class Nt{interpolate(t){const{xs:e,ys:n,c1s:r,c2s:i,c3s:s}=this;let o=e.length-1;if(t===e[o])return n[o];let a,l=0,c=s.length-1;for(;l<=c;){a=Math.floor(.5*(l+c));const r=e[a];if(r<t)l=a+1;else{if(!(r>t))return n[a];c=a-1}}o=Math.max(0,c);const u=t-e[o],h=u*u;return n[o]+r[o]*u+i[o]*h+s[o]*u*h}constructor(t,e){const{length:n}=t,r=[];for(let f=0;f<n;f++)r.push(f);r.sort(((e,n)=>t[e]<t[n]?-1:1));const i=[],s=[],o=[];let a,l;for(let f=0;f<n-1;f++)a=t[f+1]-t[f],l=e[f+1]-e[f],s.push(a),i.push(l),o.push(l/a);const c=[o[0]];for(let f=0;f<s.length-1;f++){const t=o[f],e=o[f+1];if(t*e<=0)c.push(0);else{a=s[f];const n=s[f+1],r=a+n;c.push(3*r/((r+n)/t+(r+a)/e))}}c.push(o[o.length-1]);const u=[],h=[];let d;for(let f=0;f<c.length-1;f++){d=o[f];const t=c[f],e=1/s[f],n=t+c[f+1]-d-d;u.push((d-t-n)*e),h.push(n*e*e)}this.xs=t,this.ys=e,this.c1s=c,this.c2s=u,this.c3s=h}}function Pt(t){const e=1===t.nodeType?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Rt(t){return{x:t.clientX,y:t.clientY}}function Lt(t,e,n,r,i){const s=function(t){var e;return"IMG"===t.nodeName&&(Mt()||!(null===(e=document.documentElement)||void 0===e?void 0:e.contains(t)))}(e),o=Pt(s?t:e),a={x:n.x-o.x,y:n.y-o.y},{offsetWidth:l,offsetHeight:c}=t,{anchorX:u,anchorY:h}=r,{dragPreviewWidth:d,dragPreviewHeight:f}=function(t,e,n,r){let i=t?e.width:n,s=t?e.height:r;return At()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}(s,e,l,c),{offsetX:g,offsetY:p}=i,m=0===p||p;return{x:0===g||g?g:new Nt([0,.5,1],[a.x,a.x/l*d,a.x+d-l]).interpolate(u),y:m?p:(()=>{let t=new Nt([0,.5,1],[a.y,a.y/c*f,a.y+f-c]).interpolate(h);return At()&&s&&(t+=(window.devicePixelRatio-1)*f),t})()}}class Ft{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var t;return(null===(t=this.globalContext)||void 0===t?void 0:t.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return(null===(t=this.optionsArgs)||void 0===t?void 0:t.rootElement)||this.window}constructor(t,e){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=e}}function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){zt(t,e,n[e])}))}return t}class jt{profile(){var t,e;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(t=this.dragStartSourceIds)||void 0===t?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(void 0!==t){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;var e;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(t,e,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,e),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,e,n){this.sourceNodes.set(t,e),this.sourceNodeOptions.set(t,n);const r=e=>this.handleDragStart(e,t),i=t=>this.handleSelectStart(t);return e.setAttribute("draggable","true"),e.addEventListener("dragstart",r),e.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),e.removeEventListener("dragstart",r),e.removeEventListener("selectstart",i),e.setAttribute("draggable","false")}}connectDropTarget(t,e){const n=e=>this.handleDragEnter(e,t),r=e=>this.handleDragOver(e,t),i=e=>this.handleDrop(e,t);return e.addEventListener("dragenter",n),e.addEventListener("dragover",r),e.addEventListener("drop",i),()=>{e.removeEventListener("dragenter",n),e.removeEventListener("dragover",r),e.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourceNodeOptions.get(t);return Vt({dropEffect:this.altKeyPressed?"copy":"move"},e||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId();return Vt({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(t)||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(r).some((e=>r[e]===t))}beginDragNativeItem(t,e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(t,e){const n=Dt[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new St(n);return r.loadDataTransfer(e),r}(t,e),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;this.mouseMoveTimeoutTimer=setTimeout((()=>{var t;return null===(t=this.rootElement)||void 0===t?void 0:t.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var t;if(this.currentDragSourceNode=null,this.rootElement)null===(t=this.window)||void 0===t||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,e){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(e))}handleDragEnter(t,e){this.dragEnterTargetIds.unshift(e)}handleDragOver(t,e){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(e)}handleDrop(t,e){this.dropTargetIds.unshift(e)}constructor(t,e,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=t=>{const e=this.sourceNodes.get(t);return e&&Pt(e)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=t=>Boolean(t&&this.document&&this.document.body&&this.document.body.contains(t)),this.endDragIfSourceWasRemovedFromDOM=()=>{const t=this.currentDragSourceNode;null==t||this.isNodeInDocument(t)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=t=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(t||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=t=>{if(t.defaultPrevented)return;const{dragStartSourceIds:e}=this;this.dragStartSourceIds=null;const n=Rt(t);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(e||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=t,i=Ot(r);if(this.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){const t=this.monitor.getSourceId(),e=this.sourceNodes.get(t),i=this.sourcePreviewNodes.get(t)||e;if(i){const{anchorX:t,anchorY:s,offsetX:o,offsetY:a}=this.getCurrentSourcePreviewNodeOptions(),l=Lt(e,i,n,{anchorX:t,anchorY:s},{offsetX:o,offsetY:a});r.setDragImage(i,l.x,l.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(s){}this.setCurrentDragSourceNode(t.target);const{captureDraggingState:e}=this.getCurrentSourcePreviewNodeOptions();e?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(r&&!r.types&&(t.target&&!t.target.hasAttribute||!t.target.hasAttribute("draggable")))return;t.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=t=>{var e;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(e=this.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer));if(!this.enterLeaveCounter.enter(t.target)||this.monitor.isDragging())return;const{dataTransfer:n}=t,r=Ot(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=t=>{const{dragEnterTargetIds:e}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=t.altKey,e.length>0&&this.actions.hover(e,{clientOffset:Rt(t)});e.some((t=>this.monitor.canDropOnTarget(t)))&&(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=t=>{var e;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(e=this.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer))},this.handleTopDragOver=t=>{const{dragOverTargetIds:e}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return t.preventDefault(),void(t.dataTransfer&&(t.dataTransfer.dropEffect="none"));this.altKeyPressed=t.altKey,this.lastClientOffset=Rt(t),this.scheduleHover(e);(e||[]).some((t=>this.monitor.canDropOnTarget(t)))?(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?t.preventDefault():(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=t=>{this.isDraggingNativeItem()&&t.preventDefault();this.enterLeaveCounter.leave(t.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=t=>{var e;(this.dropTargetIds=[],this.isDraggingNativeItem())?(t.preventDefault(),null===(e=this.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer)):Ot(t.dataTransfer)&&t.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=t=>{const{dropTargetIds:e}=this;this.dropTargetIds=[],this.actions.hover(e,{clientOffset:Rt(t)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=t=>{const e=t.target;"function"===typeof e.dragDrop&&("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable||(t.preventDefault(),e.dragDrop()))},this.options=new Ft(e,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new xt(this.isNodeInDocument)}}const Ut=function(t,e,n){return new jt(t,e,n)},Bt=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ht={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bt(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw new $t;const l=e<<2|s>>4;if(r.push(l),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $t extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wt=function(t){return function(t){const e=Bt(t);return Ht.encodeByteArray(e,!0)}(t).replace(/\./g,"")},qt=function(t){try{return Ht.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const Kt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Qt=()=>{try{return Kt()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/task-tracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&qt(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Gt=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Qt())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yt=()=>{var t;return null===(t=Qt())||void 0===t?void 0:t.config};class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Zt(){return!function(){var t;const e=null===(t=Qt())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"===typeof indexedDB}catch(t){return!1}}function ee(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}class ne extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,re.prototype.create)}}class re{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${t}`,r=this.errors[t],i=r?function(t,e){return t.replace(ie,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(r,e):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new ne(n,s,e)}}const ie=/\{\$([^}]+)}/g;function se(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(oe(n)&&oe(s)){if(!se(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oe(t){return null!==t&&"object"===typeof t}function ae(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(e,t),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function le(t){return t&&t._delegate?t._delegate:t}class ce{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ue="[DEFAULT]";class he{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Xt;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===ue?void 0:i),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return this.component?this.component.multipleInstances?t:ue:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new he(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const fe=[];var ge;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ge||(ge={}));const pe={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},me=ge.INFO,ye={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},ve=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=ye[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${t.name}:`,...s)};class be{constructor(t){this.name=t,this._logLevel=me,this._logHandler=ve,this._userLogHandler=null,fe.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?pe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}let we,_e;const xe=new WeakMap,Se=new WeakMap,Ee=new WeakMap,ke=new WeakMap,Te=new WeakMap;let Ce={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Se.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ee.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oe(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(Me(this),n),Oe(xe.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Oe(t.apply(Me(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=t.call(Me(this),e,...r);return Ee.set(s,e.sort?e.sort():[e]),Oe(s)}}function De(t){return"function"===typeof t?Ie(t):(t instanceof IDBTransaction&&function(t){if(Se.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));Se.set(t,e)}(t),e=t,(we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,Ce):t);var e}function Oe(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(Oe(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&xe.set(e,t)})).catch((()=>{})),Te.set(e,t),e}(t);if(ke.has(t))return ke.get(t);const e=De(t);return e!==t&&(ke.set(t,e),Te.set(e,t)),e}const Me=t=>Te.get(t);function Ae(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=Oe(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(Oe(o.result),t.oldVersion,t.newVersion,Oe(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}const Ne=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],Re=new Map;function Le(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(Re.get(e))return Re.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ne.includes(n))return;const s=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&e.done]))[0]};return Re.set(e,s),s}!function(t){Ce=t(Ce)}((t=>({...t,get:(e,n,r)=>Le(e,n)||t.get(e,n,r),has:(e,n)=>!!Le(e,n)||t.has(e,n)})));class Fe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const ze="@firebase/app",Ve="0.11.1",je=new be("@firebase/app"),Ue="@firebase/app-compat",Be="@firebase/analytics-compat",He="@firebase/analytics",$e="@firebase/app-check-compat",We="@firebase/app-check",qe="@firebase/auth",Ke="@firebase/auth-compat",Qe="@firebase/database",Ge="@firebase/data-connect",Ye="@firebase/database-compat",Xe="@firebase/functions",Je="@firebase/functions-compat",Ze="@firebase/installations",tn="@firebase/installations-compat",en="@firebase/messaging",nn="@firebase/messaging-compat",rn="@firebase/performance",sn="@firebase/performance-compat",on="@firebase/remote-config",an="@firebase/remote-config-compat",ln="@firebase/storage",cn="@firebase/storage-compat",un="@firebase/firestore",hn="@firebase/vertexai",dn="@firebase/firestore-compat",fn="firebase",gn="[DEFAULT]",pn={[ze]:"fire-core",[Ue]:"fire-core-compat",[He]:"fire-analytics",[Be]:"fire-analytics-compat",[We]:"fire-app-check",[$e]:"fire-app-check-compat",[qe]:"fire-auth",[Ke]:"fire-auth-compat",[Qe]:"fire-rtdb",[Ge]:"fire-data-connect",[Ye]:"fire-rtdb-compat",[Xe]:"fire-fn",[Je]:"fire-fn-compat",[Ze]:"fire-iid",[tn]:"fire-iid-compat",[en]:"fire-fcm",[nn]:"fire-fcm-compat",[rn]:"fire-perf",[sn]:"fire-perf-compat",[on]:"fire-rc",[an]:"fire-rc-compat",[ln]:"fire-gcs",[cn]:"fire-gcs-compat",[un]:"fire-fst",[dn]:"fire-fst-compat",[hn]:"fire-vertex","fire-js":"fire-js",[fn]:"fire-js-all"},mn=new Map,yn=new Map,vn=new Map;function bn(t,e){try{t.container.addComponent(e)}catch(n){je.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if(vn.has(e))return je.debug(`There were multiple attempts to register component ${e}.`),!1;vn.set(e,t);for(const n of mn.values())bn(n,t);for(const n of yn.values())bn(n,t);return!0}function _n(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const xn=new re("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Sn{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ce("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}function En(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:gn,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw xn.create("bad-app-name",{appName:String(i)});if(n||(n=Yt()),!n)throw xn.create("no-options");const s=mn.get(i);if(s){if(se(n,s.options)&&se(r,s.config))return s;throw xn.create("duplicate-app",{appName:i})}const o=new de(i);for(const l of vn.values())o.addComponent(l);const a=new Sn(n,r,o);return mn.set(i,a),a}function kn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;const e=mn.get(t);if(!e&&t===gn&&Yt())return En();if(!e)throw xn.create("no-app",{appName:t});return e}function Tn(t,e,n){var r;let i=null!==(r=pn[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${i}" with version "${e}":`];return s&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void je.warn(t.join(" "))}wn(new ce(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const Cn="firebase-heartbeat-store";let In=null;function Dn(){return In||(In=Ae("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Cn)}catch(n){console.warn(n)}}}).catch((t=>{throw xn.create("idb-open",{originalErrorMessage:t.message})}))),In}async function On(t,e){try{const n=(await Dn()).transaction(Cn,"readwrite"),r=n.objectStore(Cn);await r.put(e,Mn(t)),await n.done}catch(n){if(n instanceof ne)je.warn(n.message);else{const t=xn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});je.warn(t.message)}}}function Mn(t){return`${t.name}!${t.options.appId}`}class An{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Pn(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nn();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const t=function(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(t,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){je.warn(n)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Nn(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),Rn(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rn(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Wt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return je.warn(e),""}}}function Nn(){return(new Date).toISOString().substring(0,10)}class Pn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!te()&&ee().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Dn()).transaction(Cn),n=await e.objectStore(Cn).get(Mn(t));return await e.done,n}catch(e){if(e instanceof ne)je.warn(e.message);else{const t=xn.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});je.warn(t.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Rn(t){return Wt(JSON.stringify({version:2,heartbeats:t})).length}var Ln;Ln="",wn(new ce("platform-logger",(t=>new Fe(t)),"PRIVATE")),wn(new ce("heartbeat",(t=>new An(t)),"PRIVATE")),Tn(ze,Ve,Ln),Tn(ze,Ve,"esm2017"),Tn("fire-js","");Tn("firebase","11.3.1","app");const Fn="@firebase/installations",zn="0.6.12",Vn=1e4,jn=`w:${zn}`,Un="FIS_v2",Bn=36e5,Hn=new re("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $n(t){return t instanceof ne&&t.code.includes("request-failed")}function Wn(t){let{projectId:e}=t;return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function qn(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function Kn(t,e){const n=(await e.json()).error;return Hn.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Qn(t){let{apiKey:e}=t;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Gn(t,e){let{refreshToken:n}=e;const r=Qn(t);return r.append("Authorization",function(t){return`${Un} ${t}`}(n)),r}async function Yn(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Xn(t){return new Promise((e=>{setTimeout(e,t)}))}const Jn=/^[cdef][\w-]{21}$/;function Zn(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(n=t,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return e.substr(0,22)}(t);return Jn.test(e)?e:""}catch(t){return""}}function tr(t){return`${t.appName}!${t.appId}`}const er=new Map;function nr(t,e){const n=tr(t);rr(n,e),function(t,e){const n=sr();n&&n.postMessage({key:t,fid:e});or()}(n,e)}function rr(t,e){const n=er.get(t);if(n)for(const r of n)r(e)}let ir=null;function sr(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=t=>{rr(t.data.key,t.data.fid)}),ir}function or(){0===er.size&&ir&&(ir.close(),ir=null)}const ar="firebase-installations-store";let lr=null;function cr(){return lr||(lr=Ae("firebase-installations-database",1,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(ar)}})),lr}async function ur(t,e){const n=tr(t),r=(await cr()).transaction(ar,"readwrite"),i=r.objectStore(ar),s=await i.get(n);return await i.put(e,n),await r.done,s&&s.fid===e.fid||nr(t,e.fid),e}async function hr(t){const e=tr(t),n=(await cr()).transaction(ar,"readwrite");await n.objectStore(ar).delete(e),await n.done}async function dr(t,e){const n=tr(t),r=(await cr()).transaction(ar,"readwrite"),i=r.objectStore(ar),s=await i.get(n),o=e(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||nr(t,o.fid),o}async function fr(t){let e;const n=await dr(t.appConfig,(n=>{const r=function(t){const e=t||{fid:Zn(),registrationStatus:0};return mr(e)}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(Hn.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(t,e){try{const n=await async function(t,e){let{appConfig:n,heartbeatServiceProvider:r}=t,{fid:i}=e;const s=Wn(n),o=Qn(n),a=r.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const l={fid:i,authVersion:Un,appId:n.appId,sdkVersion:jn},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Yn((()=>fetch(s,c)));if(u.ok){const t=await u.json();return{fid:t.fid||i,registrationStatus:2,refreshToken:t.refreshToken,authToken:qn(t.authToken)}}throw await Kn("Create Installation",u)}(t,e);return ur(t.appConfig,n)}catch(n){throw $n(n)&&409===n.customData.serverCode?await hr(t.appConfig):await ur(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:gr(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function gr(t){let e=await pr(t.appConfig);for(;1===e.registrationStatus;)await Xn(100),e=await pr(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await fr(t);return n||e}return e}function pr(t){return dr(t,(t=>{if(!t)throw Hn.create("installation-not-found");return mr(t)}))}function mr(t){return 1===(e=t).registrationStatus&&e.registrationTime+Vn<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function yr(t,e){let{appConfig:n,heartbeatServiceProvider:r}=t;const i=function(t,e){let{fid:n}=e;return`${Wn(t)}/${n}/authTokens:generate`}(n,e),s=Gn(n,e),o=r.getImmediate({optional:!0});if(o){const t=await o.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const a={installation:{sdkVersion:jn,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await Yn((()=>fetch(i,l)));if(c.ok){return qn(await c.json())}throw await Kn("Generate Auth Token",c)}async function vr(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await dr(t.appConfig,(r=>{if(!wr(r))throw Hn.create("not-registered");const i=r.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Bn}(t)}(i))return r;if(1===i.requestStatus)return e=async function(t,e){let n=await br(t.appConfig);for(;1===n.authToken.requestStatus;)await Xn(100),n=await br(t.appConfig);const r=n.authToken;return 0===r.requestStatus?vr(t,e):r}(t,n),r;{if(!navigator.onLine)throw Hn.create("app-offline");const n=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(r);return e=async function(t,e){try{const n=await yr(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ur(t.appConfig,r),n}catch(n){if(!$n(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ur(t.appConfig,n)}else await hr(t.appConfig);throw n}}(t,n),n}}));return e?await e:r.authToken}function br(t){return dr(t,(t=>{if(!wr(t))throw Hn.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+Vn<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function wr(t){return void 0!==t&&2===t.registrationStatus}async function _r(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t;await async function(t){const{registrationPromise:e}=await fr(t);e&&await e}(n);return(await vr(n,e)).token}function xr(t){return Hn.create("missing-app-config-values",{valueName:t})}const Sr="installations",Er=t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw xr("App Configuration");if(!t.name)throw xr("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xr(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:_n(e,"heartbeat"),_delete:()=>Promise.resolve()}},kr=t=>{const e=_n(t.getProvider("app").getImmediate(),Sr).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:r}=await fr(e);return r?r.catch(console.error):vr(e).catch(console.error),n.fid}(e),getToken:t=>_r(e,t)}};wn(new ce(Sr,Er,"PUBLIC")),wn(new ce("installations-internal",kr,"PRIVATE")),Tn(Fn,zn),Tn(Fn,zn,"esm2017");const Tr="analytics",Cr="https://www.googletagmanager.com/gtag/js",Ir=new be("@firebase/analytics"),Dr=new re("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Or(t){if(!t.startsWith(Cr)){const e=Dr.create("invalid-gtag-resource",{gtagURL:t});return Ir.warn(e.message),""}return t}function Mr(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function Ar(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Or}),r=document.createElement("script"),i=`${Cr}?l=${t}&id=${e}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Nr(t,e,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=await Mr(n);for(const n of t){const t=r.find((t=>t.measurementId===n)),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ir.error(s)}}(t,e,n,r,i)}else if("config"===i){const[i,s]=o;await async function(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const t=(await Mr(n)).find((t=>t.measurementId===i));t&&await e[t.appId]}}catch(a){Ir.error(a)}t("config",i,s)}(t,e,n,r,i,s)}else if("consent"===i){const[e,n]=o;t("consent",e,n)}else if("get"===i){const[e,n,r]=o;t("get",e,n,r)}else if("set"===i){const[e]=o;t("set",e)}else t(i,...o)}catch(l){Ir.error(l)}}}const Pr=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Rr(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Lr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Dr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zr;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),Fr({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Fr(t,e,n){let{throttleEndTimeMillis:r,backoffCount:i}=e,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pr;var o;const{appId:a,measurementId:l}=t;try{await function(t,e){return new Promise(((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener((()=>{clearTimeout(s),r(Dr.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(n,r)}catch(c){if(l)return Ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===c||void 0===c?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const e=await async function(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Rr(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw Dr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return s.deleteThrottleMetadata(a),e}catch(c){const e=c;if(!function(t){if(!(t instanceof ne)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(e)){if(s.deleteThrottleMetadata(a),l)return Ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===e||void 0===e?void 0:e.message}]`),{appId:a,measurementId:l};throw c}const r=503===Number(null===(o=null===e||void 0===e?void 0:e.customData)||void 0===o?void 0:o.httpStatus)?ae(i,s.intervalMillis,30):ae(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return s.setThrottleMetadata(a,u),Ir.debug(`Calling attemptFetch again in ${r} millis`),Fr(t,u,n,s)}}class zr{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let Vr,jr;function Ur(t){jr=t}function Br(t){Vr=t}async function Hr(t,e,n,r,i,s,o){var a;const l=Lr(t);l.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Ir.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>Ir.error(t))),e.push(l);const c=async function(){if(!te())return Ir.warn(Dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ee()}catch(t){return Ir.warn(Dr.create("indexeddb-unavailable",{errorInfo:null===t||void 0===t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Cr)&&n.src.includes(t))return n;return null})(s)||Ar(s,u.measurementId),jr&&(i("consent","default",jr),Ur(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),Vr&&(i("set",Vr),Br(void 0)),u.measurementId}class $r{constructor(t){this.app=t}_delete(){return delete Wr[this.app.options.appId],Promise.resolve()}}let Wr={},qr=[];const Kr={};let Qr,Gr,Yr="dataLayer",Xr="gtag",Jr=!1;function Zr(){const t=[];if(function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),n=Dr.create("invalid-analytics-context",{errorInfo:e});Ir.warn(n.message)}}function ti(t,e,n){Zr();const r=t.options.appId;if(!r)throw Dr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Dr.create("no-api-key");Ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wr[r])throw Dr.create("already-exists",{id:r});if(!Jr){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Yr);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Nr(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Wr,qr,Kr,Yr,Xr);Gr=t,Qr=e,Jr=!0}Wr[r]=Hr(t,qr,Kr,e,Qr,Yr,n);return new $r(t)}function ei(t,e,n,r){t=le(t),async function(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=await e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Gr,Wr[t.app.options.appId],e,n,r).catch((t=>Ir.error(t)))}const ni="@firebase/analytics",ri="0.10.11";wn(new ce(Tr,((t,e)=>{let{options:n}=e;return ti(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),wn(new ce("analytics-internal",(function(t){try{const e=t.getProvider(Tr).getImmediate();return{logEvent:(t,n,r)=>ei(e,t,n,r)}}catch(e){throw Dr.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Tn(ni,ri),Tn(ni,ri,"esm2017");var ii,si,oi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ai={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=r;)n(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var i={};function s(t){return-128<=t&&128>t?function(t,e){var n=i;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new r([0|t],0>t?-1:0)})):new r([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new r(e,0)}var a=s(0),l=s(1),c=s(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new r(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function g(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function p(t,e){this.g=t,this.h=e}function m(t,e){if(u(e))throw Error("division by zero");if(u(t))return new p(a,a);if(h(t))return e=m(d(t),e),new p(d(e.g),d(e.h));if(h(e))return e=m(t,d(e)),new p(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=e;0>=r.l(t);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(t)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return e=f(t,i.j(e)),new p(i,e)}for(i=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(e);h(c)||0<c.l(t);)c=(s=o(n-=r)).j(e);u(s)&&(s=l),i=i.add(s),t=f(t,c)}return new p(i,t)}function y(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new r(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new r(s,t.h)}(t=r.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),n=this,r="";;){var i=m(n,e).g,s=((0<(n=f(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),p=t.i(s)>>>16,m=65535&t.i(s);n[2*i+2*s]+=f*m,g(n,2*i+2*s),n[2*i+2*s+1]+=l*m,g(n,2*i+2*s+1),n[2*i+2*s+1]+=f*p,g(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,g(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new r(n,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)&t.i(i);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)|t.i(i);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)^t.i(i);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,si=ai.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},ii=ai.Integer=r}).apply("undefined"!==typeof oi?oi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var li,ci,ui,hi,di,fi,gi,pi,mi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yi={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof mi&&mi];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in i))break t;i=i[o]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var r=r||{},i=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function g(t){return/^[\s\xa0]*$/.test(t)}function p(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function v(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<w.length;e++)n=w[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function x(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function S(t){i.setTimeout((()=>{throw t}),0)}function E(){var t=D;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var k=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new T),(t=>t.reset()));class T{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,D=new class{constructor(){this.h=this.g=null}add(t,e){const n=k.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const t=i.Promise.resolve(void 0);C=()=>{t.then(M)}};var M=()=>{for(var t;t=E();){try{t.h.call(t.g)}catch(n){S(n)}var e=k;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function A(){this.s=this.s,this.C=this.C}function N(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(n){}return t}();function R(t,e){if(N.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{m(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:L[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&R.aa.h.call(this)}}h(R,N);var L={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),z=0;function V(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function j(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function U(t){this.src=t,this.g={},this.h=0}function B(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Array.prototype.indexOf.call(i,e,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(j(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function H(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}U.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=H(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new V(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var $="closure_lm_"+(1e6*Math.random()|0),W={};function q(t,e,n,r,i){if(r&&r.once)return Q(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)q(t,e[s],n,r,i);return null}return n=et(n),t&&t[F]?t.K(e,n,o(r)?!!r.capture:!!r,i):K(t,e,n,!1,r,i)}function K(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(t);if(l||(t[$]=l=new U(t)),(n=l.add(e,n,r,a,s)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=J;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)P||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(X(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Q(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Q(t,e[s],n,r,i);return null}return n=et(n),t&&t[F]?t.L(e,n,o(r)?!!r.capture:!!r,i):K(t,e,n,!0,r,i)}function G(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)G(t,e[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=et(n),t&&t[F]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=H(s=t.g[e],n,r,i))&&(j(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H(e,n,r,i)),(n=-1<t?e[t]:null)&&Y(n))}function Y(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[F])B(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(X(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Z(e))?(B(n,t),0==n.h&&(n.src=null,e[$]=null)):j(t)}}}function X(t){return t in W?W[t]:W[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new R(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&Y(t),t=n.call(r,e)}return t}function Z(t){return(t=t[$])instanceof U?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){A.call(this),this.i=new U(this),this.M=this,this.F=null}function rt(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"===typeof e)e=new N(e,t);else if(e instanceof N)e.target=e.target||t;else{var i=e;_(e=new N(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=it(o,r,!0,e)&&i}if(i=it(o=e.g=t,r,!0,e)&&i,i=it(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=it(o=e.g=n[s],r,!1,e)&&i}function it(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function st(t,e,n){if("function"===typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function ot(t){t.g=st((()=>{t.g=null,t.i&&(t.i=!1,ot(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,A),nt.prototype[F]=!0,nt.prototype.removeEventListener=function(t,e,n,r){G(this,t,e,n,r)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)j(n[r]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},nt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class at extends A{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(t){A.call(this),this.h=t,this.g={}}h(lt,A);var ct=[];function ut(t){v(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Y(t)}),t),t.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ut(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=i.JSON.stringify,dt=i.JSON.parse,ft=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function gt(){}function pt(t){return t.h||(t.h=t.i())}function mt(){}gt.prototype.h=null;var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vt(){N.call(this,"d")}function bt(){N.call(this,"c")}h(vt,N),h(bt,N);var wt={},_t=null;function xt(){return _t=_t||new nt}function St(t){N.call(this,wt.La,t)}function Et(t){const e=xt();rt(e,new St(e))}function kt(t,e){N.call(this,wt.STAT_EVENT,t),this.stat=e}function Tt(t){const e=xt();rt(e,new kt(e,t))}function Ct(t,e){N.call(this,wt.Ma,t),this.size=e}function It(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function Dt(){this.g=!0}function Ot(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ht(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}wt.La="serverreachability",h(St,N),wt.STAT_EVENT="statevent",h(kt,N),wt.Ma="timingevent",h(Ct,N),Dt.prototype.xa=function(){this.g=!1},Dt.prototype.info=function(){};var Mt,At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pt(){}function Rt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}h(Pt,gt),Pt.prototype.g=function(){return new XMLHttpRequest},Pt.prototype.i=function(){return{}},Mt=new Pt;var Ft={},zt={};function Vt(t,e,n){t.L=1,t.v=he(oe(e)),t.m=n,t.P=!0,jt(t,null)}function jt(t,e){t.F=Date.now(),Ht(t),t.A=oe(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),ke(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Lt,t.g=fn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new at(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(ct[0]=i.toString()),i=ct);for(var s=0;s<i.length;s++){var o=q(n,i[s],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Et(),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Ut(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Bt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?zt:(n=Number(e.substring(n,r)),isNaN(n)?Ft:(r+=1)+n>e.length?zt:(e=e.slice(r,r+n),t.C=r+n,e))}function Ht(t){t.S=Date.now()+t.I,$t(t,t.I)}function $t(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(c(t.ba,t),e)}function Wt(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function qt(t){0==t.j.G||t.J||ln(t.j,t)}function Kt(t){Wt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Qt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Zt(n.h,t)))if(!t.K&&Zt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;an(n),Ye(n)}rn(n),Tt(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=It(c(n.Za,n),6e3));if(1>=Jt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((t.K||n.g==t)&&an(n),!g(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(te(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,ue(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){ee(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Wt(a),Ht(a)),r.g=o}else nn(r);0<n.i.length&&Je(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Ge(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Et()}catch(u){}}Rt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==We(t)?e.j():this.Y(t)},Rt.prototype.Y=function(t){try{if(t==this.g)t:{const d=We(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||qe(this.g)))){this.J||4!=d||7==e||Et(),Wt(this);var n=this.g.Z();this.X=n;e:if(Ut(this)){var r=qe(this.g);t="";var s=r.length,o=4==We(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Kt(this),qt(this);var a="";break e}this.h.i=new i.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(o&&e==s-1)});r.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,Tt(12),Kt(this),qt(this);break t}Ot(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Bt(this,a),t==zt){4==d&&(this.s=4,Tt(14),n=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ft){this.s=4,Tt(15),Ot(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ot(this.i,this.l,t,null),Qt(this,t)}if(Ut(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Tt(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Tt(11))}}else Ot(this.i,this.l,a,"[Invalid Chunked Response]"),Kt(this),qt(this)}else Ot(this.i,this.l,a,null),Qt(this,a);4==d&&Kt(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ht(this)))}else(function(t){const e={};t=(t.g&&2<=We(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(g(t[r]))continue;var n=x(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Kt(this),qt(this)}}}catch(d){}},Rt.prototype.cancel=function(){this.J=!0,Kt(this)},Rt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Et(),Tt(17)),Kt(this),this.s=2,qt(this)):$t(this,this.S-t)};var Gt=class{constructor(t,e){this.g=t,this.map=e}};function Yt(t){this.l=t||10,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jt(t){return t.h?1:t.g?t.g.size:0}function Zt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function re(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(s(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}Yt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof se){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,le(this,t.s),this.l=t.l;var e=t.i,n=new _e;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ce(this,n),this.m=t.m}else t&&(e=String(t).match(ie))?(this.h=!1,ae(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),le(this,e[4]),this.l=de(e[5]||"",!0),ce(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new _e(null,this.h))}function oe(t){return new se(t)}function ae(t,e,n){t.j=n?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ce(t,e,n){e instanceof _e?(t.i=e,function(t,e){e&&!t.j&&(xe(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Se(this,e),ke(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=fe(e,be)),t.i=new _e(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function he(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}se.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,me,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,me,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(fe(n,"/"==n.charAt(0)?ve:ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",fe(n,we)),t.join("")};var pe,me=/[#\/\?@]/g,ye=/[#\?:]/g,ve=/[#\?]/g,be=/[#\?@]/g,we=/#/g;function _e(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Se(t,e){xe(t),e=Te(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ee(t,e){return xe(t),e=Te(t,e),t.g.has(e)}function ke(t,e,n){Se(t,e),0<n.length&&(t.i=null,t.g.set(Te(t,e),d(n)),t.h+=n.length)}function Te(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ce(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ie(){this.g=new ft}function De(t,e,n){const r=n||"";try{re(t,(function(t,n){let i=t;o(t)&&(i=ht(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Oe(t){this.l=t.Ub||null,this.j=t.eb||!1}function Me(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ae(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Ne(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Pe(t)}function Pe(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Re(t){let e="";return v(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Le(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Re(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ue(t,e,n))}function Fe(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=_e.prototype).add=function(t,e){xe(this),this.i=null,t=Te(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){xe(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){xe(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){xe(this);let e=[];if("string"===typeof t)Ee(this,t)&&(e=e.concat(this.g.get(Te(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return xe(this),this.i=null,Ee(this,t=Te(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")},h(Oe,gt),Oe.prototype.g=function(){return new Me(this.l,this.j)},Oe.prototype.i=(pe={},function(){return pe}),h(Me,nt),(t=Me.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Pe(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ne(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pe(this)),this.g&&(this.readyState=3,Pe(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ae(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ne(this):Pe(this),3==this.readyState&&Ae(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Ne(this))},t.Qa=function(t){this.g&&(this.response=t,Ne(this))},t.ga=function(){this.g&&Ne(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Me.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Fe,nt);var ze=/^https?$/i,Ve=["POST","PUT"];function je(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Ue(t),He(t)}function Ue(t){t.A||(t.A=!0,rt(t,"complete"),rt(t,"error"))}function Be(t){if(t.h&&"undefined"!=typeof r&&(!t.v[1]||4!=We(t)||2!=t.Z()))if(t.u&&4==We(t))st(t.Ea,0,t);else if(rt(t,"readystatechange"),4==We(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===r){var o=String(t.D).match(ie)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!ze.test(o?o.toLowerCase():"")}n=s}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var a=2<We(t)?t.g.statusText:""}catch(l){a=""}t.l=a+" ["+t.Z()+"]",Ue(t)}}finally{He(t)}}}function He(t,e){if(t.g){$e(t);const r=t.g,i=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||rt(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function $e(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function We(t){return t.g?t.g.readyState:0}function qe(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(bi){return null}}function Ke(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qe(t){this.Aa=0,this.i=[],this.j=new Dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ke("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ke("baseRetryDelayMs",5e3,t),this.cb=Ke("retryDelaySeedMs",1e4,t),this.Wa=Ke("forwardChannelMaxRetries",2,t),this.wa=Ke("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Yt(t&&t.concurrentRequestLimit),this.Da=new Ie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ge(t){if(Xe(t),3==t.G){var e=t.U++,n=oe(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),tn(t,n),(e=new Rt(t,t.j,e)).L=2,e.v=he(oe(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=fn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Ht(e)}hn(t)}function Ye(t){t.g&&(sn(t),t.g.cancel(),t.g=null)}function Xe(t){Ye(t),t.u&&(i.clearTimeout(t.u),t.u=null),an(t),t.h.cancel(),t.s&&("number"===typeof t.s&&i.clearTimeout(t.s),t.s=null)}function Je(t){if(!Xt(t.h)&&!t.s){t.s=!0;var e=t.Ga;C||O(),I||(C(),I=!0),D.add(e,t),t.B=0}}function Ze(t,e){var n;n=e?e.l:t.U++;const r=oe(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.T),tn(t,r),t.m&&t.o&&Le(r,t.m,t.o),n=new Rt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),Vt(n,r,e)}function tn(t,e){t.H&&v(t.H,(function(t,n){ue(e,n,t)})),t.l&&re({},(function(t,n){ue(e,n,t)}))}function en(t,e,n){n=Math.min(t.i.length,n);var r=t.l?c(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=e,0>n)e=Math.max(0,i[a].g-100),o=!1;else try{De(l,t,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;C||O(),I||(C(),I=!0),D.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=It(c(t.Fa,t),cn(t,t.v)),t.v++,!0)}function sn(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function on(t){t.g=new Rt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=oe(t.qa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.T),ue(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ue(e,"TO",t.ja),ue(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Le(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=he(oe(e)),n.m=null,n.P=!0,jt(n,t)}function an(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function ln(t,e){var n=null;if(t.g==e){an(t),sn(t),t.g=null;var r=2}else{if(!Zt(t.h,e))return;n=e.D,ee(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;rt(r=xt(),new Ct(r,n)),Je(t)}else nn(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(Jt(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=It(c(t.Ga,t,e),cn(t,t.B)),t.B++,!0))}(t,e)||2==r&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:un(t,5);break;case 4:un(t,10);break;case 3:un(t,6);break;default:un(t,2)}}function cn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function un(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),r=t.Xa;const e=!r;r=new se(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ae(r,"https"),he(r),e?function(t,e){const n=new Dt;if(i.Image){const r=new Image;r.onload=u(Ce,n,"TestLoadImage: loaded",!0,e,r),r.onerror=u(Ce,n,"TestLoadImage: error",!1,e,r),r.onabort=u(Ce,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=u(Ce,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Dt;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ce(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Ce(0,0,!0,e):Ce(0,0,!1,e)})).catch((()=>{clearTimeout(r),Ce(0,0,!1,e)}))}(r.toString(),n)}else Tt(2);t.G=0,t.l&&t.l.sa(e),hn(t),Xe(t)}function hn(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function dn(t,e,n){var r=n instanceof se?oe(n):new se(n);if(""!=r.g)e&&(r.g=e+"."+r.g),le(r,r.s);else{var s=i.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new se(null);r&&ae(o,r),e&&(o.g=e),s&&le(o,s),n&&(o.l=n),r=o}return n=t.D,e=t.ya,n&&e&&ue(r,n,e),ue(r,"VER",t.la),tn(t,r),r}function fn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Fe(new Oe({eb:n})):new Fe(t.pa)).Ha(t.J),e}function gn(){}function pn(){}function mn(t,e){nt.call(this),this.g=new Qe(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!g(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!g(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new bn(this)}function yn(t){vt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vn(){bt.call(this),this.status=1}function bn(t){this.g=t}(t=Fe.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mt.g(),this.v=this.o?pt(this.o):pt(Mt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void je(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),s=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ve,e,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$e(this),this.u=!0,this.g.send(t),this.u=!1}catch(o){je(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),He(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),He(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Be(this):this.bb())},t.bb=function(){Be(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<We(this)?this.g.status:-1}catch(pe){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(pe){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Qe.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){Tt(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Je(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Rt(this,this.j,t);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,i,e),ue(n=oe(this.I),"RID",t),ue(n,"CVER",22),this.D&&ue(n,"X-HTTP-Session-Id",this.D),tn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Re(s)))+"&"+e:this.m&&Le(n,this.m,s)),te(this.h,i),this.Ua&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.T=!0,Vt(i,n,null)):Vt(i,n,e),this.G=2}}else 3==this.G&&(t?Ze(this,t):0==this.i.length||Xt(this.h)||Ze(this))},t.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Ye(this),on(this))},t.Za=function(){null!=this.C&&(this.C=null,Ye(this),rn(this),Tt(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=gn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},pn.prototype.g=function(t,e){return new mn(t,e)},h(mn,nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ge(this.g)},mn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new Gt(e.Ya++,t)),3==e.G&&Je(e)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ge(this.g),delete this.g,mn.aa.N.call(this)},h(yn,vt),h(vn,bt),h(bn,gn),bn.prototype.ua=function(){rt(this.g,"a")},bn.prototype.ta=function(t){rt(this.g,new yn(t))},bn.prototype.sa=function(t){rt(this.g,new vn)},bn.prototype.ra=function(){rt(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,pi=yi.createWebChannelTransport=function(){return new pn},gi=yi.getStatEventTarget=function(){return xt()},fi=yi.Event=wt,di=yi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,hi=yi.ErrorCode=At,Nt.COMPLETE="complete",ui=yi.EventType=Nt,mt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,ci=yi.WebChannel=mt,yi.FetchXmlHttpFactory=Oe,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,li=yi.XhrIo=Fe}).apply("undefined"!==typeof mi?mi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const vi="@firebase/firestore",bi="4.7.8";class wi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let _i="11.3.1";const xi=new be("@firebase/firestore");function Si(){return xi.logLevel}function Ei(t){if(xi.logLevel<=ge.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(Ci);xi.debug(`Firestore (${_i}): ${t}`,...i)}}function ki(t){if(xi.logLevel<=ge.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(Ci);xi.error(`Firestore (${_i}): ${t}`,...i)}}function Ti(t){if(xi.logLevel<=ge.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(Ci);xi.warn(`Firestore (${_i}): ${t}`,...i)}}function Ci(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Ii(){const t=`FIRESTORE (${_i}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ki(t),new Error(t)}function Di(t,e){t||Ii()}function Oi(t,e){return t}const Mi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ai extends ne{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Pi{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ri{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(wi.UNAUTHENTICATED)))}shutdown(){}}class Li{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Fi{constructor(t){this.t=t,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Di(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ni,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{Ei("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Ei("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ni)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Ei("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Di("string"==typeof e.accessToken),new Pi(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Di(null===t||"string"==typeof t),new wi(t)}}class zi{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vi{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new zi(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(wi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ji{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ui{constructor(t,e){var n;this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,null!==(n=t)&&void 0!==n&&void 0!==n.settings&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Di(void 0===this.o);const n=t=>{null!=t.error&&Ei("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,Ei("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Ei("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):Ei("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new ji(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Di("string"==typeof t.token),this.R=t.token,new ji(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Bi(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Hi{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=Bi(40);for(let r=0;r<n.length;++r)e.length<20&&n[r]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return e}}function $i(t,e){return t<e?-1:t>e?1:0}function Wi(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}const qi=-62135596800,Ki=1e6;class Qi{static now(){return Qi.fromMillis(Date.now())}static fromDate(t){return Qi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Ki);return new Qi(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ai(Mi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ai(Mi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<qi)throw new Ai(Mi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ai(Mi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ki}_compareTo(t){return this.seconds===t.seconds?$i(this.nanoseconds,t.nanoseconds):$i(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-qi;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gi{static fromTimestamp(t){return new Gi(t)}static min(){return new Gi(new Qi(0,0))}static max(){return new Gi(new Qi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yi="__name__";class Xi{constructor(t,e,n){void 0===e?e=0:e>t.length&&Ii(),void 0===n?n=t.length-e:n>t.length-e&&Ii(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Xi.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=Xi.compareSegments(t.get(r),e.get(r));if(0!==n)return n}return Math.sign(t.length-e.length)}static compareSegments(t,e){const n=Xi.isNumericId(t),r=Xi.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?Xi.extractNumericId(t).compare(Xi.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ii.fromString(t.substring(4,t.length-2))}}class Ji extends Xi{construct(t,e,n){return new Ji(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ai(Mi.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((t=>t.length>0)))}return new Ji(t)}static emptyPath(){return new Ji([])}}const Zi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Xi{construct(t,e,n){return new ts(t,e,n)}static isValidIdentifier(t){return Zi.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Yi}static keyField(){return new ts([Yi])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ai(Mi.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Ai(Mi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Ai(Mi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new Ai(Mi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ts(e)}static emptyPath(){return new ts([])}}class es{constructor(t){this.path=t}static fromPath(t){return new es(Ji.fromString(t))}static fromName(t){return new es(Ji.fromString(t).popFirst(5))}static empty(){return new es(Ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ji.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ji.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new es(new Ji(t.slice()))}}const ns=-1;class rs{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}rs.UNKNOWN_ID=-1;function is(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Gi.fromTimestamp(1e9===r?new Qi(n+1,0):new Qi(n,r));return new os(i,es.empty(),e)}function ss(t){return new os(t.readTime,t.key,ns)}class os{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new os(Gi.min(),es.empty(),ns)}static max(){return new os(Gi.max(),es.empty(),ns)}}function as(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=es.comparator(t.documentKey,e.documentKey),0!==n?n:$i(t.largestBatchId,e.largestBatchId))}const ls="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function us(t){if(t.code!==Mi.FAILED_PRECONDITION||t.message!==ls)throw t;Ei("LocalStore","Unexpectedly lost primary lease")}class hs{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new hs(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof hs?e:hs.resolve(e)}catch(t){return hs.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):hs.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):hs.reject(e)}static resolve(t){return new hs(((e,n)=>{e(t)}))}static reject(t){return new hs(((e,n)=>{n(t)}))}static waitFor(t){return new hs(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=hs.resolve(!1);for(const n of t)e=e.next((t=>t?hs.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new hs(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new hs(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function ds(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fs(t){return"IndexedDbTransactionError"===t.name}class gs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.oe(t),this._e=t=>e.writeSequenceNumber(t))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}gs.ae=-1;const ps=-1;function ms(t){return null==t}function ys(t){return 0===t&&1/t==-1/0}function vs(t){return"number"==typeof t&&Number.isInteger(t)&&!ys(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const bs="\x01";function ws(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xs(e)),e=_s(t.get(n),e);return xs(e)}function _s(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case bs:n+="\x01\x11";break;default:n+=e}}return n}function xs(t){return t+bs+"\x01"}const Ss="remoteDocuments",Es="owner",ks="mutationQueues",Ts="mutations";const Cs="documentMutations",Is="remoteDocumentsV14",Ds="remoteDocumentGlobal",Os="targets",Ms="targetDocuments",As="targetGlobal",Ns="collectionParents",Ps="clientMetadata",Rs="bundles",Ls="namedQueries",Fs="indexConfiguration",zs="indexState",Vs="indexEntries",js="documentOverlays",Us="globals",Bs=[ks,Ts,Cs,Ss,Os,Es,As,Ms,Ps,Ds,Ns,Rs,Ls],Hs=[ks,Ts,Cs,Is,Os,Es,As,Ms,Ps,Ds,Ns,Rs,Ls,js],$s=Hs,Ws=[...$s,Fs,zs,Vs];function qs(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qs(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Gs{constructor(t,e){this.comparator=t,this.root=e||Xs.EMPTY}insert(t,e){return new Gs(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xs.BLACK,null,null))}remove(t){return new Gs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ys(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ys(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ys(this.root,t,this.comparator,!0)}}class Ys{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xs{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Xs.RED,this.left=null!=r?r:Xs.EMPTY,this.right=null!=i?i:Xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Xs(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Xs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ii();if(this.right.isRed())throw Ii();const t=this.left.check();if(t!==this.right.check())throw Ii();return t+(this.isRed()?0:1)}}Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1,Xs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ii()}get value(){throw Ii()}get color(){throw Ii()}get left(){throw Ii()}get right(){throw Ii()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Xs(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Js{constructor(t){this.comparator=t,this.data=new Gs(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Zs(this.data.getIterator())}getIteratorFrom(t){return new Zs(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Js))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Js(this.comparator);return e.data=t,e}}class Zs{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class to{constructor(t){this.fields=t,t.sort(ts.comparator)}static empty(){return new to([])}unionWith(t){let e=new Js(ts.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new to(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wi(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class eo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class no{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new eo("Invalid base64 string: "+t):t}}(t);return new no(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new no(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $i(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}no.EMPTY_BYTE_STRING=new no("");const ro=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(Di(!!t),"string"==typeof t){let e=0;const n=ro.exec(t);if(Di(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:so(t.seconds),nanos:so(t.nanos)}}function so(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oo(t){return"string"==typeof t?no.fromBase64String(t):no.fromUint8Array(t)}const ao="server_timestamp",lo="__type__",co="__previous_value__",uo="__local_write_time__";function ho(t){var e,n;return(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{})[lo])||void 0===n?void 0:n.stringValue)===ao}function fo(t){const e=t.mapValue.fields[co];return ho(e)?fo(e):e}function go(t){const e=io(t.mapValue.fields[uo].timestampValue);return new Qi(e.seconds,e.nanos)}class po{constructor(t,e,n,r,i,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}const mo="(default)";class yo{constructor(t,e){this.projectId=t,this.database=e||mo}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===mo}isEqual(t){return t instanceof yo&&t.projectId===this.projectId&&t.database===this.database}}const vo="__type__",bo="__max__",wo={mapValue:{fields:{__type__:{stringValue:bo}}}},_o="__vector__",xo="value";function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ho(t)?4:Vo(t)?9007199254740991:Fo(t)?10:11:Ii()}function Eo(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return go(t).isEqual(go(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=io(t.timestampValue),r=io(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return oo(t.bytesValue).isEqual(oo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return so(t.geoPointValue.latitude)===so(e.geoPointValue.latitude)&&so(t.geoPointValue.longitude)===so(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return so(t.integerValue)===so(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=so(t.doubleValue),r=so(e.doubleValue);return n===r?ys(n)===ys(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Wi(t.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(qs(n)!==qs(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Eo(n[i],r[i])))return!1;return!0}(t,e);default:return Ii()}}function ko(t,e){return void 0!==(t.values||[]).find((t=>Eo(t,e)))}function To(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return $i(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $i(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=so(t.integerValue||t.doubleValue),r=so(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Co(t.timestampValue,e.timestampValue);case 4:return Co(go(t),go(e));case 5:return $i(t.stringValue,e.stringValue);case 6:return function(t,e){const n=oo(t),r=oo(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=$i(n[i],r[i]);if(0!==t)return t}return $i(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=$i(so(t.latitude),so(e.latitude));return 0!==n?n:$i(so(t.longitude),so(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Io(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,i,s;const o=t.fields||{},a=e.fields||{},l=null===(n=o[xo])||void 0===n?void 0:n.arrayValue,c=null===(r=a[xo])||void 0===r?void 0:r.arrayValue,u=$i((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Io(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===wo.mapValue&&e===wo.mapValue)return 0;if(t===wo.mapValue)return 1;if(e===wo.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=$i(r[o],s[o]);if(0!==t)return t;const e=To(n[r[o]],i[s[o]]);if(0!==e)return e}return $i(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ii()}}function Co(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $i(t,e);const n=io(t),r=io(e),i=$i(n.seconds,r.seconds);return 0!==i?i:$i(n.nanos,r.nanos)}function Io(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=To(n[i],r[i]);if(t)return t}return $i(n.length,r.length)}function Do(t){return Oo(t)}function Oo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=io(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return oo(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return es.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Oo(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Oo(t.fields[i])}`;return n+"}"}(t.mapValue):Ii()}function Mo(t){switch(So(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fo(t);return e?16+Mo(e):16;case 5:return 2*t.stringValue.length;case 6:return oo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+Mo(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Ks(t.fields,((t,n)=>{e+=t.length+Mo(n)})),e}(t.mapValue);default:throw Ii()}}function Ao(t){return!!t&&"integerValue"in t}function No(t){return!!t&&"arrayValue"in t}function Po(t){return!!t&&"nullValue"in t}function Ro(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lo(t){return!!t&&"mapValue"in t}function Fo(t){var e,n;return(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{})[vo])||void 0===n?void 0:n.stringValue)===_o}function zo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=zo(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Vo(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bo}class jo{constructor(t){this.value=t}static empty(){return new jo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Lo(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zo(e)}setAll(t){let e=ts.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=zo(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Lo(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Eo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Lo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Ks(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new jo(zo(this.value))}}function Uo(t){const e=[];return Ks(t.fields,((t,n)=>{const r=new ts([t]);if(Lo(n)){const t=Uo(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new to(e)}class Bo{constructor(t,e,n,r,i,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Bo(t,0,Gi.min(),Gi.min(),Gi.min(),jo.empty(),0)}static newFoundDocument(t,e,n,r){return new Bo(t,1,e,Gi.min(),n,r,0)}static newNoDocument(t,e){return new Bo(t,2,e,Gi.min(),Gi.min(),jo.empty(),0)}static newUnknownDocument(t,e){return new Bo(t,3,e,Gi.min(),Gi.min(),jo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Gi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gi.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Bo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ho{constructor(t,e){this.position=t,this.inclusive=e}}function $o(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?es.comparator(es.fromName(o.referenceValue),n.key):To(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Wo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Eo(t.position[n],e.position[n]))return!1;return!0}class qo{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Ko(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Qo{}class Go extends Qo{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new ra(t,e,n):"array-contains"===e?new aa(t,n):"in"===e?new la(t,n):"not-in"===e?new ca(t,n):"array-contains-any"===e?new ua(t,n):new Go(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new ia(t,n):new sa(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(To(e,this.value)):null!==e&&So(this.value)===So(e)&&this.matchesComparison(To(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ii()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yo extends Qo{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new Yo(t,e)}matches(t){return Xo(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Xo(t){return"and"===t.op}function Jo(t){return Zo(t)&&Xo(t)}function Zo(t){for(const e of t.filters)if(e instanceof Yo)return!1;return!0}function ta(t){if(t instanceof Go)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(Jo(t))return t.filters.map((t=>ta(t))).join(",");{const e=t.filters.map((t=>ta(t))).join(",");return`${t.op}(${e})`}}function ea(t,e){return t instanceof Go?function(t,e){return e instanceof Go&&t.op===e.op&&t.field.isEqual(e.field)&&Eo(t.value,e.value)}(t,e):t instanceof Yo?function(t,e){return e instanceof Yo&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&ea(n,e.filters[r])),!0)}(t,e):void Ii()}function na(t){return t instanceof Go?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(t):t instanceof Yo?function(t){return t.op.toString()+" {"+t.getFilters().map(na).join(" ,")+"}"}(t):"Filter"}class ra extends Go{constructor(t,e,n){super(t,e,n),this.key=es.fromName(n.referenceValue)}matches(t){const e=es.comparator(t.key,this.key);return this.matchesComparison(e)}}class ia extends Go{constructor(t,e){super(t,"in",e),this.keys=oa("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class sa extends Go{constructor(t,e){super(t,"not-in",e),this.keys=oa("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function oa(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>es.fromName(t.referenceValue)))}class aa extends Go{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return No(e)&&ko(e.arrayValue,this.value)}}class la extends Go{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ko(this.value.arrayValue,e)}}class ca extends Go{constructor(t,e){super(t,"not-in",e)}matches(t){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ko(this.value.arrayValue,e)}}class ua extends Go{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!No(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>ko(this.value.arrayValue,t)))}}class ha{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.le=null}}function da(t){return new ha(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fa(t){const e=Oi(t);if(null===e.le){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>ta(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),ms(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Do(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Do(t))).join(",")),e.le=t}return e.le}function ga(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ko(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ea(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wo(t.startAt,e.startAt)&&Wo(t.endAt,e.endAt)}function pa(t){return es.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ma{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ya(t,e,n,r,i,s,o,a){return new ma(t,e,n,r,i,s,o,a)}function va(t){return new ma(t)}function ba(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function wa(t){return null!==t.collectionGroup}function _a(t){const e=Oi(t);if(null===e.he){e.he=[];const t=new Set;for(const i of e.explicitOrderBy)e.he.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new Js(ts.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.he.push(new qo(r,n))})),t.has(ts.keyField().canonicalString())||e.he.push(new qo(ts.keyField(),n))}return e.he}function xa(t){const e=Oi(t);return e.Pe||(e.Pe=Sa(e,_a(t))),e.Pe}function Sa(t,e){if("F"===t.limitType)return da(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new qo(t.field,e)}));const n=t.endAt?new Ho(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ho(t.startAt.position,t.startAt.inclusive):null;return da(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ea(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ka(t,e){return ga(xa(t),xa(e))&&t.limitType===e.limitType}function Ta(t){return`${fa(xa(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>na(t))).join(", ")}]`),ms(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Do(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Do(t))).join(",")),`Target(${e})`}(xa(t))}; limitType=${t.limitType})`}function Ia(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):es.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of _a(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=$o(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,_a(t),e))&&!(t.endAt&&!function(t,e,n){const r=$o(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,_a(t),e))}(t,e)}function Da(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Oa(t){return(e,n)=>{let r=!1;for(const i of _a(t)){const t=Ma(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Ma(t,e,n){const r=t.field.isKeyField()?es.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?To(r,i):Ii()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ii()}}class Aa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ks(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Qs(this.inner)}size(){return this.innerSize}}const Na=new Gs(es.comparator);function Pa(){return Na}const Ra=new Gs(es.comparator);function La(){let t=Ra;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function Fa(t){let e=Ra;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function za(){return ja()}function Va(){return ja()}function ja(){return new Aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Ua=new Gs(es.comparator),Ba=new Js(es.comparator);function Ha(){let t=Ba;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const $a=new Js($i);function Wa(){return $a}function qa(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ys(e)?"-0":e}}function Ka(t){return{integerValue:""+t}}function Qa(t,e){return vs(e)?Ka(e):qa(t,e)}class Ga{constructor(){this._=void 0}}function Ya(t,e,n){return t instanceof Za?function(t,e){const n={fields:{[lo]:{stringValue:ao},[uo]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&ho(e)&&(e=fo(e)),e&&(n.fields[co]=e),{mapValue:n}}(n,e):t instanceof tl?el(t,e):t instanceof nl?rl(t,e):function(t,e){const n=Ja(t,e),r=sl(n)+sl(t.Ie);return Ao(n)&&Ao(t.Ie)?Ka(r):qa(t.serializer,r)}(t,e)}function Xa(t,e,n){return t instanceof tl?el(t,e):t instanceof nl?rl(t,e):n}function Ja(t,e){return t instanceof il?function(t){return Ao(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Za extends Ga{}class tl extends Ga{constructor(t){super(),this.elements=t}}function el(t,e){const n=ol(e);for(const r of t.elements)n.some((t=>Eo(t,r)))||n.push(r);return{arrayValue:{values:n}}}class nl extends Ga{constructor(t){super(),this.elements=t}}function rl(t,e){let n=ol(e);for(const r of t.elements)n=n.filter((t=>!Eo(t,r)));return{arrayValue:{values:n}}}class il extends Ga{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function sl(t){return so(t.integerValue||t.doubleValue)}function ol(t){return No(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class al{constructor(t,e){this.version=t,this.transformResults=e}}class ll{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ll}static exists(t){return new ll(void 0,t)}static updateTime(t){return new ll(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ul{}function hl(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new _l(t.key,ll.none()):new ml(t.key,t.data,ll.none());{const n=t.data,r=jo.empty();let i=new Js(ts.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new yl(t.key,r,new to(i.toArray()),ll.none())}}function dl(t,e,n){t instanceof ml?function(t,e,n){const r=t.value.clone(),i=bl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof yl?function(t,e,n){if(!cl(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=bl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(vl(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function fl(t,e,n,r){return t instanceof ml?function(t,e,n,r){if(!cl(t.precondition,e))return n;const i=t.value.clone(),s=wl(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof yl?function(t,e,n,r){if(!cl(t.precondition,e))return n;const i=wl(t.fieldTransforms,r,e),s=e.data;return s.setAll(vl(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return cl(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function gl(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Ja(r.transform,t||null);null!=i&&(null===n&&(n=jo.empty()),n.set(r.field,i))}return n||null}function pl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Wi(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof tl&&e instanceof tl||t instanceof nl&&e instanceof nl?Wi(t.elements,e.elements,Eo):t instanceof il&&e instanceof il?Eo(t.Ie,e.Ie):t instanceof Za&&e instanceof Za}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends ul{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yl extends ul{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vl(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function bl(t,e,n){const r=new Map;Di(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Xa(o,a,n[i]))}return r}function wl(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Ya(t,s,e))}return r}class _l extends ul{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xl extends ul{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sl{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&dl(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=fl(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=fl(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Va();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=hl(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Gi.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ha())}isEqual(t){return this.batchId===t.batchId&&Wi(this.mutations,t.mutations,((t,e)=>pl(t,e)))&&Wi(this.baseMutations,t.baseMutations,((t,e)=>pl(t,e)))}}class El{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Di(t.mutations.length===n.length);let r=Ua;const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new El(t,e,n,r)}}class kl{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tl{constructor(t,e){this.count=t,this.unchangedNames=e}}var Cl,Il;function Dl(t){switch(t){case Mi.OK:return Ii();case Mi.CANCELLED:case Mi.UNKNOWN:case Mi.DEADLINE_EXCEEDED:case Mi.RESOURCE_EXHAUSTED:case Mi.INTERNAL:case Mi.UNAVAILABLE:case Mi.UNAUTHENTICATED:return!1;case Mi.INVALID_ARGUMENT:case Mi.NOT_FOUND:case Mi.ALREADY_EXISTS:case Mi.PERMISSION_DENIED:case Mi.FAILED_PRECONDITION:case Mi.ABORTED:case Mi.OUT_OF_RANGE:case Mi.UNIMPLEMENTED:case Mi.DATA_LOSS:return!0;default:return Ii()}}function Ol(t){if(void 0===t)return ki("GRPC error has no .code"),Mi.UNKNOWN;switch(t){case Cl.OK:return Mi.OK;case Cl.CANCELLED:return Mi.CANCELLED;case Cl.UNKNOWN:return Mi.UNKNOWN;case Cl.DEADLINE_EXCEEDED:return Mi.DEADLINE_EXCEEDED;case Cl.RESOURCE_EXHAUSTED:return Mi.RESOURCE_EXHAUSTED;case Cl.INTERNAL:return Mi.INTERNAL;case Cl.UNAVAILABLE:return Mi.UNAVAILABLE;case Cl.UNAUTHENTICATED:return Mi.UNAUTHENTICATED;case Cl.INVALID_ARGUMENT:return Mi.INVALID_ARGUMENT;case Cl.NOT_FOUND:return Mi.NOT_FOUND;case Cl.ALREADY_EXISTS:return Mi.ALREADY_EXISTS;case Cl.PERMISSION_DENIED:return Mi.PERMISSION_DENIED;case Cl.FAILED_PRECONDITION:return Mi.FAILED_PRECONDITION;case Cl.ABORTED:return Mi.ABORTED;case Cl.OUT_OF_RANGE:return Mi.OUT_OF_RANGE;case Cl.UNIMPLEMENTED:return Mi.UNIMPLEMENTED;case Cl.DATA_LOSS:return Mi.DATA_LOSS;default:return Ii()}}(Il=Cl||(Cl={}))[Il.OK=0]="OK",Il[Il.CANCELLED=1]="CANCELLED",Il[Il.UNKNOWN=2]="UNKNOWN",Il[Il.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Il[Il.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Il[Il.NOT_FOUND=5]="NOT_FOUND",Il[Il.ALREADY_EXISTS=6]="ALREADY_EXISTS",Il[Il.PERMISSION_DENIED=7]="PERMISSION_DENIED",Il[Il.UNAUTHENTICATED=16]="UNAUTHENTICATED",Il[Il.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Il[Il.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Il[Il.ABORTED=10]="ABORTED",Il[Il.OUT_OF_RANGE=11]="OUT_OF_RANGE",Il[Il.UNIMPLEMENTED=12]="UNIMPLEMENTED",Il[Il.INTERNAL=13]="INTERNAL",Il[Il.UNAVAILABLE=14]="UNAVAILABLE",Il[Il.DATA_LOSS=15]="DATA_LOSS";let Ml=null;function Al(){return new TextEncoder}const Nl=new ii([4294967295,4294967295],0);function Pl(t){const e=Al().encode(t),n=new si;return n.update(e),new Uint8Array(n.digest())}function Rl(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ii([n,r],0),new ii([i,s],0)]}class Ll{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Fl(`Invalid padding: ${e}`);if(n<0)throw new Fl(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Fl(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Fl(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=ii.fromNumber(this.Ee)}Ae(t,e,n){let r=t.add(e.multiply(ii.fromNumber(n)));return 1===r.compare(Nl)&&(r=new ii([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ee)return!1;const e=Pl(t),[n,r]=Rl(e);for(let i=0;i<this.hashCount;i++){const t=this.Ae(n,r,i);if(!this.Re(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new Ll(i,r,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Ee)return;const e=Pl(t),[n,r]=Rl(e);for(let i=0;i<this.hashCount;i++){const t=this.Ae(n,r,i);this.Ve(t)}}Ve(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zl{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Vl.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new zl(Gi.min(),r,new Gs($i),Pa(),Ha())}}class Vl{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Vl(n,e,Ha(),Ha(),Ha())}}class jl{constructor(t,e,n,r){this.me=t,this.removedTargetIds=e,this.key=n,this.fe=r}}class Ul{constructor(t,e){this.targetId=t,this.ge=e}}class Bl{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:no.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Hl{constructor(){this.pe=0,this.ye=ql(),this.we=no.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ha(),e=Ha(),n=Ha();return this.ye.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ii()}})),new Vl(this.we,this.Se,t,e,n)}Me(){this.be=!1,this.ye=ql()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Di(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $l{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Pa(),this.$e=Wl(),this.Ke=Wl(),this.Ue=new Gs($i)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,(e=>{const n=this.He(e);switch(t.state){case 0:this.Je(e)&&n.Ce(t.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(t.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(e);break;case 3:this.Je(e)&&(n.Le(),n.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),n.Ce(t.resumeToken));break;default:Ii()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach(((t,n)=>{this.Je(n)&&e(n)}))}Ze(t){const e=t.targetId,n=t.ge.count,r=this.Xe(e);if(r){const i=r.target;if(pa(i))if(0===n){const t=new es(i.path);this.ze(e,t,Bo.newNoDocument(t,Gi.min()))}else Di(1===n);else{const r=this.et(e);if(r!==n){const n=this.tt(t),i=n?this.nt(n,t,r):1;if(0!==i){this.Ye(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,t)}null==Ml||Ml.rt(function(t,e,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.ge,this.ke.it(),n,i))}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let s,o;try{s=oo(n).toUint8Array()}catch(t){if(t instanceof eo)return Ti("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new Ll(s,r,i)}catch(t){return Ti(t instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Ee?null:o}nt(t,e,n){return e.ge.count===n-this.st(t,e.targetId)?0:2}st(t,e){const n=this.ke.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.mightContain(s)||(this.ze(e,n,null),r++)})),r}ot(t){const e=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&pa(i.target)){const e=new es(i.target.path);this._t(e).has(r)||this.ut(r,e)||this.ze(r,e,Bo.newNoDocument(e,t))}n.ve&&(e.set(r,n.Fe()),n.Me())}}));let n=Ha();this.Ke.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Xe(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.Qe.forEach(((e,n)=>n.setReadTime(t)));const r=new zl(t,e,this.Ue,this.Qe,n);return this.Qe=Pa(),this.$e=Wl(),this.Ke=Wl(),this.Ue=new Gs($i),r}Ge(t,e){if(!this.Je(t))return;const n=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,n),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,n){if(!this.Je(t))return;const r=this.He(t);this.ut(t,e)?r.xe(e,1):r.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),n&&(this.Qe=this.Qe.insert(e,n))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new Hl,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new Js($i),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Js($i),this.$e=this.$e.insert(t,e)),e}Je(t){const e=null!==this.Xe(t);return e||Ei("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Hl),this.ke.getRemoteKeysForTarget(t).forEach((e=>{this.ze(t,e,null)}))}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function Wl(){return new Gs(es.comparator)}function ql(){return new Gs(es.comparator)}const Kl={asc:"ASCENDING",desc:"DESCENDING"},Ql={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gl={and:"AND",or:"OR"};class Yl{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Xl(t,e){return t.useProto3Json||ms(e)?e:{value:e}}function Jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zl(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tc(t,e){return Jl(t,e.toTimestamp())}function ec(t){return Di(!!t),Gi.fromTimestamp(function(t){const e=io(t);return new Qi(e.seconds,e.nanos)}(t))}function nc(t,e){return rc(t,e).canonicalString()}function rc(t,e){const n=function(t){return new Ji(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function ic(t){const e=Ji.fromString(t);return Di(Ec(e)),e}function sc(t,e){return nc(t.databaseId,e.path)}function oc(t,e){const n=ic(e);if(n.get(1)!==t.databaseId.projectId)throw new Ai(Mi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ai(Mi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new es(uc(n))}function ac(t,e){return nc(t.databaseId,e)}function lc(t){const e=ic(t);return 4===e.length?Ji.emptyPath():uc(e)}function cc(t){return new Ji(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uc(t){return Di(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hc(t,e,n){return{name:sc(t,e),fields:n.value.mapValue.fields}}function dc(t,e){let n;if(e instanceof ml)n={update:hc(t,e.key,e.value)};else if(e instanceof _l)n={delete:sc(t,e.key)};else if(e instanceof yl)n={update:hc(t,e.key,e.data),updateMask:Sc(e.fieldMask)};else{if(!(e instanceof xl))return Ii();n={verify:sc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Za)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof il)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw Ii()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:tc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ii()}(t,e.precondition)),n}function fc(t,e){return{documents:[ac(t,e.path)]}}function gc(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ac(t,i);const s=function(t){if(0!==t.length)return xc(Yo.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:wc(t.field),direction:yc(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xl(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ht:n,parent:i}}function pc(t){let e=lc(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Di(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=mc(t);return e instanceof Yo&&Jo(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new qo(_c(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,ms(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Ho(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Ho(n,e)}(n.endAt)),ya(e,i,o,s,a,"F",l,c)}function mc(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_c(t.unaryFilter.field);return Go.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=_c(t.unaryFilter.field);return Go.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_c(t.unaryFilter.field);return Go.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_c(t.unaryFilter.field);return Go.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ii()}}(t):void 0!==t.fieldFilter?function(t){return Go.create(_c(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ii()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Yo.create(t.compositeFilter.filters.map((t=>mc(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ii()}}(t.compositeFilter.op))}(t):Ii()}function yc(t){return Kl[t]}function vc(t){return Ql[t]}function bc(t){return Gl[t]}function wc(t){return{fieldPath:t.canonicalString()}}function _c(t){return ts.fromServerFormat(t.fieldPath)}function xc(t){return t instanceof Go?function(t){if("=="===t.op){if(Ro(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NAN"}};if(Po(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ro(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NAN"}};if(Po(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(t.field),op:vc(t.op),value:t.value}}}(t):t instanceof Yo?function(t){const e=t.getFilters().map((t=>xc(t)));return 1===e.length?e[0]:{compositeFilter:{op:bc(t.op),filters:e}}}(t):Ii()}function Sc(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ec(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class kc{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gi.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gi.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:no.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new kc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Tc{constructor(t){this.Tt=t}}function Cc(t){const e=pc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ea(e,e.limit,"L"):e}class Ic{constructor(){}At(t,e){this.Rt(t,e),e.Vt()}Rt(t,e){if("nullValue"in t)this.ft(e,5);else if("booleanValue"in t)this.ft(e,10),e.gt(t.booleanValue?1:0);else if("integerValue"in t)this.ft(e,15),e.gt(so(t.integerValue));else if("doubleValue"in t){const n=so(t.doubleValue);isNaN(n)?this.ft(e,13):(this.ft(e,15),ys(n)?e.gt(0):e.gt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.ft(e,20),"string"==typeof n&&(n=io(n)),e.yt(`${n.seconds||""}`),e.gt(n.nanos||0)}else if("stringValue"in t)this.wt(t.stringValue,e),this.St(e);else if("bytesValue"in t)this.ft(e,30),e.bt(oo(t.bytesValue)),this.St(e);else if("referenceValue"in t)this.Dt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ft(e,45),e.gt(n.latitude||0),e.gt(n.longitude||0)}else"mapValue"in t?Vo(t)?this.ft(e,Number.MAX_SAFE_INTEGER):Fo(t)?this.vt(t.mapValue,e):(this.Ct(t.mapValue,e),this.St(e)):"arrayValue"in t?(this.Ft(t.arrayValue,e),this.St(e)):Ii()}wt(t,e){this.ft(e,25),this.Mt(t,e)}Mt(t,e){e.yt(t)}Ct(t,e){const n=t.fields||{};this.ft(e,55);for(const r of Object.keys(n))this.wt(r,e),this.Rt(n[r],e)}vt(t,e){var n,r;const i=t.fields||{};this.ft(e,53);const s=xo,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(e,15),e.gt(so(o)),this.wt(s,e),this.Rt(i[s],e)}Ft(t,e){const n=t.values||[];this.ft(e,50);for(const r of n)this.Rt(r,e)}Dt(t,e){this.ft(e,37),es.fromName(t).path.forEach((t=>{this.ft(e,60),this.Mt(t,e)}))}ft(t,e){t.gt(e)}St(t){t.gt(2)}}Ic.xt=new Ic;class Dc{constructor(){this.Tn=new Oc}addToCollectionParentIndex(t,e){return this.Tn.add(e),hs.resolve()}getCollectionParents(t,e){return hs.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return hs.resolve()}deleteFieldIndex(t,e){return hs.resolve()}deleteAllFieldIndexes(t){return hs.resolve()}createTargetIndexes(t,e){return hs.resolve()}getDocumentsMatchingTarget(t,e){return hs.resolve(null)}getIndexType(t,e){return hs.resolve(0)}getFieldIndexes(t,e){return hs.resolve([])}getNextCollectionGroupToUpdate(t){return hs.resolve(null)}getMinOffset(t,e){return hs.resolve(os.min())}getMinOffsetFromCollectionGroup(t,e){return hs.resolve(os.min())}updateCollectionGroup(t,e,n){return hs.resolve()}updateIndexEntries(t,e){return hs.resolve()}}class Oc{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Js(Ji.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Js(Ji.comparator)).toArray()}}new Uint8Array(0);const Mc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ac=41943040;class Nc{static withCacheSize(t){return new Nc(t,Nc.DEFAULT_COLLECTION_PERCENTILE,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}Nc.DEFAULT_COLLECTION_PERCENTILE=10,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nc.DEFAULT=new Nc(Ac,Nc.DEFAULT_COLLECTION_PERCENTILE,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nc.DISABLED=new Nc(-1,0,0);class Pc{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Pc(0)}static Un(){return new Pc(-1)}}const Rc="LruGarbageCollector",Lc=1048576;function Fc(t,e){let[n,r]=t,[i,s]=e;const o=$i(n,i);return 0===o?$i(r,s):o}class zc{constructor(t){this.Hn=t,this.buffer=new Js(Fc),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Fc(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Vc{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(t){Ei(Rc,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fs(t)?Ei(Rc,"Ignoring IndexedDB error during garbage collection: ",t):await us(t)}await this.er(3e5)}))}}class jc{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return hs.resolve(gs.ae);const n=new zc(e);return this.tr.forEachTarget(t,(t=>n.Zn(t.sequenceNumber))).next((()=>this.tr.rr(t,(t=>n.Zn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.tr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ei("LruGarbageCollector","Garbage collection skipped; disabled"),hs.resolve(Mc)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ei("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mc):this.ir(t,e)))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Ei("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,a=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(l=Date.now(),Si()<=ge.DEBUG&&Ei("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),hs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}function Uc(t,e){return new jc(t,e)}class Bc{constructor(){this.changes=new Aa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Bo.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?hs.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Hc{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class $c{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&fl(n.mutation,t,to.empty(),Qi.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Ha()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ha();const r=za();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=La();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=za();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Ha())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=Pa();const s=ja(),o=ja();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof yl)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),fl(o.mutation,e,o.mutation.getFieldMask(),Qi.now())):s.set(e.key,to.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new Hc(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=ja();let r=new Gs(((t,e)=>t-e)),i=Ha();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||to.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||Ha()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Va();l.forEach((t=>{if(!i.has(t)){const r=hl(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return hs.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return es.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):wa(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):hs.resolve(za());let o=ns,a=i;return s.next((e=>hs.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?hs.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Ha()))).next((t=>({batchId:o,changes:Fa(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new es(e)).next((t=>{let e=La();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let s=La();return this.indexManager.getCollectionParents(t,i).next((o=>hs.forEach(o,(o=>{const a=function(t,e){return new ma(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,n,r).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Bo.newInvalidDocument(r)))}));let n=La();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&fl(s.mutation,r,to.empty(),Qi.now()),Ia(e,r)&&(n=n.insert(t,r))})),n}))}}class Wc{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return hs.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:ec(t.createTime)}}(e)),hs.resolve()}getNamedQuery(t,e){return hs.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(t){return{name:t.name,query:Cc(t.bundledQuery),readTime:ec(t.readTime)}}(e)),hs.resolve()}}class qc{constructor(){this.overlays=new Gs(es.comparator),this.Rr=new Map}getOverlay(t,e){return hs.resolve(this.overlays.get(e))}getOverlays(t,e){const n=za();return hs.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.Et(t,e,r)})),hs.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.Rr.delete(n)),hs.resolve()}getOverlaysForCollection(t,e,n){const r=za(),i=e.length+1,s=new es(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return hs.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Gs(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=za(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=za(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return hs.resolve(o)}Et(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new kl(e,n));let i=this.Rr.get(e);void 0===i&&(i=Ha(),this.Rr.set(e,i)),this.Rr.set(e,i.add(n.key))}}class Kc{constructor(){this.sessionToken=no.EMPTY_BYTE_STRING}getSessionToken(t){return hs.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,hs.resolve()}}class Qc{constructor(){this.Vr=new Js(Gc.mr),this.gr=new Js(Gc.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const n=new Gc(t,e);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.wr(new Gc(t,e))}Sr(t,e){t.forEach((t=>this.removeReference(t,e)))}br(t){const e=new es(new Ji([])),n=new Gc(e,t),r=new Gc(e,t+1),i=[];return this.gr.forEachInRange([n,r],(t=>{this.wr(t),i.push(t.key)})),i}Dr(){this.Vr.forEach((t=>this.wr(t)))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new es(new Ji([])),n=new Gc(e,t),r=new Gc(e,t+1);let i=Ha();return this.gr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new Gc(t,0),n=this.Vr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Gc{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return es.comparator(t.key,e.key)||$i(t.Cr,e.Cr)}static pr(t,e){return $i(t.Cr,e.Cr)||es.comparator(t.key,e.key)}}class Yc{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Js(Gc.mr)}checkEmpty(t){return hs.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Sl(i,e,n,r);this.mutationQueue.push(s);for(const o of r)this.Mr=this.Mr.add(new Gc(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return hs.resolve(s)}lookupMutationBatch(t,e){return hs.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Nr(n),i=r<0?0:r;return hs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hs.resolve(0===this.mutationQueue.length?ps:this.Fr-1)}getAllMutationBatches(t){return hs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Gc(e,0),r=new Gc(e,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(t=>{const e=this.Or(t.Cr);i.push(e)})),hs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Js($i);return e.forEach((t=>{const e=new Gc(t,0),r=new Gc(t,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([e,r],(t=>{n=n.add(t.Cr)}))})),hs.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;es.isDocumentKey(i)||(i=i.child(""));const s=new Gc(new es(i),0);let o=new Js($i);return this.Mr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.Cr)),!0)}),s),hs.resolve(this.Br(o))}Br(t){const e=[];return t.forEach((t=>{const n=this.Or(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Di(0===this.Lr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return hs.forEach(e.mutations,(r=>{const i=new Gc(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Mr=n}))}qn(t){}containsKey(t,e){const n=new Gc(e,0),r=this.Mr.firstAfterOrEqual(n);return hs.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,hs.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Xc{constructor(t){this.kr=t,this.docs=new Gs(es.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return hs.resolve(n?n.document.mutableCopy():Bo.newInvalidDocument(e))}getEntries(t,e){let n=Pa();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Bo.newInvalidDocument(t))})),hs.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=Pa();const s=e.path,o=new es(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||as(ss(o),n)<=0||(r.has(o.key)||Ia(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return hs.resolve(i)}getAllFromCollectionGroup(t,e,n,r){Ii()}qr(t,e){return hs.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Jc(this)}getSize(t){return hs.resolve(this.size)}}class Jc extends Bc{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.Ir.addEntry(t,r)):this.Ir.removeEntry(n)})),hs.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}class Zc{constructor(t){this.persistence=t,this.Qr=new Aa((t=>fa(t)),ga),this.lastRemoteSnapshotVersion=Gi.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Qc,this.targetCount=0,this.Ur=Pc.Kn()}forEachTarget(t,e){return this.Qr.forEach(((t,n)=>e(n))),hs.resolve()}getLastRemoteSnapshotVersion(t){return hs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return hs.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),hs.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.$r&&(this.$r=e),hs.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new Pc(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,hs.resolve()}updateTargetData(t,e){return this.zn(e),hs.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.br(e.targetId),this.targetCount-=1,hs.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Qr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),hs.waitFor(i).next((()=>r))}getTargetCount(t){return hs.resolve(this.targetCount)}getTargetData(t,e){const n=this.Qr.get(e)||null;return hs.resolve(n)}addMatchingKeys(t,e,n){return this.Kr.yr(e,n),hs.resolve()}removeMatchingKeys(t,e,n){this.Kr.Sr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),hs.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Kr.br(e),hs.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Kr.vr(e);return hs.resolve(n)}containsKey(t,e){return hs.resolve(this.Kr.containsKey(e))}}class tu{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new gs(0),this.zr=!1,this.zr=!0,this.jr=new Kc,this.referenceDelegate=t(this),this.Hr=new Zc(this),this.indexManager=new Dc,this.remoteDocumentCache=function(t){return new Xc(t)}((t=>this.referenceDelegate.Jr(t))),this.serializer=new Tc(e),this.Yr=new Wc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new qc,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Wr[t.toKey()];return n||(n=new Yc(e,this.referenceDelegate),this.Wr[t.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,n){Ei("MemoryPersistence","Starting transaction:",t);const r=new eu(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((t=>this.referenceDelegate.Xr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}ei(t,e){return hs.or(Object.values(this.Wr).map((n=>()=>n.containsKey(t,e))))}}class eu extends cs{constructor(t){super(),this.currentSequenceNumber=t}}class nu{constructor(t){this.persistence=t,this.ti=new Qc,this.ni=null}static ri(t){return new nu(t)}get ii(){if(this.ni)return this.ni;throw Ii()}addReference(t,e,n){return this.ti.addReference(n,e),this.ii.delete(n.toString()),hs.resolve()}removeReference(t,e,n){return this.ti.removeReference(n,e),this.ii.add(n.toString()),hs.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),hs.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach((t=>this.ii.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ii.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hs.forEach(this.ii,(n=>{const r=es.fromPath(n);return this.si(t,r).next((t=>{t||e.removeEntry(r,Gi.min())}))})).next((()=>(this.ni=null,e.apply(t))))}updateLimboDocument(t,e){return this.si(t,e).next((t=>{t?this.ii.delete(e.toString()):this.ii.add(e.toString())}))}Jr(t){return 0}si(t,e){return hs.or([()=>hs.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class ru{constructor(t,e){this.persistence=t,this.oi=new Aa((t=>ws(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=Uc(this,e)}static ri(t,e){return new ru(t,e)}Zr(){}Xr(t){return hs.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}sr(t){let e=0;return this.rr(t,(t=>{e++})).next((()=>e))}rr(t,e){return hs.forEach(this.oi,((n,r)=>this.ar(t,n,r).next((t=>t?hs.resolve():e(r)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(t,(r=>this.ar(t,r,e).next((t=>{t||(n++,i.removeEntry(r,Gi.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),hs.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.oi.set(n,t.currentSequenceNumber),hs.resolve()}removeReference(t,e,n){return this.oi.set(n,t.currentSequenceNumber),hs.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),hs.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Mo(t.data.value)),e}ar(t,e,n){return hs.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.oi.get(e);return hs.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class iu{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}static Yi(t,e){let n=Ha(),r=Ha();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new iu(t,e.fromCache,n,r)}}class su{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ou{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Zt()?8:ds(Jt())>0?6:4}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.rs(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.ss(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new su;return this._s(t,e,n).next((r=>{if(i.result=r,this.Xi)return this.us(t,e,n,r.size)}))})).next((()=>i.result))}us(t,e,n,r){return n.documentReadCount<this.es?(Si()<=ge.DEBUG&&Ei("QueryEngine","SDK will not create cache indexes for query:",Ca(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),hs.resolve()):(Si()<=ge.DEBUG&&Ei("QueryEngine","Query:",Ca(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Si()<=ge.DEBUG&&Ei("QueryEngine","The SDK decides to create cache indexes for query:",Ca(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xa(e))):hs.resolve())}rs(t,e){if(ba(e))return hs.resolve(null);let n=xa(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=Ea(e,null,"F"),n=xa(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Ha(...r);return this.ns.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.cs(e,r);return this.ls(e,s,i,n.readTime)?this.rs(t,Ea(e,null,"F")):this.hs(t,s,e,n)}))))})))))}ss(t,e,n,r){return ba(e)||r.isEqual(Gi.min())?hs.resolve(null):this.ns.getDocuments(t,n).next((i=>{const s=this.cs(e,i);return this.ls(e,s,n,r)?hs.resolve(null):(Si()<=ge.DEBUG&&Ei("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ca(e)),this.hs(t,s,e,is(r,ns)).next((t=>t)))}))}cs(t,e){let n=new Js(Oa(t));return e.forEach(((e,r)=>{Ia(t,r)&&(n=n.add(r))})),n}ls(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(t,e,n){return Si()<=ge.DEBUG&&Ei("QueryEngine","Using full collection scan to execute query:",Ca(e)),this.ns.getDocumentsMatchingQuery(t,e,os.min(),n)}hs(t,e,n,r){return this.ns.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}const au="LocalStore";class lu{constructor(t,e,n,r){this.persistence=t,this.Ps=e,this.serializer=r,this.Ts=new Gs($i),this.Is=new Aa((t=>fa(t)),ga),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(n)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $c(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ts)))}}function cu(t,e,n,r){return new lu(t,e,n,r)}async function uu(t,e){const n=Oi(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.As(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=Ha();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({Rs:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function hu(t){const e=Oi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Hr.getLastRemoteSnapshotVersion(t)))}function du(t,e,n){let r=Ha(),i=Ha();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=Pa();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Gi.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):Ei(au,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function fu(t,e){const n=Oi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=ps),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function gu(t,e){const n=Oi(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Hr.getTargetData(t,e).next((i=>i?(r=i,hs.resolve(r)):n.Hr.allocateTargetId(t).next((i=>(r=new kc(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Hr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.Ts.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(t.targetId,t),n.Is.set(e,t.targetId)),t}))}async function pu(t,e,n){const r=Oi(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!fs(t))throw t;Ei(au,`Failed to update sequence numbers for target ${e}: ${t}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function mu(t,e,n){const r=Oi(t);let i=Gi.min(),s=Ha();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=Oi(t),i=r.Is.get(n);return void 0!==i?hs.resolve(r.Ts.get(i)):r.Hr.getTargetData(e,n)}(r,t,xa(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.Ps.getDocumentsMatchingQuery(t,e,n?i:Gi.min(),n?s:Ha()))).next((t=>(yu(r,Da(e),t),{documents:t,gs:s})))))}function yu(t,e,n){let r=t.Es.get(e)||Gi.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Es.set(e,r)}class vu{constructor(){this.activeTargetIds=Wa()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bu{constructor(){this.ho=new vu,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,n){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new vu,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wu{To(t){}shutdown(){}}const _u="ConnectivityMonitor";class xu{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ei(_u,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Ei(_u,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Su=null;function Eu(){return null===Su?Su=268435456+Math.round(2147483648*Math.random()):Su++,"0x"+Su.toString(16)}const ku="RestConnection",Tu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cu{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===mo?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(t,e,n,r,i){const s=Eu(),o=this.bo(t,e.toUriEncodedString());Ei(ku,`Sending RPC '${t}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(t,o,a,n).then((e=>(Ei(ku,`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw Ti(ku,`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",n),e}))}Co(t,e,n,r,i,s){return this.So(t,e,n,r,i)}Do(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+_i,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}bo(t,e){const n=Tu[t];return`${this.po}/v1/${e}:${n}`}terminate(){}}class Iu{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}const Du="WebChannelConnection";class Ou extends Cu{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,n,r){const i=Eu();return new Promise(((s,o)=>{const a=new li;a.setWithCredentials(!0),a.listenOnce(ui.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case hi.NO_ERROR:const e=a.getResponseJson();Ei(Du,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case hi.TIMEOUT:Ei(Du,`RPC '${t}' ${i} timed out`),o(new Ai(Mi.DEADLINE_EXCEEDED,"Request time out"));break;case hi.HTTP_ERROR:const n=a.getStatus();if(Ei(Du,`RPC '${t}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Mi).indexOf(e)>=0?e:Mi.UNKNOWN}(e.status);o(new Ai(t,e.message))}else o(new Ai(Mi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ai(Mi.UNAVAILABLE,"Connection failed."));break;default:Ii()}}finally{Ei(Du,`RPC '${t}' ${i} completed.`)}}));const l=JSON.stringify(r);Ei(Du,`RPC '${t}' ${i} sending request:`,r),a.send(e,"POST",l,n,15)}))}Wo(t,e,n){const r=Eu(),i=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=pi(),o=gi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ei(Du,`Creating RPC '${t}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Iu({Fo:e=>{d?Ei(Du,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(Ei(Du,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),Ei(Du,`RPC '${t}' stream ${r} sending:`,e),u.send(e))},Mo:()=>u.close()}),g=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return g(u,ci.EventType.OPEN,(()=>{d||(Ei(Du,`RPC '${t}' stream ${r} transport opened.`),f.Qo())})),g(u,ci.EventType.CLOSE,(()=>{d||(d=!0,Ei(Du,`RPC '${t}' stream ${r} transport closed`),f.Ko())})),g(u,ci.EventType.ERROR,(e=>{d||(d=!0,Ti(Du,`RPC '${t}' stream ${r} transport errored:`,e),f.Ko(new Ai(Mi.UNAVAILABLE,"The operation could not be completed")))})),g(u,ci.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];Di(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ei(Du,`RPC '${t}' stream ${r} received error:`,o);const e=o.status;let n=function(t){const e=Cl[t];if(void 0!==e)return Ol(e)}(e),i=o.message;void 0===n&&(n=Mi.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),d=!0,f.Ko(new Ai(n,i)),u.close()}else Ei(Du,`RPC '${t}' stream ${r} received:`,i),f.Uo(i)}})),g(o,fi.STAT_EVENT,(e=>{e.stat===di.PROXY?Ei(Du,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===di.NOPROXY&&Ei(Du,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Mu(){return"undefined"!=typeof document?document:null}function Au(t){return new Yl(t,!0)}class Nu{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=t,this.timerId=e,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,e-n);r>0&&Ei("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),t()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Pu="PersistentStream";class Ru{constructor(t,e,n,r,i,s,o,a){this.Ti=t,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Nu(t,e)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==t?this.a_.reset():e&&e.code===Mi.RESOURCE_EXHAUSTED?(ki(e.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===Mi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.i_===e&&this.V_(n,r)}),(e=>{t((()=>{const t=new Ai(Mi.UNKNOWN,"Fetching auth token failed: "+e.message);return this.m_(t)}))}))}V_(t,e){const n=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((t=>{n((()=>this.m_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.__?this.g_(t):this.onNext(t)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(t){return Ei(Pu,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget((()=>this.i_===t?e():(Ei(Pu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lu extends Ru{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ii()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Di(void 0===e||"string"==typeof e),no.fromBase64String(e||"")):(Di(void 0===e||e instanceof Buffer||e instanceof Uint8Array),no.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Mi.UNKNOWN:Ol(t.code);return new Ai(e,t.message||"")}(o);n=new Bl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=oc(t,r.document.name),s=ec(r.document.updateTime),o=r.document.createTime?ec(r.document.createTime):Gi.min(),a=new jo({mapValue:{fields:r.document.fields}}),l=Bo.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new jl(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=oc(t,r.document),s=r.readTime?ec(r.readTime):Gi.min(),o=Bo.newNoDocument(i,s),a=r.removedTargetIds||[];n=new jl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=oc(t,r.document),s=r.removedTargetIds||[];n=new jl([],s,i,null)}else{if(!("filter"in e))return Ii();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new Tl(r,i),o=t.targetId;n=new Ul(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Gi.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Gi.min():e.readTime?ec(e.readTime):Gi.min()}(t);return this.listener.p_(e,n)}y_(t){const e={};e.database=cc(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=pa(r)?{documents:fc(t,r)}:{query:gc(t,r).ht},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Zl(t,e.resumeToken);const r=Xl(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(Gi.min())>0){n.readTime=Jl(t,e.snapshotVersion.toTimestamp());const r=Xl(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ii()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.I_(e)}w_(t){const e={};e.database=cc(this.serializer),e.removeTarget=t,this.I_(e)}}class Fu extends Ru{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Di(!!t.streamToken),this.lastStreamToken=t.streamToken,Di(!t.writeResults||0===t.writeResults.length),this.listener.D_()}onNext(t){Di(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=function(t,e){return t&&t.length>0?(Di(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?ec(t.updateTime):ec(e);return n.isEqual(Gi.min())&&(n=ec(e)),new al(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=ec(t.commitTime);return this.listener.v_(n,e)}C_(){const t={};t.database=cc(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>dc(this.serializer,t)))};this.I_(e)}}class zu{}class Vu extends zu{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Ai(Mi.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(t,rc(e,n),r,s,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Mi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ai(Mi.UNKNOWN,t.toString())}))}Co(t,e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Co(t,rc(e,n),r,o,a,i)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Mi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Ai(Mi.UNKNOWN,t.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class ju{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(t){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,"Online"===t&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(e),this.N_=!1):Ei("OnlineStateTracker",e)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Uu="RemoteStore";class Bu{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((t=>{n.enqueueAndForget((async()=>{Xu(this)&&(Ei(Uu,"Restarting streams for network reachability change."),await async function(t){const e=Oi(t);e.W_.add(4),await $u(e),e.j_.set("Unknown"),e.W_.delete(4),await Hu(e)}(this))}))})),this.j_=new ju(n,r)}}async function Hu(t){if(Xu(t))for(const e of t.G_)await e(!0)}async function $u(t){for(const e of t.G_)await e(!1)}function Wu(t,e){const n=Oi(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Yu(n)?Gu(n):mh(n).c_()&&Ku(n,e))}function qu(t,e){const n=Oi(t),r=mh(n);n.U_.delete(e),r.c_()&&Qu(n,e),0===n.U_.size&&(r.c_()?r.P_():Xu(n)&&n.j_.set("Unknown"))}function Ku(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gi.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mh(t).y_(e)}function Qu(t,e){t.H_.Ne(e),mh(t).w_(e)}function Gu(t){t.H_=new $l({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),mh(t).start(),t.j_.B_()}function Yu(t){return Xu(t)&&!mh(t).u_()&&t.U_.size>0}function Xu(t){return 0===Oi(t).W_.size}function Ju(t){t.H_=void 0}async function Zu(t){t.j_.set("Online")}async function th(t){t.U_.forEach(((e,n)=>{Ku(t,e)}))}async function eh(t,e){Ju(t),Yu(t)?(t.j_.q_(e),Gu(t)):t.j_.set("Unknown")}async function nh(t,e,n){if(t.j_.set("Online"),e instanceof Bl&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.U_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.U_.delete(r),t.H_.removeTarget(r))}(t,e)}catch(n){Ei(Uu,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await rh(t,n)}else if(e instanceof jl?t.H_.We(e):e instanceof Ul?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Gi.min()))try{const e=await hu(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.H_.ot(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.U_.get(r);i&&t.U_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.U_.get(e);if(!r)return;t.U_.set(e,r.withResumeToken(no.EMPTY_BYTE_STRING,r.snapshotVersion)),Qu(t,e);const i=new kc(r.target,e,n,r.sequenceNumber);Ku(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Ei(Uu,"Failed to raise snapshot:",e),await rh(t,e)}}async function rh(t,e,n){if(!fs(e))throw e;t.W_.add(1),await $u(t),t.j_.set("Offline"),n||(n=()=>hu(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ei(Uu,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Hu(t)}))}function ih(t,e){return e().catch((n=>rh(t,n,e)))}async function sh(t){const e=Oi(t),n=yh(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:ps;for(;oh(e);)try{const t=await fu(e.localStore,r);if(null===t){0===e.K_.length&&n.P_();break}r=t.batchId,ah(e,t)}catch(t){await rh(e,t)}lh(e)&&ch(e)}function oh(t){return Xu(t)&&t.K_.length<10}function ah(t,e){t.K_.push(e);const n=yh(t);n.c_()&&n.S_&&n.b_(e.mutations)}function lh(t){return Xu(t)&&!yh(t).u_()&&t.K_.length>0}function ch(t){yh(t).start()}async function uh(t){yh(t).C_()}async function hh(t){const e=yh(t);for(const n of t.K_)e.b_(n.mutations)}async function dh(t,e,n){const r=t.K_.shift(),i=El.from(r,e,n);await ih(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await sh(t)}async function fh(t,e){e&&yh(t).S_&&await async function(t,e){if(function(t){return Dl(t)&&t!==Mi.ABORTED}(e.code)){const n=t.K_.shift();yh(t).h_(),await ih(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await sh(t)}}(t,e),lh(t)&&ch(t)}async function gh(t,e){const n=Oi(t);n.asyncQueue.verifyOperationInProgress(),Ei(Uu,"RemoteStore received new credentials");const r=Xu(n);n.W_.add(3),await $u(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Hu(n)}async function ph(t,e){const n=Oi(t);e?(n.W_.delete(2),await Hu(n)):e||(n.W_.add(2),await $u(n),n.j_.set("Unknown"))}function mh(t){return t.J_||(t.J_=function(t,e,n){const r=Oi(t);return r.M_(),new Lu(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{xo:Zu.bind(null,t),No:th.bind(null,t),Lo:eh.bind(null,t),p_:nh.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),Yu(t)?Gu(t):t.j_.set("Unknown")):(await t.J_.stop(),Ju(t))}))),t.J_}function yh(t){return t.Y_||(t.Y_=function(t,e,n){const r=Oi(t);return r.M_(),new Fu(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:uh.bind(null,t),Lo:fh.bind(null,t),D_:hh.bind(null,t),v_:dh.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await sh(t)):(await t.Y_.stop(),t.K_.length>0&&(Ei(Uu,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))}))),t.Y_}class vh{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new vh(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ai(Mi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bh(t,e){if(ki("AsyncQueue",`${e}: ${t}`),fs(t))return new Ai(Mi.UNAVAILABLE,`${e}: ${t}`);throw t}class wh{static emptySet(t){return new wh(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||es.comparator(e.key,n.key):(t,e)=>es.comparator(t.key,e.key),this.keyedMap=La(),this.sortedSet=new Gs(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wh))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new wh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class _h{constructor(){this.Z_=new Gs(es.comparator)}track(t){const e=t.doc.key,n=this.Z_.get(e);n?0!==t.type&&3===n.type?this.Z_=this.Z_.insert(e,t):3===t.type&&1!==n.type?this.Z_=this.Z_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Z_=this.Z_.remove(e):1===t.type&&2===n.type?this.Z_=this.Z_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):Ii():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class xh{constructor(t,e,n,r,i,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new xh(t,e,wh.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ka(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sh{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((t=>t.ra()))}}class Eh{constructor(){this.queries=kh(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(t,e){const n=Oi(t),r=n.queries;n.queries=kh(),r.forEach(((t,n)=>{for(const r of n.ta)r.onError(e)}))}(this,new Ai(Mi.ABORTED,"Firestore shutting down"))}}function kh(){return new Aa((t=>Ta(t)),ka)}async function Th(t,e){const n=Oi(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new Sh,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(t){const n=bh(t,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Oh(n)}async function Ch(t,e){const n=Oi(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const t=s.ta.indexOf(e);t>=0&&(s.ta.splice(t,1),0===s.ta.length?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ih(t,e){const n=Oi(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.ta)t.oa(i)&&(r=!0);e.ea=i}}r&&Oh(n)}function Dh(t,e,n){const r=Oi(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function Oh(t){t.ia.forEach((t=>{t.next()}))}var Mh,Ah;(Ah=Mh||(Mh={}))._a="default",Ah.Cache="cache";class Nh{constructor(t,e,n){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new xh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==e;return(!this.options.Ta||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Pa(t){t=xh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Mh.Cache}}class Ph{constructor(t){this.key=t}}class Rh{constructor(t){this.key=t}}class Lh{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ha(),this.mutatedKeys=Ha(),this.ya=Oa(t),this.wa=new wh(this.ya)}get Sa(){return this.fa}ba(t,e){const n=e?e.Da:new _h,r=e?e.wa:this.wa;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=Ia(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ya(u,a)>0||l&&this.ya(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{wa:s,Da:n,ls:o,mutatedKeys:i}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const s=t.Da.X_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ii()}};return n(t)-n(e)}(t.type,e.type)||this.ya(t.doc,e.doc))),this.Ca(n),r=null!=r&&r;const o=e&&!r?this.Fa():[],a=0===this.pa.size&&this.current&&!r?1:0,l=a!==this.ga;return this.ga=a,0!==s.length||l?{snapshot:new xh(this.query,t.wa,i,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _h,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach((t=>this.fa=this.fa.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.fa=this.fa.delete(t))),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ha(),this.wa.forEach((t=>{this.xa(t.key)&&(this.pa=this.pa.add(t.key))}));const e=[];return t.forEach((t=>{this.pa.has(t)||e.push(new Rh(t))})),this.pa.forEach((n=>{t.has(n)||e.push(new Ph(n))})),e}Oa(t){this.fa=t.gs,this.pa=Ha();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return xh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Fh="SyncEngine";class zh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Vh{constructor(t){this.key=t,this.Ba=!1}}class jh{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Aa((t=>Ta(t)),ka),this.qa=new Map,this.Qa=new Set,this.$a=new Gs(es.comparator),this.Ka=new Map,this.Ua=new Qc,this.Wa={},this.Ga=new Map,this.za=Pc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Uh(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ld(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Hh(r,e,n,!0),i}async function Bh(t,e){const n=ld(t);await Hh(n,e,!0,!1)}async function Hh(t,e,n,r){const i=await gu(t.localStore,xa(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await $h(t,e,s,"current"===o,i.resumeToken)),t.isPrimaryClient&&n&&Wu(t.remoteStore,i),a}async function $h(t,e,n,r,i){t.Ha=(e,n,r)=>async function(t,e,n,r){let i=e.view.ba(n);i.ls&&(i=await mu(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ba(n,i)})));const s=r&&r.targetChanges.get(e.targetId),o=r&&null!=r.targetMismatches.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return nd(t,e.targetId,a.Ma),a.snapshot}(t,e,n,r);const s=await mu(t.localStore,e,!0),o=new Lh(e,s.gs),a=o.ba(s.documents),l=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,l);nd(t,n,c.Ma);const u=new zh(e,n,o);return t.ka.set(e,u),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function Wh(t,e,n){const r=Oi(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((t=>!ka(t,e)))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qu(r.remoteStore,i.targetId),td(r,i.targetId)})).catch(us)):(td(r,i.targetId),await pu(r.localStore,i.targetId,!0))}async function qh(t,e){const n=Oi(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qu(n.remoteStore,r.targetId))}async function Kh(t,e){const n=Oi(t);try{const t=await function(t,e){const n=Oi(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];e.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Hr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(no.EMPTY_BYTE_STRING,Gi.min()).withLastLimboFreeSnapshotVersion(Gi.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Hr.updateTargetData(t,c))}));let a=Pa(),l=Ha();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(du(t,s,e.documentUpdates).next((t=>{a=t.Vs,l=t.fs}))),!r.isEqual(Gi.min())){const e=n.Hr.getLastRemoteSnapshotVersion(t).next((e=>n.Hr.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return hs.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.Ts=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Ka.get(e);r&&(Di(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Ba=!0:t.modifiedDocuments.size>0?Di(r.Ba):t.removedDocuments.size>0&&(Di(r.Ba),r.Ba=!1))})),await sd(n,t,e)}catch(t){await us(t)}}function Qh(t,e,n){const r=Oi(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Oi(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.ta)i.sa(e)&&(r=!0)})),r&&Oh(n)}(r.eventManager,e),t.length&&r.La.p_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Gh(t,e,n){const r=Oi(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let t=new Gs(es.comparator);t=t.insert(s,Bo.newNoDocument(s,Gi.min()));const n=Ha().add(s),i=new zl(Gi.min(),new Map,new Gs($i),t,n);await Kh(r,i),r.$a=r.$a.remove(s),r.Ka.delete(e),id(r)}else await pu(r.localStore,e,!1).then((()=>td(r,e,n))).catch(us)}async function Yh(t,e){const n=Oi(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Oi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=hs.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Di(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Ha();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Zh(n,r,null),Jh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sd(n,t)}catch(t){await us(t)}}async function Xh(t,e,n){const r=Oi(t);try{const t=await function(t,e){const n=Oi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Di(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Zh(r,e,n),Jh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sd(r,t)}catch(n){await us(n)}}function Jh(t,e){(t.Ga.get(e)||[]).forEach((t=>{t.resolve()})),t.Ga.delete(e)}function Zh(t,e,n){const r=Oi(t);let i=r.Wa[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function td(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach((e=>{t.Ua.containsKey(e)||ed(t,e)}))}function ed(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);null!==n&&(qu(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),id(t))}function nd(t,e,n){for(const r of n)r instanceof Ph?(t.Ua.addReference(r.key,e),rd(t,r)):r instanceof Rh?(Ei(Fh,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||ed(t,r.key)):Ii()}function rd(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Ei(Fh,"New document in limbo: "+n),t.Qa.add(r),id(t))}function id(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new es(Ji.fromString(e)),r=t.za.next();t.Ka.set(r,new Vh(n)),t.$a=t.$a.insert(n,r),Wu(t.remoteStore,new kc(xa(va(n.path)),r,"TargetPurposeLimboResolution",gs.ae))}}async function sd(t,e,n){const r=Oi(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((t,a)=>{o.push(r.Ha(a,e,n).then((t=>{var e;if((t||n)&&r.isPrimaryClient){const i=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(t){i.push(t);const e=iu.Yi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.La.p_(i),await async function(t,e){const n=Oi(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>hs.forEach(e,(e=>hs.forEach(e.Hi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>hs.forEach(e.Ji,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!fs(t))throw t;Ei(au,"Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Ts.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(t,i)}}}(r.localStore,s))}async function od(t,e){const n=Oi(t);if(!n.currentUser.isEqual(e)){Ei(Fh,"User change. New user:",e.toKey());const t=await uu(n.localStore,e);n.currentUser=e,function(t,e){t.Ga.forEach((t=>{t.forEach((t=>{t.reject(new Ai(Mi.CANCELLED,e))}))})),t.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await sd(n,t.Rs)}}function ad(t,e){const n=Oi(t),r=n.Ka.get(e);if(r&&r.Ba)return Ha().add(r.key);{let t=Ha();const r=n.qa.get(e);if(!r)return t;for(const e of r){const r=n.ka.get(e);t=t.unionWith(r.view.Sa)}return t}}function ld(t){const e=Oi(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ad.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gh.bind(null,e),e.La.p_=Ih.bind(null,e.eventManager),e.La.Ja=Dh.bind(null,e.eventManager),e}function cd(t){const e=Oi(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xh.bind(null,e),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Au(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return cu(this.persistence,new ou,t.initialUser,this.serializer)}Xa(t){return new tu(nu.ri,this.serializer)}Za(t){return new bu}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class hd extends ud{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Di(this.persistence.referenceDelegate instanceof ru);const n=this.persistence.referenceDelegate.garbageCollector;return new Vc(n,t.asyncQueue,e)}Xa(t){const e=void 0!==this.cacheSizeBytes?Nc.withCacheSize(this.cacheSizeBytes):Nc.DEFAULT;return new tu((t=>ru.ri(t,e)),this.serializer)}}class dd{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Qh(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=od.bind(null,this.syncEngine),await ph(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Eh}createDatastore(t){const e=Au(t.databaseInfo.databaseId),n=function(t){return new Ou(t)}(t.databaseInfo);return function(t,e,n,r){return new Vu(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new Bu(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>Qh(this.syncEngine,t,0)),xu.D()?new xu:new wu)}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new jh(t,e,n,r,i,s);return o&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=Oi(t);Ei(Uu,"RemoteStore shutting down."),e.W_.add(5),await $u(e),e.z_.shutdown(),e.j_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}dd.provider={build:()=>new dd};class fd{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const gd="FirestoreClient";class pd{constructor(t,e,n,r,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=wi.UNAUTHENTICATED,this.clientId=Hi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async t=>{Ei(gd,"Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Ei(gd,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=bh(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function md(t,e){t.asyncQueue.verifyOperationInProgress(),Ei(gd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await uu(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function yd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vd(t);Ei(gd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>gh(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>gh(e.remoteStore,n))),t._onlineComponents=e}async function vd(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ei(gd,"Using user provided OfflineComponentProvider");try{await md(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===Mi.FAILED_PRECONDITION||t.code===Mi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ti("Error using user provided cache. Falling back to memory cache: "+n),await md(t,new ud)}}else Ei(gd,"Using default OfflineComponentProvider"),await md(t,new hd(void 0));return t._offlineComponents}async function bd(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ei(gd,"Using user provided OnlineComponentProvider"),await yd(t,t._uninitializedComponentsProvider._online)):(Ei(gd,"Using default OnlineComponentProvider"),await yd(t,new dd))),t._onlineComponents}function wd(t){return bd(t).then((t=>t.syncEngine))}async function _d(t){const e=await bd(t),n=e.eventManager;return n.onListen=Uh.bind(null,e.syncEngine),n.onUnlisten=Wh.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bh.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qh.bind(null,e.syncEngine),n}function xd(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ni;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new fd({next:n=>{s.su(),e.enqueueAndForget((()=>Ch(t,o))),n.fromCache&&"server"===r.source?i.reject(new Ai(Mi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new Nh(n,s,{includeMetadataChanges:!0,Ta:!0});return Th(t,o)}(await _d(t),t.asyncQueue,e,n,r))),r.promise}function Sd(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Ed=new Map;function kd(t,e,n){if(!n)throw new Ai(Mi.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Td(t){if(!es.isDocumentKey(t))throw new Ai(Mi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cd(t){if(es.isDocumentKey(t))throw new Ai(Mi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Id(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Ii()}function Dd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ai(Mi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(t);throw new Ai(Mi.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const Od="firestore.googleapis.com",Md=!0;class Ad{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Ai(Mi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Od,this.ssl=Md}else this.host=t.host,this.ssl=null!==(e=t.ssl)&&void 0!==e?e:Md;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ac;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<Lc)throw new Ai(Mi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new Ai(Mi.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sd(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Ai(Mi.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new Ai(Mi.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new Ai(Mi.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nd{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ad({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ai(Mi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ai(Mi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ad(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Ri;switch(t.type){case"firstParty":return new Vi(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ai(Mi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Ed.get(t);e&&(Ei("ComponentProvider","Removing Datastore"),Ed.delete(t),e.terminate())}(this),Promise.resolve()}}function Pd(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(t=Dd(t,Nd))._getSettings(),o=`${e}:${n}`;if(s.host!==Od&&s.host!==o&&Ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=wi.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wt(JSON.stringify({alg:"none",type:"JWT"})),Wt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ai(Mi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new wi(s)}t._authCredentials=new Li(new Pi(e,n))}}class Rd{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Rd(this.firestore,t,this._query)}}class Ld{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ld(this.firestore,t,this._key)}}class Fd extends Rd{constructor(t,e,n){super(t,e,va(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ld(this.firestore,null,new es(t))}withConverter(t){return new Fd(this.firestore,t,this._path)}}function zd(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=le(t),kd("collection","path",e),t instanceof Nd){const n=Ji.fromString(e,...r);return Cd(n),new Fd(t,null,n)}{if(!(t instanceof Ld||t instanceof Fd))throw new Ai(Mi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ji.fromString(e,...r));return Cd(n),new Fd(t.firestore,null,n)}}function Vd(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=le(t),1===arguments.length&&(e=Hi.newId()),kd("doc","path",e),t instanceof Nd){const n=Ji.fromString(e,...r);return Td(n),new Ld(t,null,new es(n))}{if(!(t instanceof Ld||t instanceof Fd))throw new Ai(Mi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ji.fromString(e,...r));return Td(n),new Ld(t.firestore,t instanceof Fd?t.converter:null,new es(n))}}const jd="AsyncQueue";class Ud{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Nu(this,"async_queue_retry"),this.Su=()=>{const t=Mu();t&&Ei(jd,"Visibility state changed to "+t.visibilityState),this.a_.t_()},this.bu=t;const e=Mu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=Mu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise((()=>{}));const e=new Ni;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Vu.push(t),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!fs(t))throw t;Ei(jd,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(t){const e=this.bu.then((()=>(this.pu=!0,t().catch((t=>{this.gu=t,this.pu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw ki("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.pu=!1,t))))));return this.bu=e,e}enqueueAfterDelay(t,e,n){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const r=vh.createAndSchedule(this,t,e,n,(t=>this.Fu(t)));return this.fu.push(r),r}Du(){this.gu&&Ii()}verifyOperationInProgress(){}async Mu(){let t;do{t=this.bu,await t}while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then((()=>{this.fu.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.fu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Mu()}))}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function Bd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Hd extends Nd{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Ud,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ud(t),this._firestoreClient=void 0,await t}}}function $d(t){if(t._terminated)throw new Ai(Mi.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wd(t),t._firestoreClient}function Wd(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new po(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Sd(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new pd(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class qd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qd(no.fromBase64String(t))}catch(t){throw new Ai(Mi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new qd(no.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Kd{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ai(Mi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Qd{constructor(t){this._methodName=t}}class Gd{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ai(Mi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ai(Mi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $i(this._lat,t._lat)||$i(this._long,t._long)}}class Yd{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const Xd=/^__.*__$/;class Jd{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new yl(t,this.data,this.fieldMask,e,this.fieldTransforms):new ml(t,this.data,e,this.fieldTransforms)}}class Zd{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new yl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function tf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ii()}}class ef{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new ef(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ku({path:n,Qu:!1});return r.$u(t),r}Ku(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return mf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(0===t.length)throw this.Wu("Document fields must not be empty");if(tf(this.Lu)&&Xd.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class nf{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Au(t)}ju(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ef({Lu:t,methodName:e,zu:n,path:ts.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rf(t){const e=t._freezeSettings(),n=Au(t._databaseId);return new nf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sf(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);df("Data must be an object, but it was:",o,r);const a=uf(r,o);let l,c;if(s.merge)l=new to(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=ff(e,r,n);if(!o.contains(i))throw new Ai(Mi.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);yf(t,i)||t.push(i)}l=new to(t),c=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=o.fieldTransforms;return new Jd(new jo(a),l,c)}class of extends Qd{_toFieldTransform(t){if(2!==t.Lu)throw 1===t.Lu?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof of}}function af(t,e,n,r){const i=t.ju(1,e,n);df("Data must be an object, but it was:",i,r);const s=[],o=jo.empty();Ks(r,((t,r)=>{const a=pf(e,t,n);r=le(r);const l=i.Ku(a);if(r instanceof of)s.push(a);else{const t=cf(r,l);null!=t&&(s.push(a),o.set(a,t))}}));const a=new to(s);return new Zd(o,a,i.fieldTransforms)}function lf(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[ff(e,r,n)],l=[i];if(s.length%2!=0)throw new Ai(Mi.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(ff(e,s[d])),l.push(s[d+1]);const c=[],u=jo.empty();for(let d=a.length-1;d>=0;--d)if(!yf(c,a[d])){const t=a[d];let e=l[d];e=le(e);const n=o.Ku(t);if(e instanceof of)c.push(t);else{const r=cf(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new to(c);return new Zd(u,h,o.fieldTransforms)}function cf(t,e){if(hf(t=le(t)))return df("Unsupported field value:",e,t),uf(t,e);if(t instanceof Qd)return function(t,e){if(!tf(e.Lu))throw e.Wu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Wu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&4!==e.Lu)throw e.Wu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=cf(i,e.Uu(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=le(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qa(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Qi.fromDate(t);return{timestampValue:Jl(e.serializer,n)}}if(t instanceof Qi){const n=new Qi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jl(e.serializer,n)}}if(t instanceof Gd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qd)return{bytesValue:Zl(e.serializer,t._byteString)};if(t instanceof Ld){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:nc(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Yd)return function(t,e){return{mapValue:{fields:{[vo]:{stringValue:_o},[xo]:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.Wu("VectorValues must only contain numeric values.");return qa(e.serializer,t)}))}}}}}}(t,e);throw e.Wu(`Unsupported field value: ${Id(t)}`)}(t,e)}function uf(t,e){const n={};return Qs(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,((t,r)=>{const i=cf(r,e.qu(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function hf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qi||t instanceof Gd||t instanceof qd||t instanceof Ld||t instanceof Qd||t instanceof Yd)}function df(t,e,n){if(!hf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Id(n);throw"an object"===r?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function ff(t,e,n){if((e=le(e))instanceof Kd)return e._internalPath;if("string"==typeof e)return pf(t,e);throw mf("Field path arguments must be of type string or ",t,!1,void 0,n)}const gf=new RegExp("[~\\*/\\[\\]]");function pf(t,e,n){if(e.search(gf)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kd(...e.split("."))._internalPath}catch(r){throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ai(Mi.INVALID_ARGUMENT,a+t+l)}function yf(t,e){return t.some((t=>t.isEqual(e)))}class vf{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ld(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bf extends vf{data(){return super.data()}}function wf(t,e){return"string"==typeof e?pf(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}function _f(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ai(Mi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xf{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(So(t)){case 0:return null;case 1:return t.booleanValue;case 2:return so(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(oo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ii()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ks(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertVectorValue(t){var e,n,r;const i=null===(r=null===(n=null===(e=t.fields)||void 0===e?void 0:e[xo].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((t=>so(t.doubleValue)));return new Yd(i)}convertGeoPoint(t){return new Gd(so(t.latitude),so(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=fo(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(go(t));default:return null}}convertTimestamp(t){const e=io(t);return new Qi(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Ji.fromString(t);Di(Ec(n));const r=new yo(n.get(1),n.get(3)),i=new es(n.popFirst(5));return r.isEqual(e)||ki(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function Sf(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ef{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kf extends vf{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(wf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Tf extends kf{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Cf{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ef(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Tf(this._firestore,this._userDataWriter,n.key,n,new Ef(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ai(Mi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new Tf(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Ef(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Tf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ef(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:If(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function If(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ii()}}class Df extends xf{constructor(t){super(),this.firestore=t}convertBytes(t){return new qd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ld(this.firestore,null,e)}}function Of(t){return Mf(Dd(t.firestore,Hd),[new _l(t._key,ll.none())])}function Mf(t,e){return function(t,e){const n=new Ni;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=cd(t);try{const t=await function(t,e){const n=Oi(t),r=Qi.now(),i=e.reduce(((t,e)=>t.add(e.key)),Ha());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Pa(),l=Ha();return n.ds.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=gl(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new yl(t.key,e,Uo(e.value.mapValue),ll.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Fa(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Wa[t.currentUser.toKey()];r||(r=new Gs($i)),r=r.insert(e,n),t.Wa[t.currentUser.toKey()]=r}(r,t.batchId,n),await sd(r,t.changes),await sh(r.remoteStore)}catch(t){const e=bh(t,"Failed to persist write");n.reject(e)}}(await wd(t),e,n))),n.promise}($d(t),e)}function Af(t,e,n){const r=n.docs.get(e._key),i=new Df(t);return new kf(t,i,e._key,r,new Ef(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){_i=t}("11.3.1"),wn(new ce("firestore",((t,n)=>{let{instanceIdentifier:r,options:i}=n;const s=t.getProvider("app").getImmediate(),o=new Hd(new Fi(t.getProvider("auth-internal")),new Ui(s,t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ai(Mi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(t.options.projectId,e)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Tn(vi,bi,t),Tn(vi,bi,"esm2017")}();const Nf=En({apiKey:"AIzaSyDOnubq1GHQFPBkr2IadcZTwTvDyFs1Yxo",authDomain:"taskmanager-60ab3.firebaseapp.com",projectId:"taskmanager-60ab3",storageBucket:"taskmanager-60ab3.firebasestorage.app",messagingSenderId:"276589689882",appId:"1:276589689882:web:92ddf8275e3a3fd78125a3",measurementId:"G-RZHRJB1F5B"}),Pf=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn();t=le(t);const e=_n(t,Tr);e.isInitialized()?e.getImmediate():function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=_n(t,Tr);if(n.isInitialized()){const t=n.getImmediate();if(se(e,n.getOptions()))return t;throw Dr.create("already-initialized")}const r=n.initialize({options:e})}(t)}(Nf),function(t,e){const n="object"==typeof t?t:kn(),r="string"==typeof t?t:e||mo,i=_n(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const t=Gt("firestore");t&&Pd(i,...t)}return i}(Nf)),Rf=()=>{const[t,e]=(0,i.useState)("");return(0,o.jsxs)("div",{className:"task-creator",children:[(0,o.jsx)("input",{type:"text",value:t,onChange:t=>e(t.target.value),placeholder:"New task..."}),(0,o.jsxs)("div",{className:"button-group",children:[(0,o.jsx)("button",{onClick:async()=>{t.trim()&&(await function(t,e){const n=Dd(t.firestore,Hd),r=Vd(t),i=Sf(t.converter,e);return Mf(n,[sf(rf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ll.exists(!1))]).then((()=>r))}(zd(Pf,"tasks"),{title:t,createdAt:(new Date).toISOString(),completed:!1}),e(""))},children:"Add"}),(0,o.jsx)("button",{onClick:async()=>{(await function(t){t=Dd(t,Rd);const e=Dd(t.firestore,Hd),n=$d(e),r=new Df(e);return _f(t._query),xd(n,t._query).then((n=>new Cf(e,r,t,n)))}(zd(Pf,"tasks"))).forEach((t=>{Of(Vd(Pf,"tasks",t.id))}))},className:"delete-btn",children:"Clear All"})]})]})};var Lf=n(122);const Ff="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function zf(t,e,n){const[r,s]=function(t,e,n){const[r,s]=(0,i.useState)((()=>e(t))),o=(0,i.useCallback)((()=>{const i=e(t);Lf(r,i)||(s(i),n&&n())}),[r,t,n]);return Ff(o),[r,o]}(t,e,n);return Ff((function(){const e=t.getHandlerId();if(null!=e)return t.subscribeToStateChange(s,{handlerIds:[e]})}),[t,s]),r}function Vf(t,e,n){return zf(e,t||(()=>({})),(()=>n.reconnect()))}function jf(t,e){const n=[...e||[]];return null==e&&"function"!==typeof t&&n.push(t),(0,i.useMemo)((()=>"function"===typeof t?t():t),n)}function Uf(t){return(0,i.useMemo)((()=>t.hooks.dragSource()),[t])}function Bf(t){return(0,i.useMemo)((()=>t.hooks.dragPreview()),[t])}function Hf(t,e,n,r){let i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<s.length;l++){const o=s[l];if(!a(o))return!1;const c=t[o],u=e[o];if(i=n?n.call(r,c,u,o):void 0,!1===i||void 0===i&&c!==u)return!1}return!0}function $f(t){return null!==t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function Wf(t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,i.isValidElement)(e)){const r=e;return t(r,n),r}const r=e;!function(t){if("string"===typeof t.type)return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}(r);return function(t,e){const n=t.ref;return f("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,i.cloneElement)(t,{ref:t=>{Kf(n,t),Kf(e,t)}}):(0,i.cloneElement)(t,{ref:e})}(r,n?e=>t(e,n):t)}}function qf(t){const e={};return Object.keys(t).forEach((n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const t=Wf(r);e[n]=()=>t}})),e}function Kf(t,e){"function"===typeof t?t(e):t.current=e}class Qf{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return e&&this.disconnectDragSource(),this.handlerId?t?(e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),e):(this.lastConnectedDragSource=t,e):e}reconnectDragPreview(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(e?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Hf(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Hf(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=qf({dragSource:(t,e)=>{this.clearDragSource(),this.dragSourceOptions=e||null,$f(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,e)=>{this.clearDragPreview(),this.dragPreviewOptions=e||null,$f(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}function Gf(){const{dragDropManager:t}=(0,i.useContext)(pt);return f(null!=t,"Expected drag drop context"),t}let Yf=!1,Xf=!1;class Jf{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){f(!Yf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Yf=!1}}isDragging(){if(!this.sourceId)return!1;f(!Xf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Xf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Xf=!1}}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,e){return this.internalMonitor.isOverTarget(t,e)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}class Zf{beginDrag(){const t=this.spec,e=this.monitor;let n=null;return n="object"===typeof t.item?t.item:"function"===typeof t.item?t.item(e):{},null!==n&&void 0!==n?n:null}canDrag(){const t=this.spec,e=this.monitor;return"boolean"===typeof t.canDrag?t.canDrag:"function"!==typeof t.canDrag||t.canDrag(e)}isDragging(t,e){const n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):e===t.getSourceId()}endDrag(){const t=this.spec,e=this.monitor,n=this.connector,{end:r}=t;r&&r(e.getItem(),e),n.reconnect()}constructor(t,e,n){this.spec=t,this.monitor=e,this.connector=n}}function tg(t,e,n){const r=Gf(),s=function(t,e,n){const r=(0,i.useMemo)((()=>new Zf(t,e,n)),[e,n]);return(0,i.useEffect)((()=>{r.spec=t}),[t]),r}(t,e,n),o=function(t){return(0,i.useMemo)((()=>{const e=t.type;return f(null!=e,"spec.type must be defined"),e}),[t])}(t);Ff((function(){if(null!=o){const[t,i]=function(t,e,n){const r=n.getRegistry(),i=r.addSource(t,e);return[i,()=>r.removeSource(i)]}(o,s,r);return e.receiveHandlerId(t),n.receiveHandlerId(t),i}}),[r,e,n,s,o])}function eg(t,e){const n=jf(t,e);f(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const t=Gf();return(0,i.useMemo)((()=>new Jf(t)),[t])}(),s=function(t,e){const n=Gf(),r=(0,i.useMemo)((()=>new Qf(n.getBackend())),[n]);return Ff((()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource())),[r,t]),Ff((()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,e]),r}(n.options,n.previewOptions);return tg(n,r,s),[Vf(n.collect,r,s),Uf(s),Bf(s)]}const ng=t=>{let{task:e,isInDaily:n}=t;const[{isDragging:r},i]=eg((()=>({type:"TASK",item:{id:e.id,title:e.title},collect:t=>({isDragging:!!t.isDragging()})})));return(0,o.jsxs)("div",{ref:i,className:"task-item "+(n?"in-daily":""),style:{opacity:r?.5:1},children:[(0,o.jsx)("span",{children:e.title}),(0,o.jsx)("button",{className:"delete-task-btn",onClick:async()=>{await Of(Vd(Pf,"tasks",e.id))},children:"\xd7"})]})};function rg(t){return(0,i.useMemo)((()=>t.hooks.dropTarget()),[t])}class ig{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const e=this.dropTarget;this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=e,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,e,this.dropTargetOptions)):this.lastConnectedDropTarget=e)}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Hf(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=qf({dropTarget:(t,e)=>{this.clearDropTarget(),this.dropTargetOptions=e,$f(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}let sg=!1;class og{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}canDrop(){if(!this.targetId)return!1;f(!sg,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return sg=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{sg=!1}}isOver(t){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}class ag{canDrop(){const t=this.spec,e=this.monitor;return!t.canDrop||t.canDrop(e.getItem(),e)}hover(){const t=this.spec,e=this.monitor;t.hover&&t.hover(e.getItem(),e)}drop(){const t=this.spec,e=this.monitor;if(t.drop)return t.drop(e.getItem(),e)}constructor(t,e){this.spec=t,this.monitor=e}}function lg(t,e,n){const r=Gf(),s=function(t,e){const n=(0,i.useMemo)((()=>new ag(t,e)),[e]);return(0,i.useEffect)((()=>{n.spec=t}),[t]),n}(t,e),o=function(t){const{accept:e}=t;return(0,i.useMemo)((()=>(f(null!=t.accept,"accept must be defined"),Array.isArray(e)?e:[e])),[e])}(t);Ff((function(){const[t,i]=function(t,e,n){const r=n.getRegistry(),i=r.addTarget(t,e);return[i,()=>r.removeTarget(i)]}(o,s,r);return e.receiveHandlerId(t),n.receiveHandlerId(t),i}),[r,e,s,n,o.map((t=>t.toString())).join("|")])}function cg(t,e){const n=jf(t,e),r=function(){const t=Gf();return(0,i.useMemo)((()=>new og(t)),[t])}(),s=function(t){const e=Gf(),n=(0,i.useMemo)((()=>new ig(e.getBackend())),[e]);return Ff((()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget())),[t]),n}(n.options);return lg(n,r,s),[Vf(n.collect,r,s),rg(s)]}const ug=t=>{let{tasks:e,setTasks:n}=t;const[{isOver:r},i]=cg((()=>({accept:"TASK",drop:t=>{n((e=>[...e,{id:t.id,title:t.title,completed:!1}]))},collect:t=>({isOver:!!t.isOver()})}))),s=async t=>{const r=Vd(Pf,"tasks",t),i=e.find((e=>e.id===t));await function(t,e,n){t=Dd(t,Ld);const r=Dd(t.firestore,Hd),i=rf(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(e=le(e))||e instanceof Kd?lf(i,"updateDoc",t._key,e,n,a):af(i,"updateDoc",t._key,e),Mf(r,[s.toMutation(t._key,ll.exists(!0))])}(r,{completed:!i.completed}),n(e.map((e=>e.id===t?{...e,completed:!e.completed}:e)))};return(0,o.jsxs)("div",{ref:i,className:"daily-tasks",style:{background:r?"#e3f2fd":"#ffffff"},children:[(0,o.jsx)("h2",{children:"Daily Tasks"}),e.map((t=>(0,o.jsxs)("div",{className:"task-card "+(t.completed?"completed":""),children:[(0,o.jsx)("span",{children:t.title}),(0,o.jsxs)("div",{className:"task-actions",children:[(0,o.jsx)("button",{className:"complete-btn",onClick:()=>s(t.id),children:t.completed?"\u2713":"\u25cb"}),(0,o.jsx)("button",{className:"remove-btn",onClick:()=>{return r=t.id,void n(e.filter((t=>t.id!==r)));var r},children:"\xd7"})]})]},t.id)))]})},hg=t=>{let{tasks:e}=t;const n=e.filter((t=>!t.completed)).length,r=e.filter((t=>t.completed)).length;return(0,o.jsxs)("div",{className:"task-stats",children:[(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("h3",{children:"Remaining"}),(0,o.jsx)("p",{children:n})]}),(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("h3",{children:"Completed"}),(0,o.jsx)("p",{children:r})]})]})};function dg(t){return t+.5|0}const fg=(t,e,n)=>Math.max(Math.min(t,n),e);function gg(t){return fg(dg(2.55*t),0,255)}function pg(t){return fg(dg(255*t),0,255)}function mg(t){return fg(dg(t/2.55)/100,0,1)}function yg(t){return fg(dg(100*t),0,100)}const vg={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bg=[..."0123456789ABCDEF"],wg=t=>bg[15&t],_g=t=>bg[(240&t)>>4]+bg[15&t],xg=t=>(240&t)>>4===(15&t);function Sg(t){var e=(t=>xg(t.r)&&xg(t.g)&&xg(t.b)&&xg(t.a))(t)?wg:_g;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Eg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kg(t,e,n){const r=e*Math.min(n,1-n),i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Tg(t,e,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Cg(t,e,n){const r=kg(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Ig(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=(i+s)/2;let a,l,c;return i!==s&&(c=i-s,l=o>.5?c/(2-i-s):c/(i+s),a=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,c,i),a=60*a+.5),[0|a,l||0,o]}function Dg(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(pg)}function Og(t,e,n){return Dg(kg,t,e,n)}function Mg(t){return(t%360+360)%360}function Ag(t){const e=Eg.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?gg(+e[5]):pg(+e[5]));const i=Mg(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Dg(Cg,t,e,n)}(i,s,o):"hsv"===e[1]?function(t,e,n){return Dg(Tg,t,e,n)}(i,s,o):Og(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}const Ng={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Rg;function Lg(t){Rg||(Rg=function(){const t={},e=Object.keys(Pg),n=Object.keys(Ng);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Ng[s]);s=parseInt(Pg[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),Rg.transparent=[0,0,0,0]);const e=Rg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Fg=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const zg=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Vg=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jg(t,e,n){if(t){let r=Ig(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Og(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Ug(t,e){return t?Object.assign(e||{},t):t}function Bg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=pg(t[3]))):(e=Ug(t,{r:0,g:0,b:0,a:1})).a=pg(e.a),e}function Hg(t){return"r"===t.charAt(0)?function(t){const e=Fg.exec(t);let n,r,i,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?gg(t):fg(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?gg(n):fg(n,0,255)),r=255&(e[4]?gg(r):fg(r,0,255)),i=255&(e[6]?gg(i):fg(i,0,255)),{r:n,g:r,b:i,a:s}}}(t):Ag(t)}class $g{constructor(t){if(t instanceof $g)return t;const e=typeof t;let n;"object"===e?n=Bg(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*vg[t[1]],g:255&17*vg[t[2]],b:255&17*vg[t[3]],a:5===n?17*vg[t[4]]:255}:7!==n&&9!==n||(e={r:vg[t[1]]<<4|vg[t[2]],g:vg[t[3]]<<4|vg[t[4]],b:vg[t[5]]<<4|vg[t[6]],a:9===n?vg[t[7]]<<4|vg[t[8]]:255})),e}(t)||Lg(t)||Hg(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Ug(this._rgb);return t&&(t.a=mg(t.a)),t}set rgb(t){this._rgb=Bg(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${mg(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?Sg(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Ig(t),n=e[0],r=yg(e[1]),i=yg(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${mg(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const s=e===i?.5:e,o=2*s-1,a=n.a-r.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=Vg(mg(t.r)),i=Vg(mg(t.g)),s=Vg(mg(t.b));return{r:pg(zg(r+n*(Vg(mg(e.r))-r))),g:pg(zg(i+n*(Vg(mg(e.g))-i))),b:pg(zg(s+n*(Vg(mg(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new $g(this.rgb)}alpha(t){return this._rgb.a=pg(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=dg(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jg(this._rgb,2,t),this}darken(t){return jg(this._rgb,2,-t),this}saturate(t){return jg(this._rgb,1,t),this}desaturate(t){return jg(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Ig(t);n[0]=Mg(n[0]+e),n=Og(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Wg(){}const qg=(()=>{let t=0;return()=>t++})();function Kg(t){return null===t||void 0===t}function Qg(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Gg(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Yg(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function Xg(t,e){return Yg(t)?t:e}function Jg(t,e){return"undefined"===typeof t?e:t}const Zg=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function tp(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function ep(t,e,n,r){let i,s,o;if(Qg(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Gg(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function np(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function rp(t){if(Qg(t))return t.map(rp);if(Gg(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=rp(t[n[i]]);return e}return t}function ip(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function sp(t,e,n,r){if(!ip(t))return;const i=e[t],s=n[t];Gg(i)&&Gg(s)?op(i,s,r):e[t]=rp(s)}function op(t,e,n){const r=Qg(e)?e:[e],i=r.length;if(!Gg(t))return t;const s=(n=n||{}).merger||sp;let o;for(let a=0;a<i;++a){if(o=r[a],!Gg(o))continue;const e=Object.keys(o);for(let r=0,i=e.length;r<i;++r)s(e[r],t,o,n)}return t}function ap(t,e){return op(t,e,{merger:lp})}function lp(t,e,n){if(!ip(t))return;const r=e[t],i=n[t];Gg(r)&&Gg(i)?ap(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=rp(i))}const cp={"":t=>t,x:t=>t.x,y:t=>t.y};function up(t,e){const n=cp[e]||(cp[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function hp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const dp=t=>"undefined"!==typeof t,fp=t=>"function"===typeof t,gp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const pp=Math.PI,mp=2*pp,yp=Number.POSITIVE_INFINITY,vp=pp/180,bp=pp/2,wp=pp/4,_p=2*pp/3,xp=Math.log10,Sp=Math.sign;function Ep(t,e,n){return Math.abs(t-e)<n}function kp(t){const e=Math.round(t);t=Ep(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(xp(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Tp(t){return!function(t){return"symbol"===typeof t||"object"===typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Cp(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ip(t){return t*(pp/180)}function Dp(t){return t*(180/pp)}function Op(t){if(!Yg(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Mp(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*pp&&(s+=mp),{angle:s,distance:i}}function Ap(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Np(t){return(t%mp+mp)%mp}function Pp(t,e,n,r){const i=Np(t),s=Np(e),o=Np(n),a=Np(s-i),l=Np(o-i),c=Np(i-s),u=Np(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Rp(t,e,n){return Math.max(e,Math.min(n,t))}function Lp(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Fp(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const zp=(t,e,n,r)=>Fp(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),Vp=(t,e,n)=>Fp(t,n,(r=>t[r][e]>=n));const jp=["push","pop","shift","splice","unshift"];function Up(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(jp.forEach((e=>{delete t[e]})),delete t._chartjs)}function Bp(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Hp="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function $p(t,e){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n=s,r||(r=!0,Hp.call(window,(()=>{r=!1,t.apply(e,n)})))}}const Wp=t=>"start"===t?"left":"end"===t?"right":"center",qp=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;const Kp=t=>0===t||1===t,Qp=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*mp/n),Gp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mp/n)+1,Yp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*bp),easeOutSine:t=>Math.sin(t*bp),easeInOutSine:t=>-.5*(Math.cos(pp*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Kp(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Kp(t)?t:Qp(t,.075,.3),easeOutElastic:t=>Kp(t)?t:Gp(t,.075,.3),easeInOutElastic(t){const e=.1125;return Kp(t)?t:t<.5?.5*Qp(2*t,e,.45):.5+.5*Gp(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Yp.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Yp.easeInBounce(2*t):.5*Yp.easeOutBounce(2*t-1)+.5};function Xp(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Jp(t){return Xp(t)?t:new $g(t)}function Zp(t){return Xp(t)?t:new $g(t).saturate(.5).darken(.1).hexString()}const tm=["x","y","borderWidth","radius","tension"],em=["color","borderColor","backgroundColor"];const nm=new Map;function rm(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=nm.get(n);return r||(r=new Intl.NumberFormat(t,e),nm.set(n,r)),r}(e,n).format(t)}const im={values:t=>Qg(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=xp(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),rm(t,r,l)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(xp(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?im.numeric.call(this,t,e,n):""}};var sm={formatters:im};const om=Object.create(null),am=Object.create(null);function lm(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function cm(t,e,n){return"string"===typeof e?op(lm(t,e),n):op(lm(t,""),e)}class um{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Zp(e.backgroundColor),this.hoverBorderColor=(t,e)=>Zp(e.borderColor),this.hoverColor=(t,e)=>Zp(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return cm(this,t,e)}get(t){return lm(this,t)}describe(t,e){return cm(am,t,e)}override(t,e){return cm(om,t,e)}route(t,e,n,r){const i=lm(this,t),s=lm(this,n),o="_"+e;Object.defineProperties(i,{[o]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[r];return Gg(t)?Object.assign({},e,t):Jg(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var hm=new um({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:em},numbers:{type:"number",properties:tm}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function dm(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function fm(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function gm(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function pm(t,e,n,r){mm(t,e,n,r,null)}function mm(t,e,n,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*vp;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,r),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,p,0,0,mp):t.arc(n,r,p,0,mp),t.closePath();break;case"triangle":u=i?i/2:p,t.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*p),m+=_p,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*p),m+=_p,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*p),t.closePath();break;case"rectRounded":c=.516*p,l=p-c,o=Math.cos(m+wp)*l,h=Math.cos(m+wp)*(i?i/2-c:l),a=Math.sin(m+wp)*l,d=Math.sin(m+wp)*(i?i/2-c:l),t.arc(n-h,r-a,c,m-pp,m-bp),t.arc(n+d,r-o,c,m-bp,m),t.arc(n+h,r+a,c,m,m+bp),t.arc(n-d,r+o,c,m+bp,m+pp),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}m+=wp;case"rectRot":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),t.moveTo(n-h,r-a),t.lineTo(n+d,r-o),t.lineTo(n+h,r+a),t.lineTo(n-d,r+o),t.closePath();break;case"crossRot":m+=wp;case"cross":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"star":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o),m+=wp,h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(i?i/2:p),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*(i?i/2:p),r+Math.sin(m)*p);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function ym(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function vm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function bm(t){t.restore()}function wm(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function _m(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function xm(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Qg(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kg(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&_m(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Kg(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),wm(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Sm(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*pp,pp,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,pp,bp,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,bp,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-bp,!0),t.lineTo(n+o.topLeft,r)}const Em=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,km=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tm(t,e){const n=(""+t).match(Em);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Cm=t=>+t||0;function Im(t,e){const n={},r=Gg(e),i=r?Object.keys(e):e,s=Gg(t)?r?n=>Jg(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of i)n[o]=Cm(s(o));return n}function Dm(t){return Im(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Om(t){return Im(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Mm(t){const e=Dm(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Am(t,e){t=t||{},e=e||hm.font;let n=Jg(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=Jg(t.style,e.style);r&&!(""+r).match(km)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Jg(t.family,e.family),lineHeight:Tm(Jg(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Jg(t.weight,e.weight),string:""};return i.string=function(t){return!t||Kg(t.size)||Kg(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Nm(t,e,n,r){let i,s,o,a=!0;for(i=0,s=t.length;i<s;++i)if(o=t[i],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&Qg(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function Pm(t,e){return Object.assign(Object.create(t),e)}function Rm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const i=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=qm("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Rm([r,...t],e,i,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>jm(n,r,(()=>function(t,e,n,r){let i;for(const s of e)if(i=qm(zm(s,t),n),"undefined"!==typeof i)return Vm(t,i)?$m(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Km(t).includes(e),ownKeys:t=>Km(t),set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function Lm(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Fm(t,r),setContext:e=>Lm(t,e,n,r),override:i=>Lm(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>jm(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];fp(a)&&o.isScriptable(e)&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);a.delete(t),Vm(t,l)&&(l=$m(i._scopes,i,t,l));return l}(e,a,t,n));Qg(a)&&a.length&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&r(t))return e[s.index%e.length];if(Gg(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=$m(r,i,t,l);e.push(Lm(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));Vm(e,a)&&(a=Lm(a,i,s&&s[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function Fm(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:fp(n)?n:()=>n,isIndexable:fp(r)?r:()=>r}}const zm=(t,e)=>t?t+hp(e):e,Vm=(t,e)=>Gg(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function jm(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const r=n();return t[e]=r,r}function Um(t,e,n){return fp(t)?t(e,n):t}const Bm=(t,e)=>!0===t?e:"string"===typeof t?up(e,t):void 0;function Hm(t,e,n,r,i){for(const s of e){const e=Bm(n,s);if(e){t.add(e);const s=Um(e._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===e&&"undefined"!==typeof r&&n!==r)return null}return!1}function $m(t,e,n,r){const i=e._rootScopes,s=Um(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=Wm(a,o,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=Wm(a,o,s,l,r),null!==l))&&Rm(Array.from(a),[""],i,s,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(Qg(i)&&Gg(n))return n;return i||{}}(e,n,r))))}function Wm(t,e,n,r,i){for(;n;)n=Hm(t,e,n,r,i);return n}function qm(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Km(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}Number.EPSILON;function Qm(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Gm(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Ym(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const Xm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Jm=["top","right","bottom","left"];function Zm(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Jm[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function ty(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Xm(n),s="border-box"===i.boxSizing,o=Zm(i,"padding"),a=Zm(i,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o,a,l=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(i,s,t.target))o=i,a=s;else{const t=e.getBoundingClientRect();o=r.clientX-t.left,a=r.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=e;return s&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/g*n.height/r)}}const ey=t=>Math.round(10*t)/10;function ny(t,e,n,r){const i=Xm(t),s=Zm(i,"margin"),o=Ym(i.maxWidth,t,"clientWidth")||yp,a=Ym(i.maxHeight,t,"clientHeight")||yp,l=function(t,e,n){let r,i;if(void 0===e||void 0===n){const s=t&&Gm(t);if(s){const t=s.getBoundingClientRect(),o=Xm(s),a=Zm(o,"border","width"),l=Zm(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,r=Ym(o.maxWidth,s,"clientWidth"),i=Ym(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||yp,maxHeight:i||yp}}(t,e,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const t=Zm(i,"border","width"),e=Zm(i,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=ey(Math.min(c,o,l.maxWidth)),u=ey(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ey(c/2));return(void 0!==e||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=ey(Math.floor(u*r))),{width:c,height:u}}function ry(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0)}const iy=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function sy(t,e){const n=function(t,e){return Xm(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function oy(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function ay(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function ly(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}class cy{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],s=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Hp.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var uy=new cy;const hy="transparent",dy={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=Jp(t||hy),i=r.valid&&Jp(e||hy);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class fy{constructor(t,e,n,r){const i=e[n];r=Nm([t.to,r,i,t.from]);const s=Nm([t.from,i,r]);this._active=!0,this._fn=t.fn||dy[t.type||typeof s],this._easing=Yp[t.easing]||Yp.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Nm([t.to,e,r,t.from]),this._from=Nm([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||e<n),!this._active)return this._target[r]=o,void this._notify(!0);e<0?this._target[r]=i:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class gy{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Gg(t))return;const e=Object.keys(hm.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!Gg(i))return;const s={};for(const t of e)s[t]=i[t];(Qg(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const c=e[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(i[l]=u=new fy(h,t,l,c),r.push(u)):t[l]=c}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(uy.add(this._chart,n),!0):void 0}}function py(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:r?s:i,end:r?i:s}}function my(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function yy(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.keys,s="single"===r.mode;let o,a,l,c;if(null===e)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Yg(c)&&(s||0===e||Sp(e)===Sp(c))&&(e+=c)}return u||r.all?e:0}function vy(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function by(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function wy(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function _y(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=by(i,u,n),d[a]=s,d._top=wy(d,o,!0,r.type),d._bottom=wy(d,o,!1,r.type);(d._visualValues||(d._visualValues={}))[a]=s}}function xy(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Sy(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const Ey=t=>"reset"===t||"none"===t,ky=(t,e)=>e?t:Object.assign({},t);class Ty{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=vy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Sy(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=Jg(n.xAxisID,xy(t,"x")),s=e.yAxisID=Jg(n.yAxisID,xy(t,"y")),o=e.rAxisID=Jg(n.rAxisID,xy(t,"r")),a=e.indexAxis,l=e.iAxisID=r(a,i,s,o),c=e.vAxisID=r(a,s,i,o);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Up(this._data,this),t._stacked&&Sy(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Gg(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:r}=e,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}(e,t)}else if(n!==e){if(n){Up(n,this);const t=this._cachedMeta;Sy(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),jp.forEach((t=>{const e="_onData"+hp(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const o=n.apply(this,i);return r._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...i)})),o}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=vy(e.vScale,e),e.stack!==n.stack&&(r=!0,Sy(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&(_y(this,e._parsed),e._stacked=vy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,l,c,u=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Qg(r[t])?this.parseArrayData(n,r,t,e):Gg(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(i()&&(u=!1),h=l);n._sorted=u}s&&_y(this,c)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:s}=t,o=i.axis,a=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[o]:c||i.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,r){const{xScale:i,yScale:s}=t,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,r){const{xScale:i,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=e[h],l[c]={x:i.parse(up(d,o),h),y:s.parse(up(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,s=e[t.axis];return yy({keys:my(r,!0),values:e._stacks[t.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let s=null===i?NaN:i;const o=r&&n._stacks[e.axis];r&&o&&(r.values=o,s=yy(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,s=r.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:my(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=r[h];const e=d[o.axis];return!Yg(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r][t.axis],Yg(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return Gg(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(Jg(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=py(t,n),i=py(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,i,o,a),c=o;c<o+a;++c){const e=r[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,i))}for(c=0;c<s.length;++c)s[c].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return Pm(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return Pm(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===e,i=this._cachedDataOpts,s=t+"-"+e,o=i[s],a=this.enableOptionSharing&&dp(n);if(o)return ky(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=r?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(hm.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,e)),u);return f.$shared&&(f.$shared=a,i[s]=Object.freeze(ky(f,a))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${e}`,o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(t,n,e))}const l=new gy(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ey(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:s}}updateElement(t,e,n,r){Ey(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!Ey(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const r=n.length,i=e.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(i),o=t;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Sy(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Cy extends Ty{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const s=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,o=t=>+n[t];if(Gg(n[t])){const{key:t="value"}=this._parsing;o=e=>+up(n[e],t)}for(i=t,s=t+e;i<s;++i)r._parsed[i]=o(i)}}_getRotation(){return Ip(this.options.rotation-90)}_getCircumference(){return Ip(this.options.circumference)}_getRotationExtents(){let t=mp,e=-mp;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=function(t,e,n){let r=1,i=1,s=0,o=0;if(e<mp){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,r)=>Pp(t,a,l,!0)?1:Math.max(e,e*n,r,r*n),g=(t,e,r)=>Pp(t,a,l,!0)?-1:Math.min(e,e*n,r,r*n),p=f(0,c,h),m=f(bp,u,d),y=g(pp,c,h),v=g(pp+bp,u,d);r=(p-y)/2,i=(m-v)/2,s=-(p+y)/2,o=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(d,h,a),y=(n.width-s)/f,v=(n.height-s)/g,b=Math.max(Math.min(y,v)/2,0),w=Zg(this.options.radius,b),_=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/mp)}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=i&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,r);let p,m=this._getRotation();for(p=0;p<e;++p)m+=this._circumference(p,i);for(p=e;p<e+n;++p){const e=this._circumference(p,i),n=t[p],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};g&&(s.options=f||this.resolveDataElementOptions(p,n.active?"active":r)),m+=e,this.updateElement(n,p,s,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?mp*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=rm(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,s,o,a;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),t=s.data,o=s.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)a=o.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Jg(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Iy extends Cy{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Dy(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Oy{static override(t){Object.assign(Oy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Dy()}parse(){return Dy()}format(){return Dy()}add(){return Dy()}diff(){return Dy()}startOf(){return Dy()}endOf(){return Dy()}}var My=Oy;function Ay(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const o=a._reversePixels?Vp:zp;if(!r){const r=o(s,e,n);if(l){const{vScale:e}=i._cachedMeta,{_parsed:n}=t,s=n.slice(0,r.lo+1).reverse().findIndex((t=>!Kg(t[e.axis])));r.lo-=Math.max(0,s);const o=n.slice(r.hi).findIndex((t=>!Kg(t[e.axis])));r.hi+=Math.max(0,o)}return r}if(i._sharedOptions){const t=s[0],r="function"===typeof t.getRange&&t.getRange(e);if(r){const t=o(s,e,n-r),i=o(s,e,n+r);return{lo:t.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function Ny(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=Ay(s[a],e,o,i);for(let e=l;e<=c;++e){const i=n[e];i.skip||r(i,t,e)}}}function Py(t,e,n,r,i){const s=[];if(!i&&!t.isPointInArea(e))return s;return Ny(t,n,e,(function(n,o,a){(i||ym(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function Ry(t,e,n,r,i,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,s=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Ny(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function Ly(t,e,n,r,i,s){return s||t.isPointInArea(e)?"r"!==n||r?Ry(t,e,n,r,i,s):function(t,e,n,r){let i=[];return Ny(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],r),{angle:l}=Mp(t,{x:e.x,y:e.y});Pp(l,o,a)&&i.push({element:t,datasetIndex:n,index:s})})),i}(t,e,n,i):[]}function Fy(t,e,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Ny(t,n,e,((t,r,l)=>{t[o]&&t[o](e[n],i)&&(s.push({element:t,datasetIndex:r,index:l}),a=a||t.inRange(e.x,e.y,i))})),r&&!a?[]:s}var zy={evaluateInteractionItems:Ny,modes:{index(t,e,n,r){const i=ty(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Py(t,i,s,r,o):Ly(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,r){const i=ty(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Py(t,i,s,r,o):Ly(t,i,s,!1,r,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,r)=>Py(t,ty(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=ty(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Ly(t,i,s,n.intersect,r,o)},x:(t,e,n,r)=>Fy(t,ty(e,t),"x",n.intersect,r),y:(t,e,n,r)=>Fy(t,ty(e,t),"y",n.intersect,r)}};const Vy=["left","top","right","bottom"];function jy(t,e){return t.filter((t=>t.pos===e))}function Uy(t,e){return t.filter((t=>-1===Vy.indexOf(t.pos)&&t.box.axis===e))}function By(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Hy(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!Vy.includes(r))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:o&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:o&&e.availableHeight)}return n}function $y(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Wy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function qy(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Gg(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[i]+=n.size}s.getPadding&&Wy(o,s.getPadding());const a=Math.max(0,e.outerWidth-$y(o,t,"left","right")),l=Math.max(0,e.outerHeight-$y(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Ky(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function Qy(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Ky(a.horizontal,e));const{same:o,other:h}=qy(e,n,a,r);c|=o&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Qy(i,e,n,r)||u}function Gy(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Yy(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=e.w*c,s=l.size||t.height;dp(l.start)&&(o=l.start),t.fullSize?Gy(t,i.left,o,n.outerWidth-i.right-i.left,s):Gy(t,e.left+l.placed,o,r,s),l.start=o,l.placed+=r,o=t.bottom}else{const r=e.h*c,o=l.size||t.width;dp(l.start)&&(s=l.start),t.fullSize?Gy(t,s,i.top,o,n.outerHeight-i.bottom-i.top):Gy(t,s,e.top+l.placed,o,r),l.start=s,l.placed+=r,s=t.right}}e.x=s,e.y=o}var Xy={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Mm(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=function(t){const e=function(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=By(e.filter((t=>t.box.fullSize)),!0),r=By(jy(e,"left"),!0),i=By(jy(e,"right")),s=By(jy(e,"top"),!0),o=By(jy(e,"bottom")),a=Uy(e,"x"),l=Uy(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:jy(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;ep(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);Wy(d,Mm(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),g=Hy(l.concat(c),h);Qy(a.fullSize,f,h,g),Qy(l,f,h,g),Qy(c,f,h,g)&&Qy(l,f,h,g),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),Yy(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Yy(a.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ep(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Jy{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class Zy extends Jy{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const tv="$chartjs",ev={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nv=t=>null===t||""===t;const rv=!!iy&&{passive:!0};function iv(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,rv)}function sv(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ov(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||sv(n.addedNodes,r),e=e&&!sv(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function av(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||sv(n.removedNodes,r),e=e&&!sv(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const lv=new Map;let cv=0;function uv(){const t=window.devicePixelRatio;t!==cv&&(cv=t,lv.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function hv(t,e,n){const r=t.canvas,i=r&&Gm(r);if(!i)return;const s=$p(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||s(n,r)}));return o.observe(i),function(t,e){lv.size||window.addEventListener("resize",uv),lv.set(t,e)}(t,s),o}function dv(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){lv.delete(t),lv.size||window.removeEventListener("resize",uv)}(t)}function fv(t,e,n){const r=t.canvas,i=$p((e=>{null!==t.ctx&&n(function(t,e){const n=ev[t.type]||t.type,{x:r,y:i}=ty(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,rv)}(r,e,i),i}class gv extends Jy{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[tv]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",nv(i)){const e=sy(t,"width");void 0!==e&&(t.width=e)}if(nv(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=sy(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[tv])return!1;const n=e[tv].initial;["height","width"].forEach((t=>{const r=n[t];Kg(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[tv],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:ov,detach:av,resize:hv}[e]||fv;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:dv,detach:dv,resize:dv}[e]||iv)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return ny(t,e,n,r)}isAttached(t){const e=t&&Gm(t);return!(!e||!e.isConnected)}}class pv{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Tp(this.x)&&Tp(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function mv(t,e){const n=t.options.ticks,r=function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return function(t,e,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===o&&(e.push(t[i]),s++,o=n[s*r])}(e,c,s,o/i),c;const u=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const s=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>i)return t}return Math.max(i,1)}(s,e,i);if(o>0){let t,n;const r=o>1?Math.round((l-a)/(o-1)):null;for(yv(e,c,u,Kg(r)?0:a-r,a),t=0,n=o-1;t<n;t++)yv(e,c,u,s[t],s[t+1]);return yv(e,c,u,l,Kg(r)?e.length:l+r),c}return yv(e,c,u),c}function yv(t,e,n,r,i){const s=Jg(r,0),o=Math.min(Jg(i,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}const vv=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,bv=(t,e)=>Math.min(e||t,t);function wv(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function _v(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function xv(t){return t.drawTicks?t.tickLength:0}function Sv(t,e){if(!t.display)return 0;const n=Am(t.font,e),r=Mm(t.padding);return(Qg(t.text)?t.text.length:1)*n.lineHeight+r.height}function Ev(t,e,n){let r=Wp(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class kv extends pv{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=Xg(t,Number.POSITIVE_INFINITY),e=Xg(e,Number.NEGATIVE_INFINITY),n=Xg(n,Number.POSITIVE_INFINITY),r=Xg(r,Number.NEGATIVE_INFINITY),{min:Xg(t,n),max:Xg(e,r),minDefined:Yg(t),maxDefined:Yg(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),s||(r=Math.max(r,e.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Xg(n,Xg(r,n)),max:Xg(r,Xg(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tp(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,s=Zg(e,(i-r)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?wv(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=mv(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tp(this.options.afterUpdate,[this])}beforeSetDimensions(){tp(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tp(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),tp(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tp(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=tp(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){tp(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tp(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=bv(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let s,o,a,l=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Rp(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-xv(t.grid)-e.padding-Sv(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Dp(Math.min(Math.asin(Rp((c.highest.height+6)/s,-1,1)),Math.asin(Rp(o/a,-1,1))-Math.asin(Rp(h/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){tp(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tp(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=Sv(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=xv(i)+s):(t.height=this.maxHeight,t.width=xv(i)+s),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Ip(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*i.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*i.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,r,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=r*t.width,h=n*e.height):(u=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?u=t.width:"inner"!==i&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tp(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Kg(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=wv(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],a=Math.floor(e/bv(e,n));let l,c,u,h,d,f,g,p,m,y,v,b=0,w=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,g=i[f]=i[f]||{data:{},gc:[]},p=d.lineHeight,m=y=0,Kg(h)||Qg(h)){if(Qg(h))for(c=0,u=h.length;c<u;++c)v=h[c],Kg(v)||Qg(v)||(m=dm(r,g.data,g.gc,m,v),y+=p)}else m=dm(r,g.data,g.gc,m,h),y=p;s.push(m),o.push(y),b=Math.max(m,b),w=Math.max(y,w)}!function(t,e){ep(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(i,e);const _=s.indexOf(b),x=o.indexOf(w),S=t=>({width:s[t]||0,height:o[t]||0});return{first:S(0),last:S(e-1),widest:S(_),highest:S(x),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Rp(this._alignToPixels?fm(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Pm(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=Pm(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Ip(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),s=t.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:o}=r,a=i.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=xv(i),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,g=f/2,p=function(t){return fm(n,t,f)};let m,y,v,b,w,_,x,S,E,k,T,C;if("top"===s)m=p(this.bottom),_=this.bottom-u,S=m-g,k=p(t.top)+g,C=t.bottom;else if("bottom"===s)m=p(this.top),k=t.top,C=p(t.bottom)-g,_=m+g,S=this.top+u;else if("left"===s)m=p(this.right),w=this.right-u,x=m-g,E=p(t.left)+g,T=t.right;else if("right"===s)m=p(this.left),E=t.left,T=p(t.right)-g,w=m+g,x=this.left+u;else if("x"===e){if("center"===s)m=p((t.top+t.bottom)/2+.5);else if(Gg(s)){const t=Object.keys(s)[0],e=s[t];m=p(this.chart.scales[t].getPixelForValue(e))}k=t.top,C=t.bottom,_=m+g,S=_+u}else if("y"===e){if("center"===s)m=p((t.left+t.right)/2);else if(Gg(s)){const t=Object.keys(s)[0],e=s[t];m=p(this.chart.scales[t].getPixelForValue(e))}w=m-g,x=w-u,E=t.left,T=t.right}const I=Jg(r.ticks.maxTicksLimit,c),D=Math.max(1,Math.ceil(c/I));for(y=0;y<c;y+=D){const t=this.getContext(y),e=i.setContext(t),r=o.setContext(t),s=e.lineWidth,c=e.color,u=r.dash||[],d=r.dashOffset,f=e.tickWidth,g=e.tickColor,p=e.tickBorderDash||[],m=e.tickBorderDashOffset;v=_v(this,y,a),void 0!==v&&(b=fm(n,v,s),l?w=x=E=T=b:_=S=k=C=b,h.push({tx1:w,ty1:_,tx2:x,ty2:S,x1:E,y1:k,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:g,tickBorderDash:p,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=i,h=xv(n.grid),d=h+c,f=u?-c:d,g=-Ip(this.labelRotation),p=[];let m,y,v,b,w,_,x,S,E,k,T,C,I="middle";if("top"===r)_=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===r)_=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("x"===e){if("center"===r)_=(t.top+t.bottom)/2+d;else if(Gg(r)){const t=Object.keys(r)[0],e=r[t];_=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-d;else if(Gg(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?I="top":"end"===a&&(I="bottom"));const D=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){v=o[m],b=v.label;const t=i.setContext(this.getContext(m));S=this.getPixelForTick(m)+i.labelOffset,E=this._resolveTickFontOptions(m),k=E.lineHeight,T=Qg(b)?b.length:1;const e=T/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=x;if(s?(w=S,"inner"===x&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==g?-T*k+k/2:"center"===l?-D.highest.height/2-e*k+k:-D.highest.height+k/2:"near"===l||0!==g?k/2:"center"===l?D.highest.height/2-e*k:D.highest.height-T*k,u&&(C*=-1),0===g||t.showLabelBackdrop||(w+=k/2*Math.sin(g))):(_=S,C=(1-T)*k/2),t.showLabelBackdrop){const e=Mm(t.backdropPadding),n=D.heights[m],r=D.widths[m];let i=C-e.top,s=0-e.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":m===y-1?s-=r:m>0&&(s-=r/2)}h={left:s,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}p.push({label:b,font:E,textOffset:C,options:{rotation:g,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,_],backdrop:h}})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ip(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=t+i,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,s;const o=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,s=r.length;i<s;++i){const t=r[i];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=fm(t,this.left,s)-s/2,c=fm(t,this.right,o)+o/2,u=h=a):(u=fm(t,this.top,s)-s/2,h=fm(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&vm(e,n);const r=this.getLabelItems(t);for(const i of r){const t=i.options,n=i.font;xm(e,i.label,0,i.textOffset,n,t)}n&&bm(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Am(n.font),s=Mm(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===e||"center"===e||Gg(e)?(a+=s.bottom,Qg(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,g=0;const p=o-i,m=a-s;if(t.isHorizontal()){if(d=qp(r,s,a),Gg(n)){const t=Object.keys(n)[0],r=n[t];f=u[t].getPixelForValue(r)+p-e}else f="center"===n?(c.bottom+c.top)/2+p-e:vv(t,n,e);h=a-s}else{if(Gg(n)){const t=Object.keys(n)[0],r=n[t];d=u[t].getPixelForValue(r)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:vv(t,n,e);f=qp(r,o,i),g="left"===n?-bp:bp}return{titleX:d,titleY:f,maxWidth:h,rotation:g}}(this,a,e,o);xm(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:Ev(o,e,r),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Jg(t.grid&&t.grid.z,-1),r=Jg(t.border&&t.border.z,0);return this._isVisible()&&this.draw===kv.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=e.length;i<s;++i){const s=e[i];s[n]!==this.id||t&&s.type!==t||r.push(s)}return r}_resolveTickFontOptions(t){return Am(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Tv{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=op(Object.create(null),[n?hm.get(n):{},hm.get(e),t.defaults]);hm.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");hm.route(s,i,l,a)}))}(e,t.defaultRoutes);t.descriptors&&hm.describe(e,t.descriptors)}(t,s,n),this.override&&hm.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in hm[r]&&(delete hm[r][n],this.override&&delete om[n])}}class Cv{constructor(){this.controllers=new Tv(Ty,"datasets",!0),this.elements=new Tv(pv,"elements"),this.plugins=new Tv(Object,"plugins"),this.scales=new Tv(kv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):ep(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=hp(t);tp(n["before"+r],[],n),e[t](n),tp(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var Iv=new Cv;class Dv{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===tp(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){Kg(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=Jg(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(Iv.plugins.items);for(let s=0;s<r.length;s++)n.push(Iv.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const t=i[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,e,n,r){let{plugins:i,localIds:s}=e;const o=[],a=t.getContext();for(const l of i){const e=l.id,i=Ov(n[e],r);null!==i&&o.push({plugin:l,options:Mv(t.config,{plugin:l,local:s[e]},i,a)})}return o}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function Ov(t,e){return e||!1!==t?!0===t?{}:t:null}function Mv(t,e,n,r){let{plugin:i,local:s}=e;const o=t.pluginScopeKeys(i),a=t.getOptionScopes(n,o);return s&&i.defaults&&a.push(i.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Av(t,e){const n=hm.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Nv(t){if("x"===t||"y"===t||"r"===t)return t}function Pv(t){if(Nv(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(const s of n){const e=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&Nv(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Rv(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Lv(t,e){const n=om[t.type]||{scales:{}},r=e.scales||{},i=Av(t.type,e),s=Object.create(null);return Object.keys(r).forEach((e=>{const o=r[e];if(!Gg(o))return console.error(`Invalid scale configuration for scale: ${e}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=Pv(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return Rv(t,"x",n[0])||Rv(t,"y",n[0])}return{}}(e,t),hm.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,i),c=n.scales||{};s[e]=ap(Object.create(null),[{axis:a},o,c[a],c[l]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,o=n.indexAxis||Av(i,e),a=(om[i]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),i=n[e+"AxisID"]||e;s[i]=s[i]||Object.create(null),ap(s[i],[{axis:e},r[i],a[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];ap(e,[hm.scales[e.type],hm.scale])})),s}function Fv(t){const e=t.options||(t.options={});e.plugins=Jg(e.plugins,{}),e.scales=Lv(t,e)}function zv(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Vv=new Map,jv=new Set;function Uv(t,e){let n=Vv.get(t);return n||(n=e(),Vv.set(t,n),jv.add(n)),n}const Bv=(t,e,n)=>{const r=up(e,n);void 0!==r&&t.add(r)};class Hv{constructor(t){this._config=function(t){return(t=t||{}).data=zv(t.data),Fv(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=zv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Fv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Uv(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return Uv(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return Uv(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return Uv(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Bv(a,t,e)))),e.forEach((t=>Bv(a,r,t))),e.forEach((t=>Bv(a,om[i]||{},t))),e.forEach((t=>Bv(a,hm,t))),e.forEach((t=>Bv(a,am,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),jv.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,om[e]||{},hm.datasets[e]||{},{type:e},hm,am]}resolveNamedOptions(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:o}=$v(this._resolverCache,t,r);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:r}=Fm(t);for(const i of e){const e=n(i),s=r(i),o=(s||e)&&t[i];if(e&&(fp(o)||Wv(o))||s&&Qg(o))return!0}return!1}(s,e)){i.$shared=!1;a=Lm(s,n=fp(n)?n():n,this.createResolver(t,n,o))}for(const l of e)i[l]=a[l];return i}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=$v(this._resolverCache,t,n);return Gg(e)?Lm(i,e,void 0,r):i}}function $v(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:Rm(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,s)}return s}const Wv=t=>Gg(t)&&Object.getOwnPropertyNames(t).some((e=>fp(t[e])));const qv=["top","bottom","left","right","chartArea"];function Kv(t,e){return"top"===t||"bottom"===t||-1===qv.indexOf(t)&&"x"===e}function Qv(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Gv(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),tp(n&&n.onComplete,[t],e)}function Yv(t){const e=t.chart,n=e.options.animation;tp(n&&n.onProgress,[t],e)}function Xv(t){return Qm()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Jv={},Zv=t=>{const e=Xv(t);return Object.values(Jv).filter((t=>t.canvas===e)).pop()};function tb(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const s=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=s)}}}function eb(t,e,n){return t.options.clip?t[n]:e[n]}class nb{static defaults=(()=>hm)();static instances=(()=>Jv)();static overrides=(()=>om)();static registry=(()=>Iv)();static version="4.4.8";static getChart=(()=>Zv)();static register(){Iv.add(...arguments),rb()}static unregister(){Iv.remove(...arguments),rb()}constructor(t,e){const n=this.config=new Hv(e),r=Xv(t),i=Zv(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!Qm()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Zy:gv}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=qg(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],Jv[this.id]=this,o&&a?(uy.listen(this,"complete",Gv),uy.listen(this,"progress",Yv),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return Kg(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Iv}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ry(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gm(this.canvas,this.ctx),this}stop(){return uy.stop(this),this}resize(t,e){uy.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,ry(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),tp(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){ep(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=Pv(t,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),ep(i,(e=>{const i=e.options,s=i.id,o=Pv(s,i),a=Jg(i.type,e.dtype);void 0!==i.position&&Kv(i.position,o)===Kv(e.dposition)||(i.position=e.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(Iv.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,t)})),ep(r,((t,e)=>{t||delete n[e]})),ep(n,(t=>{Xy.configure(this,t,t.options),Xy.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Qv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||Av(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=Iv.getController(s),{datasetElementType:r,dataElementType:o}=hm.datasets[s];Object.assign(e,{dataElementType:Iv.getElement(o),datasetElementType:r&&Iv.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){ep(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||ep(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Qv("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ep(this.scales,(t=>{Xy.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);gp(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){tb(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!gp(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xy.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],ep(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,fp(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(uy.has(this)?this.attached&&!uy.running(this)&&uy.start(this):(this.draw(),Gv({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=function(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:eb(n,e,"left"),right:eb(n,e,"right"),top:eb(r,e,"top"),bottom:eb(r,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&vm(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&bm(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return ym(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=zy.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Pm(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),s=i.controller._resolveAnimations(void 0,r);dp(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),uy.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gm(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Jv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};ep(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){ep(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},ep(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[n],index:n}}));!np(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=i(e,t),o=n?t:i(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,s=e,o=this._getActiveElements(t,r,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,tp(i.onHover,[t,o,this],this),a&&tp(i.onClick,[t,o,this],this));const c=!np(o,r);return(c||e)&&(this._active=o,this._updateHoverStyles(o,r,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function rb(){return ep(nb.instances,(t=>t._plugins.invalidate()))}function ib(t,e,n,r){const i=Im(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,o=Math.min(s,r*e/2),a=t=>{const e=(n-Math.min(s,t))*r/2;return Rp(t,0,Math.min(s,e))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Rp(i.innerStart,0,o),innerEnd:Rp(i.innerEnd,0,o)}}function sb(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function ob(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const g=i-l;if(r){const t=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(g-(0!==t?g*t/(t+r):g))/2}const p=(g-Math.max(.001,g*h-n/pp)/h)/2,m=l+p+f,y=i-p-f,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:_}=ib(e,d,h,y-m),x=h-v,S=h-b,E=m+v/x,k=y-b/S,T=d+w,C=d+_,I=m+w/T,D=y-_/C;if(t.beginPath(),s){const e=(E+k)/2;if(t.arc(o,a,h,E,e),t.arc(o,a,h,e,k),b>0){const e=sb(S,k,o,a);t.arc(e.x,e.y,b,k,y+bp)}const n=sb(C,y,o,a);if(t.lineTo(n.x,n.y),_>0){const e=sb(C,D,o,a);t.arc(e.x,e.y,_,y+bp,D+Math.PI)}const r=(y-_/d+(m+w/d))/2;if(t.arc(o,a,d,y-_/d,r,!0),t.arc(o,a,d,r,m+w/d,!0),w>0){const e=sb(T,I,o,a);t.arc(e.x,e.y,w,I+Math.PI,m-bp)}const i=sb(x,m,o,a);if(t.lineTo(i.x,i.y),v>0){const e=sb(x,E,o,a);t.arc(e.x,e.y,v,m-bp,E)}}else{t.moveTo(o,a);const e=Math.cos(E)*h+o,n=Math.sin(E)*h+a;t.lineTo(e,n);const r=Math.cos(k)*h+o,i=Math.sin(k)*h+a;t.lineTo(r,i)}t.closePath()}function ab(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){ob(t,e,n,r,g,i);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(g=o+(a%mp||mp))}f&&function(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+bp,r-bp),t.closePath(),t.clip()}(t,e,g),s||(ob(t,e,n,r,g,i),t.stroke())}class lb extends pv{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=Mp(r,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=Jg(u,a-o),f=Pp(i,o,a)&&o!==a,g=d>=mp||f,p=Lp(s,l+h,c+h);return g&&p}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(r+i)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,i=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>mp?Math.floor(n/mp):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*r,Math.sin(o)*r);const a=r*(1-Math.sin(Math.min(pp,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){ob(t,e,n,r,l,i);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%mp||mp))}ob(t,e,n,r,l,i),t.fill()}(t,this,a,i,s),ab(t,this,a,i,s),t.restore()}}const cb=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class ub extends pv{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=tp(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Am(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=cb(n,i);let l,c;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const g=n+e/2+i.measureText(t.text).width;(0===f||l[l.length-1]+g+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:g,height:r},l[l.length-1]+=g+o})),u}_fitCols(t,e,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,g=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:p,itemHeight:m}=function(t,e,n,r,i){const s=function(t,e,n,r){let i=t.text;i&&"string"!==typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+r.measureText(i).width}(r,t,e,n),o=function(t,e,n){let r=t;"string"!==typeof e.text&&(r=hb(e,n));return r}(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}(n,e,i,t,r);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,g++,h=d=0),a[s]={left:f,top:d,col:g,width:p,height:m},h=Math.max(h,p),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,s=oy(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=qp(n,this.left+r,this.right-this.lineWidths[i]);for(const a of e)i!==a.row&&(i=a.row,o=qp(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+t+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=qp(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const a of e)a.col!==i&&(i=a.col,o=qp(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;vm(t,this),this._draw(),bm(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:s}=t,o=hm.color,a=oy(t.rtl,this.left,this.width),l=Am(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:g,itemHeight:p}=cb(s,u),m=this.isHorizontal(),y=this._computeTitleHeight();d=m?{x:qp(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:qp(i,this.top+y+c,this.bottom-e[0].height),line:0},ay(this.ctx,t.textDirection);const v=p+c;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const _=r.measureText(b.text).width,x=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),S=f+h+_;let E=d.x,k=d.y;a.setWidth(this.width),m?w>0&&E+S+c>this.right&&(k=d.y+=v,d.line++,E=d.x=qp(i,this.left+c,this.right-n[d.line])):w>0&&k+v>this.bottom&&(E=d.x=E+e[d.line].width+c,d.line++,k=d.y=qp(i,this.top+y+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(g)||g<0)return;r.save();const i=Jg(n.lineWidth,1);if(r.fillStyle=Jg(n.fillStyle,o),r.lineCap=Jg(n.lineCap,"butt"),r.lineDashOffset=Jg(n.lineDashOffset,0),r.lineJoin=Jg(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Jg(n.strokeStyle,o),r.setLineDash(Jg(n.lineDash,[])),s.usePointStyle){const o={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(t,f/2);mm(r,o,l,e+h,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-g)/2,0),o=a.leftForLtr(t,f),l=Om(n.borderRadius);r.beginPath(),Object.values(l).some((t=>0!==t))?Sm(r,{x:o,y:s,w:f,h:g,radius:l}):r.rect(o,s,f,g),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(E),k,b),E=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(x,E+f+h,m?E+S:this.right,t.rtl),function(t,e,n){xm(r,n.text,t,e+p/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(E),k,b),m)d.x+=S+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=hb(b,t)+c}else d.y+=v})),ly(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Am(e.font),r=Mm(e.padding);if(!e.display)return;const i=oy(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=r.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=qp(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+qp(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=qp(o,u,u+h);s.textAlign=i.textAlign(Wp(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,xm(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Am(t.font),n=Mm(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(Lp(t,this.left,this.right)&&Lp(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Lp(t,r.left,r.left+r.width)&&Lp(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,i=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(r,n);r&&!i&&tp(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!i&&tp(e.onHover,[t,n,this],this)}else n&&tp(e.onClick,[t,n,this],this)}}function hb(t,e){return e*(t.text?t.text.length:0)}var db={id:"legend",_element:ub,start(t,e,n){const r=t.legend=new ub({ctx:t.ctx,options:n,chart:t});Xy.configure(t,r,n),Xy.addBox(t,r)},stop(t){Xy.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Xy.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=Mm(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};new WeakMap;const fb={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r.add(t.x),i+=t.y,++s}}if(0===s||0===r.size)return!1;const o=[...r].reduce(((t,e)=>t+e))/r.size;return{x:o,y:i/s}},nearest(t,e){if(!t.length)return!1;let n,r,i,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=Ap(e,r.getCenterPoint());t<a&&(a=t,i=r)}}if(i){const t=i.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function gb(t,e){return e&&(Qg(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function pb(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function mb(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function yb(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Am(e.bodyFont),c=Am(e.titleFont),u=Am(e.footerFont),h=s.length,d=i.length,f=r.length,g=Mm(e.padding);let p=g.height,m=0,y=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){p+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(p+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const b=function(t){m=Math.max(m,n.measureText(t).width+v)};return n.save(),n.font=c.string,ep(t.title,b),n.font=l.string,ep(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?o+2+e.boxPadding:0,ep(r,(t=>{ep(t.before,b),ep(t.lines,b),ep(t.after,b)})),v=0,n.font=u.string,ep(t.footer,b),n.restore(),m+=g.width,{width:m,height:p}}function vb(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),function(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===t&&i+s+o>e.width||"right"===t&&i-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function bb(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||vb(t,e,n,r),yAlign:r}}function wb(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Om(o);let g=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,a);const p=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,l,c);return"center"===l?"left"===a?g+=c:"right"===a&&(g-=c):"left"===a?g-=Math.max(u,d)+i:"right"===a&&(g+=Math.max(h,f)+i),{x:Rp(g,0,r.width-e.width),y:Rp(p,0,r.height-e.height)}}function _b(t,e,n){const r=Mm(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function xb(t){return gb([],pb(t))}function Sb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Eb={beforeTitle:Wg,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Wg,beforeBody:Wg,beforeLabel:Wg,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Kg(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Wg,afterBody:Wg,beforeFooter:Wg,footer:Wg,afterFooter:Wg};function kb(t,e,n,r){const i=t[e].call(n,r);return"undefined"===typeof i?Eb[e].call(n,r):i}class Tb extends pv{static positioners=(()=>fb)();constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new gy(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Pm(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=kb(n,"beforeTitle",this,t),i=kb(n,"title",this,t),s=kb(n,"afterTitle",this,t);let o=[];return o=gb(o,pb(r)),o=gb(o,pb(i)),o=gb(o,pb(s)),o}getBeforeBody(t,e){return xb(kb(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return ep(t,(t=>{const e={before:[],lines:[],after:[]},i=Sb(n,t);gb(e.before,pb(kb(i,"beforeLabel",this,t))),gb(e.lines,kb(i,"label",this,t)),gb(e.after,pb(kb(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return xb(kb(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=kb(n,"beforeFooter",this,t),i=kb(n,"footer",this,t),s=kb(n,"afterFooter",this,t);let o=[];return o=gb(o,pb(r)),o=gb(o,pb(i)),o=gb(o,pb(s)),o}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(mb(this.chart,e[o]));return t.filter&&(l=l.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(l=l.sort(((e,r)=>t.itemSort(e,r,n)))),ep(l,(e=>{const n=Sb(t.callbacks,e);r.push(kb(n,"labelColor",this,e)),i.push(kb(n,"labelPointStyle",this,e)),s.push(kb(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const t=fb[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=yb(this,n),o=Object.assign({},t,e),a=bb(this.chart,n,o),l=wb(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Om(o),{x:h,y:d}=t,{width:f,height:g}=e;let p,m,y,v,b,w;return"center"===i?(b=d+g/2,"left"===r?(p=h,m=p-s,v=b+s,w=b-s):(p=h+f,m=p+s,v=b-s,w=b+s),y=p):(m="left"===r?h+Math.max(a,c)+s:"right"===r?h+f-Math.max(l,u)-s:this.caretX,"top"===i?(v=d,b=v-s,p=m-s,y=m+s):(v=d+g,b=v+s,p=m+s,y=m-s),w=v),{x1:p,x2:m,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const r=this.title,i=r.length;let s,o,a;if(i){const l=oy(n.rtl,this.x,this.width);for(t.x=_b(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=Am(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<i;++a)e.fillText(r[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,c=Am(i.bodyFont),u=_b(this,"left",i),h=r.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(i.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,pm(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,pm(t,e,n,c)}else{t.lineWidth=Gg(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),o=Om(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Sm(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Sm(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Am(n.bodyFont);let h=u.lineHeight,d=0;const f=oy(n.rtl,this.x,this.width),g=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+i},p=f.textAlign(s);let m,y,v,b,w,_,x;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=_b(this,p,n),e.fillStyle=n.bodyColor,ep(this.beforeBody,g),d=o&&"right"!==p?"center"===s?l/2+c:l+2+c:0,b=0,_=r.length;b<_;++b){for(m=r[b],y=this.labelTextColors[b],e.fillStyle=y,ep(m.before,g),v=m.lines,o&&v.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),w=0,x=v.length;w<x;++w)g(v[w]),h=u.lineHeight;ep(m.after,g)}d=0,h=u.lineHeight,ep(this.afterBody,g),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let s,o;if(i){const a=oy(n.rtl,this.x,this.width);for(t.x=_b(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=Am(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<i;++o)e.fillText(r[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Om(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=fb[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=yb(this,t),o=Object.assign({},n,this._size),a=bb(e,t,o),l=wb(t,o,a,e);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Mm(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),ay(t,e.textDirection),i.y+=s.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),ly(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[n],index:n}})),i=!np(n,r),s=this._positionChanged(r,e);(i||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(t,i,e,n),o=this._positionChanged(s,t),a=e||!np(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const s=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,s=fb[i.position].call(this,t,e);return!1!==s&&(n!==s.x||r!==s.y)}}var Cb={id:"tooltip",_element:Tb,positioners:fb,afterInit(t,e,n){n&&(t.tooltip=new Tb({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Eb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Ib(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function Db(t,e){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=i||1,f=c-1,{min:g,max:p}=e,m=!Kg(s),y=!Kg(o),v=!Kg(l),b=(p-g)/(u+1);let w,_,x,S,E=kp((p-g)/f/d)*d;if(E<1e-14&&!m&&!y)return[{value:g},{value:p}];S=Math.ceil(p/E)-Math.floor(g/E),S>f&&(E=kp(S*E/f/d)*d),Kg(a)||(w=Math.pow(10,a),E=Math.ceil(E*w)/w),"ticks"===r?(_=Math.floor(g/E)*E,x=Math.ceil(p/E)*E):(_=g,x=p),m&&y&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/i,E/1e3)?(S=Math.round(Math.min((o-s)/E,c)),E=(o-s)/S,_=s,x=o):v?(_=m?s:_,x=y?o:x,S=l-1,E=(x-_)/S):(S=(x-_)/E,S=Ep(S,Math.round(S),E/1e3)?Math.round(S):Math.ceil(S));const k=Math.max(Op(E),Op(_));w=Math.pow(10,Kg(a)?k:a),_=Math.round(_*w)/w,x=Math.round(x*w)/w;let T=0;for(m&&(h&&_!==s?(n.push({value:s}),_<s&&T++,Ep(Math.round((_+T*E)*w)/w,s,Ob(s,b,t))&&T++):_<s&&T++);T<S;++T){const t=Math.round((_+T*E)*w)/w;if(y&&t>o)break;n.push({value:t})}return y&&h&&x!==o?n.length&&Ep(n[n.length-1].value,o,Ob(o,b,t))?n[n.length-1].value=o:n.push({value:o}):y&&x!==o||n.push({value:x}),n}function Ob(t,e,n){let{horizontal:r,minRotation:i}=n;const s=Ip(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class Mb extends kv{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Kg(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=t=>r=e?r:t,o=t=>i=n?i:t;if(t){const t=Sp(r),e=Sp(i);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);o(i+e),t||s(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Db({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Cp(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return rm(t,this.chart.options.locale,this.options.ticks.format)}}sm.formatters.numeric;sm.formatters.logarithmic;sm.formatters.numeric;const Ab={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nb=Object.keys(Ab);function Pb(t,e){return t-e}function Rb(t,e){if(Kg(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof r&&(o=r(o)),Yg(o)||(o="string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!Tp(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function Lb(t,e,n,r){const i=Nb.length;for(let s=Nb.indexOf(t);s<i-1;++s){const t=Ab[Nb[s]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return Nb[s]}return Nb[i-1]}function Fb(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=Fp(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function zb(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}(t,r,i,n):r}class Vb extends kv{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),r=this._adapter=new My(t.adapters.date);r.init(e),ap(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Rb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(r=Math.min(r,t.min)),o||isNaN(t.max)||(i=Math.max(i,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),r=Yg(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=Yg(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?Lb(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let s=Nb.length-1;s>=Nb.indexOf(n);s--){const n=Nb[s];if(Ab[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return Nb[n?Nb.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=Nb.indexOf(t)+1,n=Nb.length;e<n;++e)if(Ab[Nb[e]].common)return Nb[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&s.reverse(),zb(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),r=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),i=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Rp(r,0,s),i=Rp(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||Lb(i.minUnit,e,n,this._getLabelCapacity(e)),o=Jg(r.ticks.stepSize,1),a="week"===s&&i.isoWeekday,l=Tp(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)Fb(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||Fb(c,u,f),Object.keys(c).sort(Pb).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,i=e||n[r];return this._adapter.format(t,i)}_tickFormatFunction(t,e,n,r){const i=this.options,s=i.ticks.callback;if(s)return tp(s,[t,e,n],this);const o=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,r||(d?u:c))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=Ip(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,zb(this,[t],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(Rb(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Bp(t.sort(Pb))}}const jb="label";function Ub(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function Bb(t,e){t.labels=e}function Hb(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jb;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function $b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jb;const n={labels:[],datasets:[]};return Bb(n,t.labels),Hb(n,t.datasets,e),n}function Wb(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,g=(0,i.useRef)(null),p=(0,i.useRef)(null),m=()=>{g.current&&(p.current=new nb(g.current,{type:a,data:$b(l,o),options:c&&{...c},plugins:u}),Ub(e,p.current))},y=()=>{Ub(e,null),p.current&&(p.current.destroy(),p.current=null)};return(0,i.useEffect)((()=>{!s&&p.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(p.current,c)}),[s,c]),(0,i.useEffect)((()=>{!s&&p.current&&Bb(p.current.config.data,l.labels)}),[s,l.labels]),(0,i.useEffect)((()=>{!s&&p.current&&l.datasets&&Hb(p.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,i.useEffect)((()=>{p.current&&(s?(y(),setTimeout(m)):p.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,i.useEffect)((()=>{p.current&&(y(),setTimeout(m))}),[a]),(0,i.useEffect)((()=>(m(),()=>y())),[]),i.createElement("canvas",{ref:g,role:"img",height:n,width:r,...f},h)}const qb=(0,i.forwardRef)(Wb);function Kb(t,e){return nb.register(e),(0,i.forwardRef)(((e,n)=>i.createElement(qb,{...e,ref:n,type:t})))}const Qb=Kb("pie",Iy);nb.register(lb,Cb,db);const Gb=t=>{let{totalTasks:e,completedTasks:n,remainingTasks:r}=t;const i={labels:["Completed","Remaining","Total Added"],datasets:[{data:[n,r,e],backgroundColor:["#34c759","#ea4335","#4285f4"],borderWidth:1}]};return(0,o.jsx)("div",{className:"task-visualization",children:(0,o.jsx)(Qb,{data:i,options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Task Progress Visualization"}}}})})};const Yb=function(){const[t,e]=(0,i.useState)([]),[n,r]=(0,i.useState)([]);(0,i.useEffect)((()=>{const t=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,s,o;t=le(t);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Bd(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Bd(n[l])){const t=n[l];n[l]=null===(i=t.next)||void 0===i?void 0:i.bind(t),n[l+1]=null===(s=t.error)||void 0===s?void 0:s.bind(t),n[l+2]=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}let u,h,d;if(t instanceof Ld)h=Dd(t.firestore,Hd),d=va(t._key.path),u={next:e=>{n[l]&&n[l](Af(h,t,e))},error:n[l+1],complete:n[l+2]};else{const e=Dd(t,Rd);h=Dd(e.firestore,Hd),d=e._query;const r=new Df(h);u={next:t=>{n[l]&&n[l](new Cf(h,r,e,t))},error:n[l+1],complete:n[l+2]},_f(t._query)}return function(t,e,n,r){const i=new fd(r),s=new Nh(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>Th(await _d(t),s))),()=>{i.su(),t.asyncQueue.enqueueAndForget((async()=>Ch(await _d(t),s)))}}($d(h),d,c,u)}(zd(Pf,"tasks"),(t=>{const n=t.docs.map((t=>({id:t.id,...t.data()})));e(n)}));return()=>t()}),[]);const s=t.length,a=n.filter((t=>t.completed)).length,l=n.filter((t=>!t.completed)).length;return(0,o.jsx)(bt,{backend:Ut,children:(0,o.jsxs)("div",{className:"app-wrapper",children:[(0,o.jsx)("nav",{className:"navbar",children:(0,o.jsx)("h1",{children:"Task Bar"})}),(0,o.jsxs)("div",{className:"app-container",children:[(0,o.jsxs)("div",{className:"left-sidebar",children:[(0,o.jsx)(Rf,{}),(0,o.jsx)("div",{className:"tasks-list",children:t.map((t=>(0,o.jsx)(ng,{task:t,isInDaily:n.some((e=>e.id===t.id))},t.id)))})]}),(0,o.jsxs)("div",{className:"main-content",children:[(0,o.jsx)(ug,{tasks:n,setTasks:r}),(0,o.jsx)(hg,{tasks:n}),(0,o.jsx)(Gb,{totalTasks:s,completedTasks:a,remainingTasks:l})]})]})]})})};s.render((0,o.jsx)(i.StrictMode,{children:(0,o.jsx)(Yb,{})}),document.getElementById("root"))})();
//# sourceMappingURL=main.82c88c85.js.map